/*! For license information please see main.6cd4dbb1.js.LICENSE.txt */
(()=>{"use strict";var e={730:(e,t,n)=>{var r=n(43),i=n(853);function s(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=new Set,o={};function l(e,t){u(e,t),u(e+"Capture",t)}function u(e,t){for(o[e]=t,e=0;e<t.length;e++)a.add(t[e])}var c=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),h=Object.prototype.hasOwnProperty,d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},p={};function m(e,t,n,r,i,s,a){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=a}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){g[e]=new m(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];g[t]=new m(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){g[e]=new m(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){g[e]=new m(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){g[e]=new m(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){g[e]=new m(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){g[e]=new m(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){g[e]=new m(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){g[e]=new m(e,5,!1,e.toLowerCase(),null,!1,!1)}));var y=/[\-:]([a-z])/g;function v(e){return e[1].toUpperCase()}function b(e,t,n,r){var i=g.hasOwnProperty(t)?g[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!h.call(p,e)||!h.call(f,e)&&(d.test(e)?p[e]=!0:(f[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(y,v);g[t]=new m(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(y,v);g[t]=new m(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(y,v);g[t]=new m(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!1,!1)})),g.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!0,!0)}));var w=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,_=Symbol.for("react.element"),E=Symbol.for("react.portal"),k=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),T=Symbol.for("react.profiler"),I=Symbol.for("react.provider"),C=Symbol.for("react.context"),x=Symbol.for("react.forward_ref"),N=Symbol.for("react.suspense"),A=Symbol.for("react.suspense_list"),P=Symbol.for("react.memo"),O=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var D=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var R=Symbol.iterator;function L(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=R&&e[R]||e["@@iterator"])?e:null}var M,j=Object.assign;function F(e){if(void 0===M)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);M=t&&t[1]||""}return"\n"+M+e}var U=!1;function V(e,t){if(!e||U)return"";U=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&"string"===typeof u.stack){for(var i=u.stack.split("\n"),s=r.stack.split("\n"),a=i.length-1,o=s.length-1;1<=a&&0<=o&&i[a]!==s[o];)o--;for(;1<=a&&0<=o;a--,o--)if(i[a]!==s[o]){if(1!==a||1!==o)do{if(a--,0>--o||i[a]!==s[o]){var l="\n"+i[a].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=a&&0<=o);break}}}finally{U=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?F(e):""}function B(e){switch(e.tag){case 5:return F(e.type);case 16:return F("Lazy");case 13:return F("Suspense");case 19:return F("SuspenseList");case 0:case 2:case 15:return e=V(e.type,!1);case 11:return e=V(e.type.render,!1);case 1:return e=V(e.type,!0);default:return""}}function z(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case k:return"Fragment";case E:return"Portal";case T:return"Profiler";case S:return"StrictMode";case N:return"Suspense";case A:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case C:return(e.displayName||"Context")+".Consumer";case I:return(e._context.displayName||"Context")+".Provider";case x:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case P:return null!==(t=e.displayName||null)?t:z(e.type)||"Memo";case O:t=e._payload,e=e._init;try{return z(e(t))}catch(n){}}return null}function K(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return z(t);case 8:return t===S?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function H(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function q(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function W(e){e._valueTracker||(e._valueTracker=function(e){var t=q(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,s.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function G(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=q(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Q(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function X(e,t){var n=t.checked;return j({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function J(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=H(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function $(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function Y(e,t){$(e,t);var n=H(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,H(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&Q(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+H(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(s(91));return j({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(s(92));if(te(n)){if(1<n.length)throw Error(s(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:H(n)}}function se(e,t){var n=H(t.value),r=H(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function ae(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function oe(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function le(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?oe(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ue,ce,he=(ce=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ue=ue||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ue.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return ce(e,t)}))}:ce);function de(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var fe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function me(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||fe.hasOwnProperty(e)&&fe[e]?(""+t).trim():t+"px"}function ge(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=me(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(fe).forEach((function(e){pe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),fe[t]=fe[e]}))}));var ye=j({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ve(e,t){if(t){if(ye[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(s(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(s(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(s(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(s(62))}}function be(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var we=null;function _e(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Ee=null,ke=null,Se=null;function Te(e){if(e=bi(e)){if("function"!==typeof Ee)throw Error(s(280));var t=e.stateNode;t&&(t=_i(t),Ee(e.stateNode,e.type,t))}}function Ie(e){ke?Se?Se.push(e):Se=[e]:ke=e}function Ce(){if(ke){var e=ke,t=Se;if(Se=ke=null,Te(e),t)for(e=0;e<t.length;e++)Te(t[e])}}function xe(e,t){return e(t)}function Ne(){}var Ae=!1;function Pe(e,t,n){if(Ae)return e(t,n);Ae=!0;try{return xe(e,t,n)}finally{Ae=!1,(null!==ke||null!==Se)&&(Ne(),Ce())}}function Oe(e,t){var n=e.stateNode;if(null===n)return null;var r=_i(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(s(231,t,typeof n));return n}var De=!1;if(c)try{var Re={};Object.defineProperty(Re,"passive",{get:function(){De=!0}}),window.addEventListener("test",Re,Re),window.removeEventListener("test",Re,Re)}catch(ce){De=!1}function Le(e,t,n,r,i,s,a,o,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(c){this.onError(c)}}var Me=!1,je=null,Fe=!1,Ue=null,Ve={onError:function(e){Me=!0,je=e}};function Be(e,t,n,r,i,s,a,o,l){Me=!1,je=null,Le.apply(Ve,arguments)}function ze(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function Ke(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function He(e){if(ze(e)!==e)throw Error(s(188))}function qe(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=ze(e)))throw Error(s(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var a=i.alternate;if(null===a){if(null!==(r=i.return)){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return He(i),e;if(a===r)return He(i),t;a=a.sibling}throw Error(s(188))}if(n.return!==r.return)n=i,r=a;else{for(var o=!1,l=i.child;l;){if(l===n){o=!0,n=i,r=a;break}if(l===r){o=!0,r=i,n=a;break}l=l.sibling}if(!o){for(l=a.child;l;){if(l===n){o=!0,n=a,r=i;break}if(l===r){o=!0,r=a,n=i;break}l=l.sibling}if(!o)throw Error(s(189))}}if(n.alternate!==r)throw Error(s(190))}if(3!==n.tag)throw Error(s(188));return n.stateNode.current===n?e:t}(e))?We(e):null}function We(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=We(e);if(null!==t)return t;e=e.sibling}return null}var Ge=i.unstable_scheduleCallback,Qe=i.unstable_cancelCallback,Xe=i.unstable_shouldYield,Je=i.unstable_requestPaint,$e=i.unstable_now,Ye=i.unstable_getCurrentPriorityLevel,Ze=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,st=null;var at=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(ot(e)/lt|0)|0},ot=Math.log,lt=Math.LN2;var ut=64,ct=4194304;function ht(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function dt(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,s=e.pingedLanes,a=268435455&n;if(0!==a){var o=a&~i;0!==o?r=ht(o):0!==(s&=a)&&(r=ht(s))}else 0!==(a=n&~i)?r=ht(a):0!==s&&(r=ht(s));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(s=t&-t)||16===i&&0!==(4194240&s)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-at(t)),r|=e[n],t&=~i;return r}function ft(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function mt(){var e=ut;return 0===(4194240&(ut<<=1))&&(ut=64),e}function gt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function yt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-at(t)]=n}function vt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-at(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var bt=0;function wt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var _t,Et,kt,St,Tt,It=!1,Ct=[],xt=null,Nt=null,At=null,Pt=new Map,Ot=new Map,Dt=[],Rt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Lt(e,t){switch(e){case"focusin":case"focusout":xt=null;break;case"dragenter":case"dragleave":Nt=null;break;case"mouseover":case"mouseout":At=null;break;case"pointerover":case"pointerout":Pt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ot.delete(t.pointerId)}}function Mt(e,t,n,r,i,s){return null===e||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},null!==t&&(null!==(t=bi(t))&&Et(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function jt(e){var t=vi(e.target);if(null!==t){var n=ze(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=Ke(n)))return e.blockedOn=t,void Tt(e.priority,(function(){kt(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Ft(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Xt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=bi(n))&&Et(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);we=r,n.target.dispatchEvent(r),we=null,t.shift()}return!0}function Ut(e,t,n){Ft(e)&&n.delete(t)}function Vt(){It=!1,null!==xt&&Ft(xt)&&(xt=null),null!==Nt&&Ft(Nt)&&(Nt=null),null!==At&&Ft(At)&&(At=null),Pt.forEach(Ut),Ot.forEach(Ut)}function Bt(e,t){e.blockedOn===t&&(e.blockedOn=null,It||(It=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Vt)))}function zt(e){function t(t){return Bt(t,e)}if(0<Ct.length){Bt(Ct[0],e);for(var n=1;n<Ct.length;n++){var r=Ct[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==xt&&Bt(xt,e),null!==Nt&&Bt(Nt,e),null!==At&&Bt(At,e),Pt.forEach(t),Ot.forEach(t),n=0;n<Dt.length;n++)(r=Dt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Dt.length&&null===(n=Dt[0]).blockedOn;)jt(n),null===n.blockedOn&&Dt.shift()}var Kt=w.ReactCurrentBatchConfig,Ht=!0;function qt(e,t,n,r){var i=bt,s=Kt.transition;Kt.transition=null;try{bt=1,Gt(e,t,n,r)}finally{bt=i,Kt.transition=s}}function Wt(e,t,n,r){var i=bt,s=Kt.transition;Kt.transition=null;try{bt=4,Gt(e,t,n,r)}finally{bt=i,Kt.transition=s}}function Gt(e,t,n,r){if(Ht){var i=Xt(e,t,n,r);if(null===i)Hr(e,t,r,Qt,n),Lt(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return xt=Mt(xt,e,t,n,r,i),!0;case"dragenter":return Nt=Mt(Nt,e,t,n,r,i),!0;case"mouseover":return At=Mt(At,e,t,n,r,i),!0;case"pointerover":var s=i.pointerId;return Pt.set(s,Mt(Pt.get(s)||null,e,t,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Ot.set(s,Mt(Ot.get(s)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Lt(e,r),4&t&&-1<Rt.indexOf(e)){for(;null!==i;){var s=bi(i);if(null!==s&&_t(s),null===(s=Xt(e,t,n,r))&&Hr(e,t,r,Qt,n),s===i)break;i=s}null!==i&&r.stopPropagation()}else Hr(e,t,r,null,n)}}var Qt=null;function Xt(e,t,n,r){if(Qt=null,null!==(e=vi(e=_e(r))))if(null===(t=ze(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=Ke(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Qt=e,null}function Jt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Ye()){case Ze:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var $t=null,Yt=null,Zt=null;function en(){if(Zt)return Zt;var e,t,n=Yt,r=n.length,i="value"in $t?$t.value:$t.textContent,s=i.length;for(e=0;e<r&&n[e]===i[e];e++);var a=r-e;for(t=1;t<=a&&n[r-t]===i[s-t];t++);return Zt=i.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function sn(e){function t(t,n,r,i,s){for(var a in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=s,this.currentTarget=null,e)e.hasOwnProperty(a)&&(t=e[a],this[a]=t?t(i):i[a]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return j(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var an,on,ln,un={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},cn=sn(un),hn=j({},un,{view:0,detail:0}),dn=sn(hn),fn=j({},hn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Tn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ln&&(ln&&"mousemove"===e.type?(an=e.screenX-ln.screenX,on=e.screenY-ln.screenY):on=an=0,ln=e),an)},movementY:function(e){return"movementY"in e?e.movementY:on}}),pn=sn(fn),mn=sn(j({},fn,{dataTransfer:0})),gn=sn(j({},hn,{relatedTarget:0})),yn=sn(j({},un,{animationName:0,elapsedTime:0,pseudoElement:0})),vn=j({},un,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),bn=sn(vn),wn=sn(j({},un,{data:0})),_n={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},En={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},kn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Sn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=kn[e])&&!!t[e]}function Tn(){return Sn}var In=j({},hn,{key:function(e){if(e.key){var t=_n[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?En[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Tn,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Cn=sn(In),xn=sn(j({},fn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Nn=sn(j({},hn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Tn})),An=sn(j({},un,{propertyName:0,elapsedTime:0,pseudoElement:0})),Pn=j({},fn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),On=sn(Pn),Dn=[9,13,27,32],Rn=c&&"CompositionEvent"in window,Ln=null;c&&"documentMode"in document&&(Ln=document.documentMode);var Mn=c&&"TextEvent"in window&&!Ln,jn=c&&(!Rn||Ln&&8<Ln&&11>=Ln),Fn=String.fromCharCode(32),Un=!1;function Vn(e,t){switch(e){case"keyup":return-1!==Dn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Bn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var zn=!1;var Kn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Hn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Kn[e.type]:"textarea"===t}function qn(e,t,n,r){Ie(r),0<(t=Wr(t,"onChange")).length&&(n=new cn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Wn=null,Gn=null;function Qn(e){Fr(e,0)}function Xn(e){if(G(wi(e)))return e}function Jn(e,t){if("change"===e)return t}var $n=!1;if(c){var Yn;if(c){var Zn="oninput"in document;if(!Zn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Zn="function"===typeof er.oninput}Yn=Zn}else Yn=!1;$n=Yn&&(!document.documentMode||9<document.documentMode)}function tr(){Wn&&(Wn.detachEvent("onpropertychange",nr),Gn=Wn=null)}function nr(e){if("value"===e.propertyName&&Xn(Gn)){var t=[];qn(t,Gn,e,_e(e)),Pe(Qn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Gn=n,(Wn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Xn(Gn)}function sr(e,t){if("click"===e)return Xn(t)}function ar(e,t){if("input"===e||"change"===e)return Xn(t)}var or="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function lr(e,t){if(or(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!h.call(t,i)||!or(e[i],t[i]))return!1}return!0}function ur(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function cr(e,t){var n,r=ur(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=ur(r)}}function hr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?hr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function dr(){for(var e=window,t=Q();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=Q((e=t.contentWindow).document)}return t}function fr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pr(e){var t=dr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&hr(n.ownerDocument.documentElement,n)){if(null!==r&&fr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=void 0===r.end?s:Math.min(r.end,i),!e.extend&&s>r&&(i=r,r=s,s=i),i=cr(n,s);var a=cr(n,r);i&&a&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),s>r?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var mr=c&&"documentMode"in document&&11>=document.documentMode,gr=null,yr=null,vr=null,br=!1;function wr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;br||null==gr||gr!==Q(r)||("selectionStart"in(r=gr)&&fr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},vr&&lr(vr,r)||(vr=r,0<(r=Wr(yr,"onSelect")).length&&(t=new cn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=gr)))}function _r(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Er={animationend:_r("Animation","AnimationEnd"),animationiteration:_r("Animation","AnimationIteration"),animationstart:_r("Animation","AnimationStart"),transitionend:_r("Transition","TransitionEnd")},kr={},Sr={};function Tr(e){if(kr[e])return kr[e];if(!Er[e])return e;var t,n=Er[e];for(t in n)if(n.hasOwnProperty(t)&&t in Sr)return kr[e]=n[t];return e}c&&(Sr=document.createElement("div").style,"AnimationEvent"in window||(delete Er.animationend.animation,delete Er.animationiteration.animation,delete Er.animationstart.animation),"TransitionEvent"in window||delete Er.transitionend.transition);var Ir=Tr("animationend"),Cr=Tr("animationiteration"),xr=Tr("animationstart"),Nr=Tr("transitionend"),Ar=new Map,Pr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Or(e,t){Ar.set(e,t),l(t,[e])}for(var Dr=0;Dr<Pr.length;Dr++){var Rr=Pr[Dr];Or(Rr.toLowerCase(),"on"+(Rr[0].toUpperCase()+Rr.slice(1)))}Or(Ir,"onAnimationEnd"),Or(Cr,"onAnimationIteration"),Or(xr,"onAnimationStart"),Or("dblclick","onDoubleClick"),Or("focusin","onFocus"),Or("focusout","onBlur"),Or(Nr,"onTransitionEnd"),u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Lr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Mr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Lr));function jr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,a,o,l,u){if(Be.apply(this,arguments),Me){if(!Me)throw Error(s(198));var c=je;Me=!1,je=null,Fe||(Fe=!0,Ue=c)}}(r,t,void 0,e),e.currentTarget=null}function Fr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var a=r.length-1;0<=a;a--){var o=r[a],l=o.instance,u=o.currentTarget;if(o=o.listener,l!==s&&i.isPropagationStopped())break e;jr(i,o,u),s=l}else for(a=0;a<r.length;a++){if(l=(o=r[a]).instance,u=o.currentTarget,o=o.listener,l!==s&&i.isPropagationStopped())break e;jr(i,o,u),s=l}}}if(Fe)throw e=Ue,Fe=!1,Ue=null,e}function Ur(e,t){var n=t[mi];void 0===n&&(n=t[mi]=new Set);var r=e+"__bubble";n.has(r)||(Kr(t,e,2,!1),n.add(r))}function Vr(e,t,n){var r=0;t&&(r|=4),Kr(n,e,r,t)}var Br="_reactListening"+Math.random().toString(36).slice(2);function zr(e){if(!e[Br]){e[Br]=!0,a.forEach((function(t){"selectionchange"!==t&&(Mr.has(t)||Vr(t,!1,e),Vr(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Br]||(t[Br]=!0,Vr("selectionchange",!1,t))}}function Kr(e,t,n,r){switch(Jt(t)){case 1:var i=qt;break;case 4:i=Wt;break;default:i=Gt}n=i.bind(null,t,n,e),i=void 0,!De||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Hr(e,t,n,r,i){var s=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var a=r.tag;if(3===a||4===a){var o=r.stateNode.containerInfo;if(o===i||8===o.nodeType&&o.parentNode===i)break;if(4===a)for(a=r.return;null!==a;){var l=a.tag;if((3===l||4===l)&&((l=a.stateNode.containerInfo)===i||8===l.nodeType&&l.parentNode===i))return;a=a.return}for(;null!==o;){if(null===(a=vi(o)))return;if(5===(l=a.tag)||6===l){r=s=a;continue e}o=o.parentNode}}r=r.return}Pe((function(){var r=s,i=_e(n),a=[];e:{var o=Ar.get(e);if(void 0!==o){var l=cn,u=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":l=Cn;break;case"focusin":u="focus",l=gn;break;case"focusout":u="blur",l=gn;break;case"beforeblur":case"afterblur":l=gn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=mn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=Nn;break;case Ir:case Cr:case xr:l=yn;break;case Nr:l=An;break;case"scroll":l=dn;break;case"wheel":l=On;break;case"copy":case"cut":case"paste":l=bn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=xn}var c=0!==(4&t),h=!c&&"scroll"===e,d=c?null!==o?o+"Capture":null:o;c=[];for(var f,p=r;null!==p;){var m=(f=p).stateNode;if(5===f.tag&&null!==m&&(f=m,null!==d&&(null!=(m=Oe(p,d))&&c.push(qr(p,m,f)))),h)break;p=p.return}0<c.length&&(o=new l(o,u,null,n,i),a.push({event:o,listeners:c}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(o="mouseover"===e||"pointerover"===e)||n===we||!(u=n.relatedTarget||n.fromElement)||!vi(u)&&!u[pi])&&(l||o)&&(o=i.window===i?i:(o=i.ownerDocument)?o.defaultView||o.parentWindow:window,l?(l=r,null!==(u=(u=n.relatedTarget||n.toElement)?vi(u):null)&&(u!==(h=ze(u))||5!==u.tag&&6!==u.tag)&&(u=null)):(l=null,u=r),l!==u)){if(c=pn,m="onMouseLeave",d="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(c=xn,m="onPointerLeave",d="onPointerEnter",p="pointer"),h=null==l?o:wi(l),f=null==u?o:wi(u),(o=new c(m,p+"leave",l,n,i)).target=h,o.relatedTarget=f,m=null,vi(i)===r&&((c=new c(d,p+"enter",u,n,i)).target=f,c.relatedTarget=h,m=c),h=m,l&&u)e:{for(d=u,p=0,f=c=l;f;f=Gr(f))p++;for(f=0,m=d;m;m=Gr(m))f++;for(;0<p-f;)c=Gr(c),p--;for(;0<f-p;)d=Gr(d),f--;for(;p--;){if(c===d||null!==d&&c===d.alternate)break e;c=Gr(c),d=Gr(d)}c=null}else c=null;null!==l&&Qr(a,o,l,c,!1),null!==u&&null!==h&&Qr(a,h,u,c,!0)}if("select"===(l=(o=r?wi(r):window).nodeName&&o.nodeName.toLowerCase())||"input"===l&&"file"===o.type)var g=Jn;else if(Hn(o))if($n)g=ar;else{g=ir;var y=rr}else(l=o.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===o.type||"radio"===o.type)&&(g=sr);switch(g&&(g=g(e,r))?qn(a,g,n,i):(y&&y(e,o,r),"focusout"===e&&(y=o._wrapperState)&&y.controlled&&"number"===o.type&&ee(o,"number",o.value)),y=r?wi(r):window,e){case"focusin":(Hn(y)||"true"===y.contentEditable)&&(gr=y,yr=r,vr=null);break;case"focusout":vr=yr=gr=null;break;case"mousedown":br=!0;break;case"contextmenu":case"mouseup":case"dragend":br=!1,wr(a,n,i);break;case"selectionchange":if(mr)break;case"keydown":case"keyup":wr(a,n,i)}var v;if(Rn)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else zn?Vn(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(jn&&"ko"!==n.locale&&(zn||"onCompositionStart"!==b?"onCompositionEnd"===b&&zn&&(v=en()):(Yt="value"in($t=i)?$t.value:$t.textContent,zn=!0)),0<(y=Wr(r,b)).length&&(b=new wn(b,e,null,n,i),a.push({event:b,listeners:y}),v?b.data=v:null!==(v=Bn(n))&&(b.data=v))),(v=Mn?function(e,t){switch(e){case"compositionend":return Bn(t);case"keypress":return 32!==t.which?null:(Un=!0,Fn);case"textInput":return(e=t.data)===Fn&&Un?null:e;default:return null}}(e,n):function(e,t){if(zn)return"compositionend"===e||!Rn&&Vn(e,t)?(e=en(),Zt=Yt=$t=null,zn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return jn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Wr(r,"onBeforeInput")).length&&(i=new wn("onBeforeInput","beforeinput",null,n,i),a.push({event:i,listeners:r}),i.data=v))}Fr(a,t)}))}function qr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Wr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,s=i.stateNode;5===i.tag&&null!==s&&(i=s,null!=(s=Oe(e,n))&&r.unshift(qr(e,s,i)),null!=(s=Oe(e,t))&&r.push(qr(e,s,i))),e=e.return}return r}function Gr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Qr(e,t,n,r,i){for(var s=t._reactName,a=[];null!==n&&n!==r;){var o=n,l=o.alternate,u=o.stateNode;if(null!==l&&l===r)break;5===o.tag&&null!==u&&(o=u,i?null!=(l=Oe(n,s))&&a.unshift(qr(n,l,o)):i||null!=(l=Oe(n,s))&&a.push(qr(n,l,o))),n=n.return}0!==a.length&&e.push({event:t,listeners:a})}var Xr=/\r\n?/g,Jr=/\u0000|\uFFFD/g;function $r(e){return("string"===typeof e?e:""+e).replace(Xr,"\n").replace(Jr,"")}function Yr(e,t,n){if(t=$r(t),$r(e)!==t&&n)throw Error(s(425))}function Zr(){}var ei=null,ti=null;function ni(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ri="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,si="function"===typeof Promise?Promise:void 0,ai="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof si?function(e){return si.resolve(null).then(e).catch(oi)}:ri;function oi(e){setTimeout((function(){throw e}))}function li(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void zt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);zt(t)}function ui(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function ci(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var hi=Math.random().toString(36).slice(2),di="__reactFiber$"+hi,fi="__reactProps$"+hi,pi="__reactContainer$"+hi,mi="__reactEvents$"+hi,gi="__reactListeners$"+hi,yi="__reactHandles$"+hi;function vi(e){var t=e[di];if(t)return t;for(var n=e.parentNode;n;){if(t=n[pi]||n[di]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=ci(e);null!==e;){if(n=e[di])return n;e=ci(e)}return t}n=(e=n).parentNode}return null}function bi(e){return!(e=e[di]||e[pi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function wi(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(s(33))}function _i(e){return e[fi]||null}var Ei=[],ki=-1;function Si(e){return{current:e}}function Ti(e){0>ki||(e.current=Ei[ki],Ei[ki]=null,ki--)}function Ii(e,t){ki++,Ei[ki]=e.current,e.current=t}var Ci={},xi=Si(Ci),Ni=Si(!1),Ai=Ci;function Pi(e,t){var n=e.type.contextTypes;if(!n)return Ci;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,s={};for(i in n)s[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Oi(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Di(){Ti(Ni),Ti(xi)}function Ri(e,t,n){if(xi.current!==Ci)throw Error(s(168));Ii(xi,t),Ii(Ni,n)}function Li(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(s(108,K(e)||"Unknown",i));return j({},n,r)}function Mi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ci,Ai=xi.current,Ii(xi,e),Ii(Ni,Ni.current),!0}function ji(e,t,n){var r=e.stateNode;if(!r)throw Error(s(169));n?(e=Li(e,t,Ai),r.__reactInternalMemoizedMergedChildContext=e,Ti(Ni),Ti(xi),Ii(xi,e)):Ti(Ni),Ii(Ni,n)}var Fi=null,Ui=!1,Vi=!1;function Bi(e){null===Fi?Fi=[e]:Fi.push(e)}function zi(){if(!Vi&&null!==Fi){Vi=!0;var e=0,t=bt;try{var n=Fi;for(bt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Fi=null,Ui=!1}catch(i){throw null!==Fi&&(Fi=Fi.slice(e+1)),Ge(Ze,zi),i}finally{bt=t,Vi=!1}}return null}var Ki=[],Hi=0,qi=null,Wi=0,Gi=[],Qi=0,Xi=null,Ji=1,$i="";function Yi(e,t){Ki[Hi++]=Wi,Ki[Hi++]=qi,qi=e,Wi=t}function Zi(e,t,n){Gi[Qi++]=Ji,Gi[Qi++]=$i,Gi[Qi++]=Xi,Xi=e;var r=Ji;e=$i;var i=32-at(r)-1;r&=~(1<<i),n+=1;var s=32-at(t)+i;if(30<s){var a=i-i%5;s=(r&(1<<a)-1).toString(32),r>>=a,i-=a,Ji=1<<32-at(t)+i|n<<i|r,$i=s+e}else Ji=1<<s|n<<i|r,$i=e}function es(e){null!==e.return&&(Yi(e,1),Zi(e,1,0))}function ts(e){for(;e===qi;)qi=Ki[--Hi],Ki[Hi]=null,Wi=Ki[--Hi],Ki[Hi]=null;for(;e===Xi;)Xi=Gi[--Qi],Gi[Qi]=null,$i=Gi[--Qi],Gi[Qi]=null,Ji=Gi[--Qi],Gi[Qi]=null}var ns=null,rs=null,is=!1,ss=null;function as(e,t){var n=Ou(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function os(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,ns=e,rs=ui(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,ns=e,rs=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Xi?{id:Ji,overflow:$i}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Ou(18,null,null,0)).stateNode=t,n.return=e,e.child=n,ns=e,rs=null,!0);default:return!1}}function ls(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function us(e){if(is){var t=rs;if(t){var n=t;if(!os(e,t)){if(ls(e))throw Error(s(418));t=ui(n.nextSibling);var r=ns;t&&os(e,t)?as(r,n):(e.flags=-4097&e.flags|2,is=!1,ns=e)}}else{if(ls(e))throw Error(s(418));e.flags=-4097&e.flags|2,is=!1,ns=e}}}function cs(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;ns=e}function hs(e){if(e!==ns)return!1;if(!is)return cs(e),is=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ni(e.type,e.memoizedProps)),t&&(t=rs)){if(ls(e))throw ds(),Error(s(418));for(;t;)as(e,t),t=ui(t.nextSibling)}if(cs(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(s(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){rs=ui(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}rs=null}}else rs=ns?ui(e.stateNode.nextSibling):null;return!0}function ds(){for(var e=rs;e;)e=ui(e.nextSibling)}function fs(){rs=ns=null,is=!1}function ps(e){null===ss?ss=[e]:ss.push(e)}var ms=w.ReactCurrentBatchConfig;function gs(e,t){if(e&&e.defaultProps){for(var n in t=j({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var ys=Si(null),vs=null,bs=null,ws=null;function _s(){ws=bs=vs=null}function Es(e){var t=ys.current;Ti(ys),e._currentValue=t}function ks(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Ss(e,t){vs=e,ws=bs=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(wo=!0),e.firstContext=null)}function Ts(e){var t=e._currentValue;if(ws!==e)if(e={context:e,memoizedValue:t,next:null},null===bs){if(null===vs)throw Error(s(308));bs=e,vs.dependencies={lanes:0,firstContext:e}}else bs=bs.next=e;return t}var Is=null;function Cs(e){null===Is?Is=[e]:Is.push(e)}function xs(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,Cs(t)):(n.next=i.next,i.next=n),t.interleaved=n,Ns(e,r)}function Ns(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var As=!1;function Ps(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Os(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Ds(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Rs(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Nl)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Ns(e,n)}return null===(i=r.interleaved)?(t.next=t,Cs(r)):(t.next=i.next,i.next=t),r.interleaved=t,Ns(e,n)}function Ls(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,vt(e,n)}}function Ms(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,s=null;if(null!==(n=n.firstBaseUpdate)){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===s?i=s=a:s=s.next=a,n=n.next}while(null!==n);null===s?i=s=t:s=s.next=t}else i=s=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function js(e,t,n,r){var i=e.updateQueue;As=!1;var s=i.firstBaseUpdate,a=i.lastBaseUpdate,o=i.shared.pending;if(null!==o){i.shared.pending=null;var l=o,u=l.next;l.next=null,null===a?s=u:a.next=u,a=l;var c=e.alternate;null!==c&&((o=(c=c.updateQueue).lastBaseUpdate)!==a&&(null===o?c.firstBaseUpdate=u:o.next=u,c.lastBaseUpdate=l))}if(null!==s){var h=i.baseState;for(a=0,c=u=l=null,o=s;;){var d=o.lane,f=o.eventTime;if((r&d)===d){null!==c&&(c=c.next={eventTime:f,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var p=e,m=o;switch(d=t,f=n,m.tag){case 1:if("function"===typeof(p=m.payload)){h=p.call(f,h,d);break e}h=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(d="function"===typeof(p=m.payload)?p.call(f,h,d):p)||void 0===d)break e;h=j({},h,d);break e;case 2:As=!0}}null!==o.callback&&0!==o.lane&&(e.flags|=64,null===(d=i.effects)?i.effects=[o]:d.push(o))}else f={eventTime:f,lane:d,tag:o.tag,payload:o.payload,callback:o.callback,next:null},null===c?(u=c=f,l=h):c=c.next=f,a|=d;if(null===(o=o.next)){if(null===(o=i.shared.pending))break;o=(d=o).next,d.next=null,i.lastBaseUpdate=d,i.shared.pending=null}}if(null===c&&(l=h),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,null!==(t=i.shared.interleaved)){i=t;do{a|=i.lane,i=i.next}while(i!==t)}else null===s&&(i.shared.lanes=0);jl|=a,e.lanes=a,e.memoizedState=h}}function Fs(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(s(191,i));i.call(r)}}}var Us=(new r.Component).refs;function Vs(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:j({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var Bs={isMounted:function(e){return!!(e=e._reactInternals)&&ze(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=tu(),i=nu(e),s=Ds(r,i);s.payload=t,void 0!==n&&null!==n&&(s.callback=n),null!==(t=Rs(e,s,i))&&(ru(t,e,i,r),Ls(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=tu(),i=nu(e),s=Ds(r,i);s.tag=1,s.payload=t,void 0!==n&&null!==n&&(s.callback=n),null!==(t=Rs(e,s,i))&&(ru(t,e,i,r),Ls(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=tu(),r=nu(e),i=Ds(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=Rs(e,i,r))&&(ru(t,e,r,n),Ls(t,e,r))}};function zs(e,t,n,r,i,s,a){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,s,a):!t.prototype||!t.prototype.isPureReactComponent||(!lr(n,r)||!lr(i,s))}function Ks(e,t,n){var r=!1,i=Ci,s=t.contextType;return"object"===typeof s&&null!==s?s=Ts(s):(i=Oi(t)?Ai:xi.current,s=(r=null!==(r=t.contextTypes)&&void 0!==r)?Pi(e,i):Ci),t=new t(n,s),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=Bs,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=s),t}function Hs(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Bs.enqueueReplaceState(t,t.state,null)}function qs(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=Us,Ps(e);var s=t.contextType;"object"===typeof s&&null!==s?i.context=Ts(s):(s=Oi(t)?Ai:xi.current,i.context=Pi(e,s)),i.state=e.memoizedState,"function"===typeof(s=t.getDerivedStateFromProps)&&(Vs(e,t,s,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&Bs.enqueueReplaceState(i,i.state,null),js(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function Ws(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(s(309));var r=n.stateNode}if(!r)throw Error(s(147,e));var i=r,a=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===a?t.ref:(t=function(e){var t=i.refs;t===Us&&(t=i.refs={}),null===e?delete t[a]:t[a]=e},t._stringRef=a,t)}if("string"!==typeof e)throw Error(s(284));if(!n._owner)throw Error(s(290,e))}return e}function Gs(e,t){throw e=Object.prototype.toString.call(t),Error(s(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Qs(e){return(0,e._init)(e._payload)}function Xs(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Ru(e,t)).index=0,e.sibling=null,e}function a(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function o(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=Fu(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function u(e,t,n,r){var s=n.type;return s===k?h(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===s||"object"===typeof s&&null!==s&&s.$$typeof===O&&Qs(s)===t.type)?((r=i(t,n.props)).ref=Ws(e,t,n),r.return=e,r):((r=Lu(n.type,n.key,n.props,null,e.mode,r)).ref=Ws(e,t,n),r.return=e,r)}function c(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Uu(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function h(e,t,n,r,s){return null===t||7!==t.tag?((t=Mu(n,e.mode,r,s)).return=e,t):((t=i(t,n)).return=e,t)}function d(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Fu(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case _:return(n=Lu(t.type,t.key,t.props,null,e.mode,n)).ref=Ws(e,null,t),n.return=e,n;case E:return(t=Uu(t,e.mode,n)).return=e,t;case O:return d(e,(0,t._init)(t._payload),n)}if(te(t)||L(t))return(t=Mu(t,e.mode,n,null)).return=e,t;Gs(e,t)}return null}function f(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case _:return n.key===i?u(e,t,n,r):null;case E:return n.key===i?c(e,t,n,r):null;case O:return f(e,t,(i=n._init)(n._payload),r)}if(te(n)||L(n))return null!==i?null:h(e,t,n,r,null);Gs(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return l(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case _:return u(t,e=e.get(null===r.key?n:r.key)||null,r,i);case E:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case O:return p(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||L(r))return h(t,e=e.get(n)||null,r,i,null);Gs(t,r)}return null}function m(i,s,o,l){for(var u=null,c=null,h=s,m=s=0,g=null;null!==h&&m<o.length;m++){h.index>m?(g=h,h=null):g=h.sibling;var y=f(i,h,o[m],l);if(null===y){null===h&&(h=g);break}e&&h&&null===y.alternate&&t(i,h),s=a(y,s,m),null===c?u=y:c.sibling=y,c=y,h=g}if(m===o.length)return n(i,h),is&&Yi(i,m),u;if(null===h){for(;m<o.length;m++)null!==(h=d(i,o[m],l))&&(s=a(h,s,m),null===c?u=h:c.sibling=h,c=h);return is&&Yi(i,m),u}for(h=r(i,h);m<o.length;m++)null!==(g=p(h,i,m,o[m],l))&&(e&&null!==g.alternate&&h.delete(null===g.key?m:g.key),s=a(g,s,m),null===c?u=g:c.sibling=g,c=g);return e&&h.forEach((function(e){return t(i,e)})),is&&Yi(i,m),u}function g(i,o,l,u){var c=L(l);if("function"!==typeof c)throw Error(s(150));if(null==(l=c.call(l)))throw Error(s(151));for(var h=c=null,m=o,g=o=0,y=null,v=l.next();null!==m&&!v.done;g++,v=l.next()){m.index>g?(y=m,m=null):y=m.sibling;var b=f(i,m,v.value,u);if(null===b){null===m&&(m=y);break}e&&m&&null===b.alternate&&t(i,m),o=a(b,o,g),null===h?c=b:h.sibling=b,h=b,m=y}if(v.done)return n(i,m),is&&Yi(i,g),c;if(null===m){for(;!v.done;g++,v=l.next())null!==(v=d(i,v.value,u))&&(o=a(v,o,g),null===h?c=v:h.sibling=v,h=v);return is&&Yi(i,g),c}for(m=r(i,m);!v.done;g++,v=l.next())null!==(v=p(m,i,g,v.value,u))&&(e&&null!==v.alternate&&m.delete(null===v.key?g:v.key),o=a(v,o,g),null===h?c=v:h.sibling=v,h=v);return e&&m.forEach((function(e){return t(i,e)})),is&&Yi(i,g),c}return function e(r,s,a,l){if("object"===typeof a&&null!==a&&a.type===k&&null===a.key&&(a=a.props.children),"object"===typeof a&&null!==a){switch(a.$$typeof){case _:e:{for(var u=a.key,c=s;null!==c;){if(c.key===u){if((u=a.type)===k){if(7===c.tag){n(r,c.sibling),(s=i(c,a.props.children)).return=r,r=s;break e}}else if(c.elementType===u||"object"===typeof u&&null!==u&&u.$$typeof===O&&Qs(u)===c.type){n(r,c.sibling),(s=i(c,a.props)).ref=Ws(r,c,a),s.return=r,r=s;break e}n(r,c);break}t(r,c),c=c.sibling}a.type===k?((s=Mu(a.props.children,r.mode,l,a.key)).return=r,r=s):((l=Lu(a.type,a.key,a.props,null,r.mode,l)).ref=Ws(r,s,a),l.return=r,r=l)}return o(r);case E:e:{for(c=a.key;null!==s;){if(s.key===c){if(4===s.tag&&s.stateNode.containerInfo===a.containerInfo&&s.stateNode.implementation===a.implementation){n(r,s.sibling),(s=i(s,a.children||[])).return=r,r=s;break e}n(r,s);break}t(r,s),s=s.sibling}(s=Uu(a,r.mode,l)).return=r,r=s}return o(r);case O:return e(r,s,(c=a._init)(a._payload),l)}if(te(a))return m(r,s,a,l);if(L(a))return g(r,s,a,l);Gs(r,a)}return"string"===typeof a&&""!==a||"number"===typeof a?(a=""+a,null!==s&&6===s.tag?(n(r,s.sibling),(s=i(s,a)).return=r,r=s):(n(r,s),(s=Fu(a,r.mode,l)).return=r,r=s),o(r)):n(r,s)}}var Js=Xs(!0),$s=Xs(!1),Ys={},Zs=Si(Ys),ea=Si(Ys),ta=Si(Ys);function na(e){if(e===Ys)throw Error(s(174));return e}function ra(e,t){switch(Ii(ta,t),Ii(ea,e),Ii(Zs,Ys),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:le(null,"");break;default:t=le(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Ti(Zs),Ii(Zs,t)}function ia(){Ti(Zs),Ti(ea),Ti(ta)}function sa(e){na(ta.current);var t=na(Zs.current),n=le(t,e.type);t!==n&&(Ii(ea,e),Ii(Zs,n))}function aa(e){ea.current===e&&(Ti(Zs),Ti(ea))}var oa=Si(0);function la(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ua=[];function ca(){for(var e=0;e<ua.length;e++)ua[e]._workInProgressVersionPrimary=null;ua.length=0}var ha=w.ReactCurrentDispatcher,da=w.ReactCurrentBatchConfig,fa=0,pa=null,ma=null,ga=null,ya=!1,va=!1,ba=0,wa=0;function _a(){throw Error(s(321))}function Ea(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!or(e[n],t[n]))return!1;return!0}function ka(e,t,n,r,i,a){if(fa=a,pa=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ha.current=null===e||null===e.memoizedState?ao:oo,e=n(r,i),va){a=0;do{if(va=!1,ba=0,25<=a)throw Error(s(301));a+=1,ga=ma=null,t.updateQueue=null,ha.current=lo,e=n(r,i)}while(va)}if(ha.current=so,t=null!==ma&&null!==ma.next,fa=0,ga=ma=pa=null,ya=!1,t)throw Error(s(300));return e}function Sa(){var e=0!==ba;return ba=0,e}function Ta(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===ga?pa.memoizedState=ga=e:ga=ga.next=e,ga}function Ia(){if(null===ma){var e=pa.alternate;e=null!==e?e.memoizedState:null}else e=ma.next;var t=null===ga?pa.memoizedState:ga.next;if(null!==t)ga=t,ma=e;else{if(null===e)throw Error(s(310));e={memoizedState:(ma=e).memoizedState,baseState:ma.baseState,baseQueue:ma.baseQueue,queue:ma.queue,next:null},null===ga?pa.memoizedState=ga=e:ga=ga.next=e}return ga}function Ca(e,t){return"function"===typeof t?t(e):t}function xa(e){var t=Ia(),n=t.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=e;var r=ma,i=r.baseQueue,a=n.pending;if(null!==a){if(null!==i){var o=i.next;i.next=a.next,a.next=o}r.baseQueue=i=a,n.pending=null}if(null!==i){a=i.next,r=r.baseState;var l=o=null,u=null,c=a;do{var h=c.lane;if((fa&h)===h)null!==u&&(u=u.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:e(r,c.action);else{var d={lane:h,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};null===u?(l=u=d,o=r):u=u.next=d,pa.lanes|=h,jl|=h}c=c.next}while(null!==c&&c!==a);null===u?o=r:u.next=l,or(r,t.memoizedState)||(wo=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=u,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{a=i.lane,pa.lanes|=a,jl|=a,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Na(e){var t=Ia(),n=t.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,a=t.memoizedState;if(null!==i){n.pending=null;var o=i=i.next;do{a=e(a,o.action),o=o.next}while(o!==i);or(a,t.memoizedState)||(wo=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function Aa(){}function Pa(e,t){var n=pa,r=Ia(),i=t(),a=!or(r.memoizedState,i);if(a&&(r.memoizedState=i,wo=!0),r=r.queue,Ka(Ra.bind(null,n,r,e),[e]),r.getSnapshot!==t||a||null!==ga&&1&ga.memoizedState.tag){if(n.flags|=2048,Fa(9,Da.bind(null,n,r,i,t),void 0,null),null===Al)throw Error(s(349));0!==(30&fa)||Oa(n,t,i)}return i}function Oa(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=pa.updateQueue)?(t={lastEffect:null,stores:null},pa.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Da(e,t,n,r){t.value=n,t.getSnapshot=r,La(t)&&Ma(e)}function Ra(e,t,n){return n((function(){La(t)&&Ma(e)}))}function La(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!or(e,n)}catch(r){return!0}}function Ma(e){var t=Ns(e,1);null!==t&&ru(t,e,1,-1)}function ja(e){var t=Ta();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ca,lastRenderedState:e},t.queue=e,e=e.dispatch=to.bind(null,pa,e),[t.memoizedState,e]}function Fa(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=pa.updateQueue)?(t={lastEffect:null,stores:null},pa.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Ua(){return Ia().memoizedState}function Va(e,t,n,r){var i=Ta();pa.flags|=e,i.memoizedState=Fa(1|t,n,void 0,void 0===r?null:r)}function Ba(e,t,n,r){var i=Ia();r=void 0===r?null:r;var s=void 0;if(null!==ma){var a=ma.memoizedState;if(s=a.destroy,null!==r&&Ea(r,a.deps))return void(i.memoizedState=Fa(t,n,s,r))}pa.flags|=e,i.memoizedState=Fa(1|t,n,s,r)}function za(e,t){return Va(8390656,8,e,t)}function Ka(e,t){return Ba(2048,8,e,t)}function Ha(e,t){return Ba(4,2,e,t)}function qa(e,t){return Ba(4,4,e,t)}function Wa(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Ga(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Ba(4,4,Wa.bind(null,t,e),n)}function Qa(){}function Xa(e,t){var n=Ia();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Ea(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Ja(e,t){var n=Ia();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Ea(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function $a(e,t,n){return 0===(21&fa)?(e.baseState&&(e.baseState=!1,wo=!0),e.memoizedState=n):(or(n,t)||(n=mt(),pa.lanes|=n,jl|=n,e.baseState=!0),t)}function Ya(e,t){var n=bt;bt=0!==n&&4>n?n:4,e(!0);var r=da.transition;da.transition={};try{e(!1),t()}finally{bt=n,da.transition=r}}function Za(){return Ia().memoizedState}function eo(e,t,n){var r=nu(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},no(e))ro(t,n);else if(null!==(n=xs(e,t,n,r))){ru(n,e,r,tu()),io(n,t,r)}}function to(e,t,n){var r=nu(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(no(e))ro(t,i);else{var s=e.alternate;if(0===e.lanes&&(null===s||0===s.lanes)&&null!==(s=t.lastRenderedReducer))try{var a=t.lastRenderedState,o=s(a,n);if(i.hasEagerState=!0,i.eagerState=o,or(o,a)){var l=t.interleaved;return null===l?(i.next=i,Cs(t)):(i.next=l.next,l.next=i),void(t.interleaved=i)}}catch(u){}null!==(n=xs(e,t,i,r))&&(ru(n,e,r,i=tu()),io(n,t,r))}}function no(e){var t=e.alternate;return e===pa||null!==t&&t===pa}function ro(e,t){va=ya=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function io(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,vt(e,n)}}var so={readContext:Ts,useCallback:_a,useContext:_a,useEffect:_a,useImperativeHandle:_a,useInsertionEffect:_a,useLayoutEffect:_a,useMemo:_a,useReducer:_a,useRef:_a,useState:_a,useDebugValue:_a,useDeferredValue:_a,useTransition:_a,useMutableSource:_a,useSyncExternalStore:_a,useId:_a,unstable_isNewReconciler:!1},ao={readContext:Ts,useCallback:function(e,t){return Ta().memoizedState=[e,void 0===t?null:t],e},useContext:Ts,useEffect:za,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Va(4194308,4,Wa.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Va(4194308,4,e,t)},useInsertionEffect:function(e,t){return Va(4,2,e,t)},useMemo:function(e,t){var n=Ta();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Ta();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=eo.bind(null,pa,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},Ta().memoizedState=e},useState:ja,useDebugValue:Qa,useDeferredValue:function(e){return Ta().memoizedState=e},useTransition:function(){var e=ja(!1),t=e[0];return e=Ya.bind(null,e[1]),Ta().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=pa,i=Ta();if(is){if(void 0===n)throw Error(s(407));n=n()}else{if(n=t(),null===Al)throw Error(s(349));0!==(30&fa)||Oa(r,t,n)}i.memoizedState=n;var a={value:n,getSnapshot:t};return i.queue=a,za(Ra.bind(null,r,a,e),[e]),r.flags|=2048,Fa(9,Da.bind(null,r,a,n,t),void 0,null),n},useId:function(){var e=Ta(),t=Al.identifierPrefix;if(is){var n=$i;t=":"+t+"R"+(n=(Ji&~(1<<32-at(Ji)-1)).toString(32)+n),0<(n=ba++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=wa++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},oo={readContext:Ts,useCallback:Xa,useContext:Ts,useEffect:Ka,useImperativeHandle:Ga,useInsertionEffect:Ha,useLayoutEffect:qa,useMemo:Ja,useReducer:xa,useRef:Ua,useState:function(){return xa(Ca)},useDebugValue:Qa,useDeferredValue:function(e){return $a(Ia(),ma.memoizedState,e)},useTransition:function(){return[xa(Ca)[0],Ia().memoizedState]},useMutableSource:Aa,useSyncExternalStore:Pa,useId:Za,unstable_isNewReconciler:!1},lo={readContext:Ts,useCallback:Xa,useContext:Ts,useEffect:Ka,useImperativeHandle:Ga,useInsertionEffect:Ha,useLayoutEffect:qa,useMemo:Ja,useReducer:Na,useRef:Ua,useState:function(){return Na(Ca)},useDebugValue:Qa,useDeferredValue:function(e){var t=Ia();return null===ma?t.memoizedState=e:$a(t,ma.memoizedState,e)},useTransition:function(){return[Na(Ca)[0],Ia().memoizedState]},useMutableSource:Aa,useSyncExternalStore:Pa,useId:Za,unstable_isNewReconciler:!1};function uo(e,t){try{var n="",r=t;do{n+=B(r),r=r.return}while(r);var i=n}catch(s){i="\nError generating stack: "+s.message+"\n"+s.stack}return{value:e,source:t,stack:i,digest:null}}function co(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function ho(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var fo="function"===typeof WeakMap?WeakMap:Map;function po(e,t,n){(n=Ds(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){ql||(ql=!0,Wl=r),ho(0,t)},n}function mo(e,t,n){(n=Ds(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){ho(0,t)}}var s=e.stateNode;return null!==s&&"function"===typeof s.componentDidCatch&&(n.callback=function(){ho(0,t),"function"!==typeof r&&(null===Gl?Gl=new Set([this]):Gl.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function go(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new fo;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Iu.bind(null,e,t,n),t.then(e,e))}function yo(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function vo(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Ds(-1,1)).tag=2,Rs(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var bo=w.ReactCurrentOwner,wo=!1;function _o(e,t,n,r){t.child=null===e?$s(t,null,n,r):Js(t,e.child,n,r)}function Eo(e,t,n,r,i){n=n.render;var s=t.ref;return Ss(t,i),r=ka(e,t,n,r,s,i),n=Sa(),null===e||wo?(is&&n&&es(t),t.flags|=1,_o(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,qo(e,t,i))}function ko(e,t,n,r,i){if(null===e){var s=n.type;return"function"!==typeof s||Du(s)||void 0!==s.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Lu(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=s,So(e,t,s,r,i))}if(s=e.child,0===(e.lanes&i)){var a=s.memoizedProps;if((n=null!==(n=n.compare)?n:lr)(a,r)&&e.ref===t.ref)return qo(e,t,i)}return t.flags|=1,(e=Ru(s,r)).ref=t.ref,e.return=t,t.child=e}function So(e,t,n,r,i){if(null!==e){var s=e.memoizedProps;if(lr(s,r)&&e.ref===t.ref){if(wo=!1,t.pendingProps=r=s,0===(e.lanes&i))return t.lanes=e.lanes,qo(e,t,i);0!==(131072&e.flags)&&(wo=!0)}}return Co(e,t,n,r,i)}function To(e,t,n){var r=t.pendingProps,i=r.children,s=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ii(Rl,Dl),Dl|=n;else{if(0===(1073741824&n))return e=null!==s?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ii(Rl,Dl),Dl|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==s?s.baseLanes:n,Ii(Rl,Dl),Dl|=r}else null!==s?(r=s.baseLanes|n,t.memoizedState=null):r=n,Ii(Rl,Dl),Dl|=r;return _o(e,t,i,n),t.child}function Io(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Co(e,t,n,r,i){var s=Oi(n)?Ai:xi.current;return s=Pi(t,s),Ss(t,i),n=ka(e,t,n,r,s,i),r=Sa(),null===e||wo?(is&&r&&es(t),t.flags|=1,_o(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,qo(e,t,i))}function xo(e,t,n,r,i){if(Oi(n)){var s=!0;Mi(t)}else s=!1;if(Ss(t,i),null===t.stateNode)Ho(e,t),Ks(t,n,r),qs(t,n,r,i),r=!0;else if(null===e){var a=t.stateNode,o=t.memoizedProps;a.props=o;var l=a.context,u=n.contextType;"object"===typeof u&&null!==u?u=Ts(u):u=Pi(t,u=Oi(n)?Ai:xi.current);var c=n.getDerivedStateFromProps,h="function"===typeof c||"function"===typeof a.getSnapshotBeforeUpdate;h||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(o!==r||l!==u)&&Hs(t,a,r,u),As=!1;var d=t.memoizedState;a.state=d,js(t,r,a,i),l=t.memoizedState,o!==r||d!==l||Ni.current||As?("function"===typeof c&&(Vs(t,n,c,r),l=t.memoizedState),(o=As||zs(t,n,o,r,d,l,u))?(h||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||("function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"===typeof a.componentDidMount&&(t.flags|=4194308)):("function"===typeof a.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),a.props=r,a.state=l,a.context=u,r=o):("function"===typeof a.componentDidMount&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,Os(e,t),o=t.memoizedProps,u=t.type===t.elementType?o:gs(t.type,o),a.props=u,h=t.pendingProps,d=a.context,"object"===typeof(l=n.contextType)&&null!==l?l=Ts(l):l=Pi(t,l=Oi(n)?Ai:xi.current);var f=n.getDerivedStateFromProps;(c="function"===typeof f||"function"===typeof a.getSnapshotBeforeUpdate)||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(o!==h||d!==l)&&Hs(t,a,r,l),As=!1,d=t.memoizedState,a.state=d,js(t,r,a,i);var p=t.memoizedState;o!==h||d!==p||Ni.current||As?("function"===typeof f&&(Vs(t,n,f,r),p=t.memoizedState),(u=As||zs(t,n,u,r,d,p,l)||!1)?(c||"function"!==typeof a.UNSAFE_componentWillUpdate&&"function"!==typeof a.componentWillUpdate||("function"===typeof a.componentWillUpdate&&a.componentWillUpdate(r,p,l),"function"===typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,p,l)),"function"===typeof a.componentDidUpdate&&(t.flags|=4),"function"===typeof a.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof a.componentDidUpdate||o===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||o===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),a.props=r,a.state=p,a.context=l,r=u):("function"!==typeof a.componentDidUpdate||o===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||o===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),r=!1)}return No(e,t,n,r,s,i)}function No(e,t,n,r,i,s){Io(e,t);var a=0!==(128&t.flags);if(!r&&!a)return i&&ji(t,n,!1),qo(e,t,s);r=t.stateNode,bo.current=t;var o=a&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&a?(t.child=Js(t,e.child,null,s),t.child=Js(t,null,o,s)):_o(e,t,o,s),t.memoizedState=r.state,i&&ji(t,n,!0),t.child}function Ao(e){var t=e.stateNode;t.pendingContext?Ri(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Ri(0,t.context,!1),ra(e,t.containerInfo)}function Po(e,t,n,r,i){return fs(),ps(i),t.flags|=256,_o(e,t,n,r),t.child}var Oo,Do,Ro,Lo,Mo={dehydrated:null,treeContext:null,retryLane:0};function jo(e){return{baseLanes:e,cachePool:null,transitions:null}}function Fo(e,t,n){var r,i=t.pendingProps,a=oa.current,o=!1,l=0!==(128&t.flags);if((r=l)||(r=(null===e||null!==e.memoizedState)&&0!==(2&a)),r?(o=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(a|=1),Ii(oa,1&a),null===e)return us(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(l=i.children,e=i.fallback,o?(i=t.mode,o=t.child,l={mode:"hidden",children:l},0===(1&i)&&null!==o?(o.childLanes=0,o.pendingProps=l):o=ju(l,i,0,null),e=Mu(e,i,n,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=jo(n),t.memoizedState=Mo,e):Uo(t,l));if(null!==(a=e.memoizedState)&&null!==(r=a.dehydrated))return function(e,t,n,r,i,a,o){if(n)return 256&t.flags?(t.flags&=-257,Vo(e,t,o,r=co(Error(s(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(a=r.fallback,i=t.mode,r=ju({mode:"visible",children:r.children},i,0,null),(a=Mu(a,i,o,null)).flags|=2,r.return=t,a.return=t,r.sibling=a,t.child=r,0!==(1&t.mode)&&Js(t,e.child,null,o),t.child.memoizedState=jo(o),t.memoizedState=Mo,a);if(0===(1&t.mode))return Vo(e,t,o,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var l=r.dgst;return r=l,Vo(e,t,o,r=co(a=Error(s(419)),r,void 0))}if(l=0!==(o&e.childLanes),wo||l){if(null!==(r=Al)){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|o))?0:i)&&i!==a.retryLane&&(a.retryLane=i,Ns(e,i),ru(r,e,i,-1))}return gu(),Vo(e,t,o,r=co(Error(s(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=xu.bind(null,e),i._reactRetry=t,null):(e=a.treeContext,rs=ui(i.nextSibling),ns=t,is=!0,ss=null,null!==e&&(Gi[Qi++]=Ji,Gi[Qi++]=$i,Gi[Qi++]=Xi,Ji=e.id,$i=e.overflow,Xi=t),t=Uo(t,r.children),t.flags|=4096,t)}(e,t,l,i,r,a,n);if(o){o=i.fallback,l=t.mode,r=(a=e.child).sibling;var u={mode:"hidden",children:i.children};return 0===(1&l)&&t.child!==a?((i=t.child).childLanes=0,i.pendingProps=u,t.deletions=null):(i=Ru(a,u)).subtreeFlags=14680064&a.subtreeFlags,null!==r?o=Ru(r,o):(o=Mu(o,l,n,null)).flags|=2,o.return=t,i.return=t,i.sibling=o,t.child=i,i=o,o=t.child,l=null===(l=e.child.memoizedState)?jo(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},o.memoizedState=l,o.childLanes=e.childLanes&~n,t.memoizedState=Mo,i}return e=(o=e.child).sibling,i=Ru(o,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function Uo(e,t){return(t=ju({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Vo(e,t,n,r){return null!==r&&ps(r),Js(t,e.child,null,n),(e=Uo(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Bo(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),ks(e.return,t,n)}function zo(e,t,n,r,i){var s=e.memoizedState;null===s?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function Ko(e,t,n){var r=t.pendingProps,i=r.revealOrder,s=r.tail;if(_o(e,t,r.children,n),0!==(2&(r=oa.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Bo(e,n,t);else if(19===e.tag)Bo(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ii(oa,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===la(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),zo(t,!1,i,n,s);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===la(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}zo(t,!0,n,null,s);break;case"together":zo(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ho(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function qo(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),jl|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(s(153));if(null!==t.child){for(n=Ru(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Ru(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Wo(e,t){if(!is)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Go(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Qo(e,t,n){var r=t.pendingProps;switch(ts(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Go(t),null;case 1:case 17:return Oi(t.type)&&Di(),Go(t),null;case 3:return r=t.stateNode,ia(),Ti(Ni),Ti(xi),ca(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(hs(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==ss&&(ou(ss),ss=null))),Do(e,t),Go(t),null;case 5:aa(t);var i=na(ta.current);if(n=t.type,null!==e&&null!=t.stateNode)Ro(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(s(166));return Go(t),null}if(e=na(Zs.current),hs(t)){r=t.stateNode,n=t.type;var a=t.memoizedProps;switch(r[di]=t,r[fi]=a,e=0!==(1&t.mode),n){case"dialog":Ur("cancel",r),Ur("close",r);break;case"iframe":case"object":case"embed":Ur("load",r);break;case"video":case"audio":for(i=0;i<Lr.length;i++)Ur(Lr[i],r);break;case"source":Ur("error",r);break;case"img":case"image":case"link":Ur("error",r),Ur("load",r);break;case"details":Ur("toggle",r);break;case"input":J(r,a),Ur("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},Ur("invalid",r);break;case"textarea":ie(r,a),Ur("invalid",r)}for(var l in ve(n,a),i=null,a)if(a.hasOwnProperty(l)){var u=a[l];"children"===l?"string"===typeof u?r.textContent!==u&&(!0!==a.suppressHydrationWarning&&Yr(r.textContent,u,e),i=["children",u]):"number"===typeof u&&r.textContent!==""+u&&(!0!==a.suppressHydrationWarning&&Yr(r.textContent,u,e),i=["children",""+u]):o.hasOwnProperty(l)&&null!=u&&"onScroll"===l&&Ur("scroll",r)}switch(n){case"input":W(r),Z(r,a,!0);break;case"textarea":W(r),ae(r);break;case"select":case"option":break;default:"function"===typeof a.onClick&&(r.onclick=Zr)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{l=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=oe(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=l.createElement(n,{is:r.is}):(e=l.createElement(n),"select"===n&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,n),e[di]=t,e[fi]=r,Oo(e,t,!1,!1),t.stateNode=e;e:{switch(l=be(n,r),n){case"dialog":Ur("cancel",e),Ur("close",e),i=r;break;case"iframe":case"object":case"embed":Ur("load",e),i=r;break;case"video":case"audio":for(i=0;i<Lr.length;i++)Ur(Lr[i],e);i=r;break;case"source":Ur("error",e),i=r;break;case"img":case"image":case"link":Ur("error",e),Ur("load",e),i=r;break;case"details":Ur("toggle",e),i=r;break;case"input":J(e,r),i=X(e,r),Ur("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=j({},r,{value:void 0}),Ur("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),Ur("invalid",e)}for(a in ve(n,i),u=i)if(u.hasOwnProperty(a)){var c=u[a];"style"===a?ge(e,c):"dangerouslySetInnerHTML"===a?null!=(c=c?c.__html:void 0)&&he(e,c):"children"===a?"string"===typeof c?("textarea"!==n||""!==c)&&de(e,c):"number"===typeof c&&de(e,""+c):"suppressContentEditableWarning"!==a&&"suppressHydrationWarning"!==a&&"autoFocus"!==a&&(o.hasOwnProperty(a)?null!=c&&"onScroll"===a&&Ur("scroll",e):null!=c&&b(e,a,c,l))}switch(n){case"input":W(e),Z(e,r,!1);break;case"textarea":W(e),ae(e);break;case"option":null!=r.value&&e.setAttribute("value",""+H(r.value));break;case"select":e.multiple=!!r.multiple,null!=(a=r.value)?ne(e,!!r.multiple,a,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=Zr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Go(t),null;case 6:if(e&&null!=t.stateNode)Lo(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(s(166));if(n=na(ta.current),na(Zs.current),hs(t)){if(r=t.stateNode,n=t.memoizedProps,r[di]=t,(a=r.nodeValue!==n)&&null!==(e=ns))switch(e.tag){case 3:Yr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Yr(r.nodeValue,n,0!==(1&e.mode))}a&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[di]=t,t.stateNode=r}return Go(t),null;case 13:if(Ti(oa),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(is&&null!==rs&&0!==(1&t.mode)&&0===(128&t.flags))ds(),fs(),t.flags|=98560,a=!1;else if(a=hs(t),null!==r&&null!==r.dehydrated){if(null===e){if(!a)throw Error(s(318));if(!(a=null!==(a=t.memoizedState)?a.dehydrated:null))throw Error(s(317));a[di]=t}else fs(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Go(t),a=!1}else null!==ss&&(ou(ss),ss=null),a=!0;if(!a)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&oa.current)?0===Ll&&(Ll=3):gu())),null!==t.updateQueue&&(t.flags|=4),Go(t),null);case 4:return ia(),Do(e,t),null===e&&zr(t.stateNode.containerInfo),Go(t),null;case 10:return Es(t.type._context),Go(t),null;case 19:if(Ti(oa),null===(a=t.memoizedState))return Go(t),null;if(r=0!==(128&t.flags),null===(l=a.rendering))if(r)Wo(a,!1);else{if(0!==Ll||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(l=la(e))){for(t.flags|=128,Wo(a,!1),null!==(r=l.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(a=n).flags&=14680066,null===(l=a.alternate)?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=l.childLanes,a.lanes=l.lanes,a.child=l.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=l.memoizedProps,a.memoizedState=l.memoizedState,a.updateQueue=l.updateQueue,a.type=l.type,e=l.dependencies,a.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ii(oa,1&oa.current|2),t.child}e=e.sibling}null!==a.tail&&$e()>Kl&&(t.flags|=128,r=!0,Wo(a,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=la(l))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Wo(a,!0),null===a.tail&&"hidden"===a.tailMode&&!l.alternate&&!is)return Go(t),null}else 2*$e()-a.renderingStartTime>Kl&&1073741824!==n&&(t.flags|=128,r=!0,Wo(a,!1),t.lanes=4194304);a.isBackwards?(l.sibling=t.child,t.child=l):(null!==(n=a.last)?n.sibling=l:t.child=l,a.last=l)}return null!==a.tail?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=$e(),t.sibling=null,n=oa.current,Ii(oa,r?1&n|2:1&n),t):(Go(t),null);case 22:case 23:return du(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Dl)&&(Go(t),6&t.subtreeFlags&&(t.flags|=8192)):Go(t),null;case 24:case 25:return null}throw Error(s(156,t.tag))}function Xo(e,t){switch(ts(t),t.tag){case 1:return Oi(t.type)&&Di(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return ia(),Ti(Ni),Ti(xi),ca(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return aa(t),null;case 13:if(Ti(oa),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(s(340));fs()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Ti(oa),null;case 4:return ia(),null;case 10:return Es(t.type._context),null;case 22:case 23:return du(),null;default:return null}}Oo=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Do=function(){},Ro=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,na(Zs.current);var s,a=null;switch(n){case"input":i=X(e,i),r=X(e,r),a=[];break;case"select":i=j({},i,{value:void 0}),r=j({},r,{value:void 0}),a=[];break;case"textarea":i=re(e,i),r=re(e,r),a=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=Zr)}for(c in ve(n,r),n=null,i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&null!=i[c])if("style"===c){var l=i[c];for(s in l)l.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else"dangerouslySetInnerHTML"!==c&&"children"!==c&&"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&"autoFocus"!==c&&(o.hasOwnProperty(c)?a||(a=[]):(a=a||[]).push(c,null));for(c in r){var u=r[c];if(l=null!=i?i[c]:void 0,r.hasOwnProperty(c)&&u!==l&&(null!=u||null!=l))if("style"===c)if(l){for(s in l)!l.hasOwnProperty(s)||u&&u.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in u)u.hasOwnProperty(s)&&l[s]!==u[s]&&(n||(n={}),n[s]=u[s])}else n||(a||(a=[]),a.push(c,n)),n=u;else"dangerouslySetInnerHTML"===c?(u=u?u.__html:void 0,l=l?l.__html:void 0,null!=u&&l!==u&&(a=a||[]).push(c,u)):"children"===c?"string"!==typeof u&&"number"!==typeof u||(a=a||[]).push(c,""+u):"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&(o.hasOwnProperty(c)?(null!=u&&"onScroll"===c&&Ur("scroll",e),a||l===u||(a=[])):(a=a||[]).push(c,u))}n&&(a=a||[]).push("style",n);var c=a;(t.updateQueue=c)&&(t.flags|=4)}},Lo=function(e,t,n,r){n!==r&&(t.flags|=4)};var Jo=!1,$o=!1,Yo="function"===typeof WeakSet?WeakSet:Set,Zo=null;function el(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){Tu(e,t,r)}else n.current=null}function tl(e,t,n){try{n()}catch(r){Tu(e,t,r)}}var nl=!1;function rl(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var s=i.destroy;i.destroy=void 0,void 0!==s&&tl(t,n,s)}i=i.next}while(i!==r)}}function il(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function sl(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function al(e){var t=e.alternate;null!==t&&(e.alternate=null,al(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[di],delete t[fi],delete t[mi],delete t[gi],delete t[yi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function ol(e){return 5===e.tag||3===e.tag||4===e.tag}function ll(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||ol(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function ul(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Zr));else if(4!==r&&null!==(e=e.child))for(ul(e,t,n),e=e.sibling;null!==e;)ul(e,t,n),e=e.sibling}function cl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(cl(e,t,n),e=e.sibling;null!==e;)cl(e,t,n),e=e.sibling}var hl=null,dl=!1;function fl(e,t,n){for(n=n.child;null!==n;)pl(e,t,n),n=n.sibling}function pl(e,t,n){if(st&&"function"===typeof st.onCommitFiberUnmount)try{st.onCommitFiberUnmount(it,n)}catch(o){}switch(n.tag){case 5:$o||el(n,t);case 6:var r=hl,i=dl;hl=null,fl(e,t,n),dl=i,null!==(hl=r)&&(dl?(e=hl,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):hl.removeChild(n.stateNode));break;case 18:null!==hl&&(dl?(e=hl,n=n.stateNode,8===e.nodeType?li(e.parentNode,n):1===e.nodeType&&li(e,n),zt(e)):li(hl,n.stateNode));break;case 4:r=hl,i=dl,hl=n.stateNode.containerInfo,dl=!0,fl(e,t,n),hl=r,dl=i;break;case 0:case 11:case 14:case 15:if(!$o&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var s=i,a=s.destroy;s=s.tag,void 0!==a&&(0!==(2&s)||0!==(4&s))&&tl(n,t,a),i=i.next}while(i!==r)}fl(e,t,n);break;case 1:if(!$o&&(el(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(o){Tu(n,t,o)}fl(e,t,n);break;case 21:fl(e,t,n);break;case 22:1&n.mode?($o=(r=$o)||null!==n.memoizedState,fl(e,t,n),$o=r):fl(e,t,n);break;default:fl(e,t,n)}}function ml(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Yo),t.forEach((function(t){var r=Nu.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function gl(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var a=e,o=t,l=o;e:for(;null!==l;){switch(l.tag){case 5:hl=l.stateNode,dl=!1;break e;case 3:case 4:hl=l.stateNode.containerInfo,dl=!0;break e}l=l.return}if(null===hl)throw Error(s(160));pl(a,o,i),hl=null,dl=!1;var u=i.alternate;null!==u&&(u.return=null),i.return=null}catch(c){Tu(i,t,c)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)yl(t,e),t=t.sibling}function yl(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(gl(t,e),vl(e),4&r){try{rl(3,e,e.return),il(3,e)}catch(g){Tu(e,e.return,g)}try{rl(5,e,e.return)}catch(g){Tu(e,e.return,g)}}break;case 1:gl(t,e),vl(e),512&r&&null!==n&&el(n,n.return);break;case 5:if(gl(t,e),vl(e),512&r&&null!==n&&el(n,n.return),32&e.flags){var i=e.stateNode;try{de(i,"")}catch(g){Tu(e,e.return,g)}}if(4&r&&null!=(i=e.stateNode)){var a=e.memoizedProps,o=null!==n?n.memoizedProps:a,l=e.type,u=e.updateQueue;if(e.updateQueue=null,null!==u)try{"input"===l&&"radio"===a.type&&null!=a.name&&$(i,a),be(l,o);var c=be(l,a);for(o=0;o<u.length;o+=2){var h=u[o],d=u[o+1];"style"===h?ge(i,d):"dangerouslySetInnerHTML"===h?he(i,d):"children"===h?de(i,d):b(i,h,d,c)}switch(l){case"input":Y(i,a);break;case"textarea":se(i,a);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var p=a.value;null!=p?ne(i,!!a.multiple,p,!1):f!==!!a.multiple&&(null!=a.defaultValue?ne(i,!!a.multiple,a.defaultValue,!0):ne(i,!!a.multiple,a.multiple?[]:"",!1))}i[fi]=a}catch(g){Tu(e,e.return,g)}}break;case 6:if(gl(t,e),vl(e),4&r){if(null===e.stateNode)throw Error(s(162));i=e.stateNode,a=e.memoizedProps;try{i.nodeValue=a}catch(g){Tu(e,e.return,g)}}break;case 3:if(gl(t,e),vl(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{zt(t.containerInfo)}catch(g){Tu(e,e.return,g)}break;case 4:default:gl(t,e),vl(e);break;case 13:gl(t,e),vl(e),8192&(i=e.child).flags&&(a=null!==i.memoizedState,i.stateNode.isHidden=a,!a||null!==i.alternate&&null!==i.alternate.memoizedState||(zl=$e())),4&r&&ml(e);break;case 22:if(h=null!==n&&null!==n.memoizedState,1&e.mode?($o=(c=$o)||h,gl(t,e),$o=c):gl(t,e),vl(e),8192&r){if(c=null!==e.memoizedState,(e.stateNode.isHidden=c)&&!h&&0!==(1&e.mode))for(Zo=e,h=e.child;null!==h;){for(d=Zo=h;null!==Zo;){switch(p=(f=Zo).child,f.tag){case 0:case 11:case 14:case 15:rl(4,f,f.return);break;case 1:el(f,f.return);var m=f.stateNode;if("function"===typeof m.componentWillUnmount){r=f,n=f.return;try{t=r,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(g){Tu(r,n,g)}}break;case 5:el(f,f.return);break;case 22:if(null!==f.memoizedState){El(d);continue}}null!==p?(p.return=f,Zo=p):El(d)}h=h.sibling}e:for(h=null,d=e;;){if(5===d.tag){if(null===h){h=d;try{i=d.stateNode,c?"function"===typeof(a=i.style).setProperty?a.setProperty("display","none","important"):a.display="none":(l=d.stateNode,o=void 0!==(u=d.memoizedProps.style)&&null!==u&&u.hasOwnProperty("display")?u.display:null,l.style.display=me("display",o))}catch(g){Tu(e,e.return,g)}}}else if(6===d.tag){if(null===h)try{d.stateNode.nodeValue=c?"":d.memoizedProps}catch(g){Tu(e,e.return,g)}}else if((22!==d.tag&&23!==d.tag||null===d.memoizedState||d===e)&&null!==d.child){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;null===d.sibling;){if(null===d.return||d.return===e)break e;h===d&&(h=null),d=d.return}h===d&&(h=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:gl(t,e),vl(e),4&r&&ml(e);case 21:}}function vl(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(ol(n)){var r=n;break e}n=n.return}throw Error(s(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(de(i,""),r.flags&=-33),cl(e,ll(e),i);break;case 3:case 4:var a=r.stateNode.containerInfo;ul(e,ll(e),a);break;default:throw Error(s(161))}}catch(o){Tu(e,e.return,o)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function bl(e,t,n){Zo=e,wl(e,t,n)}function wl(e,t,n){for(var r=0!==(1&e.mode);null!==Zo;){var i=Zo,s=i.child;if(22===i.tag&&r){var a=null!==i.memoizedState||Jo;if(!a){var o=i.alternate,l=null!==o&&null!==o.memoizedState||$o;o=Jo;var u=$o;if(Jo=a,($o=l)&&!u)for(Zo=i;null!==Zo;)l=(a=Zo).child,22===a.tag&&null!==a.memoizedState?kl(i):null!==l?(l.return=a,Zo=l):kl(i);for(;null!==s;)Zo=s,wl(s,t,n),s=s.sibling;Zo=i,Jo=o,$o=u}_l(e)}else 0!==(8772&i.subtreeFlags)&&null!==s?(s.return=i,Zo=s):_l(e)}}function _l(e){for(;null!==Zo;){var t=Zo;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:$o||il(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!$o)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:gs(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;null!==a&&Fs(t,a,r);break;case 3:var o=t.updateQueue;if(null!==o){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Fs(t,o,n)}break;case 5:var l=t.stateNode;if(null===n&&4&t.flags){n=l;var u=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var c=t.alternate;if(null!==c){var h=c.memoizedState;if(null!==h){var d=h.dehydrated;null!==d&&zt(d)}}}break;default:throw Error(s(163))}$o||512&t.flags&&sl(t)}catch(f){Tu(t,t.return,f)}}if(t===e){Zo=null;break}if(null!==(n=t.sibling)){n.return=t.return,Zo=n;break}Zo=t.return}}function El(e){for(;null!==Zo;){var t=Zo;if(t===e){Zo=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Zo=n;break}Zo=t.return}}function kl(e){for(;null!==Zo;){var t=Zo;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{il(4,t)}catch(l){Tu(t,n,l)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(l){Tu(t,i,l)}}var s=t.return;try{sl(t)}catch(l){Tu(t,s,l)}break;case 5:var a=t.return;try{sl(t)}catch(l){Tu(t,a,l)}}}catch(l){Tu(t,t.return,l)}if(t===e){Zo=null;break}var o=t.sibling;if(null!==o){o.return=t.return,Zo=o;break}Zo=t.return}}var Sl,Tl=Math.ceil,Il=w.ReactCurrentDispatcher,Cl=w.ReactCurrentOwner,xl=w.ReactCurrentBatchConfig,Nl=0,Al=null,Pl=null,Ol=0,Dl=0,Rl=Si(0),Ll=0,Ml=null,jl=0,Fl=0,Ul=0,Vl=null,Bl=null,zl=0,Kl=1/0,Hl=null,ql=!1,Wl=null,Gl=null,Ql=!1,Xl=null,Jl=0,$l=0,Yl=null,Zl=-1,eu=0;function tu(){return 0!==(6&Nl)?$e():-1!==Zl?Zl:Zl=$e()}function nu(e){return 0===(1&e.mode)?1:0!==(2&Nl)&&0!==Ol?Ol&-Ol:null!==ms.transition?(0===eu&&(eu=mt()),eu):0!==(e=bt)?e:e=void 0===(e=window.event)?16:Jt(e.type)}function ru(e,t,n,r){if(50<$l)throw $l=0,Yl=null,Error(s(185));yt(e,n,r),0!==(2&Nl)&&e===Al||(e===Al&&(0===(2&Nl)&&(Fl|=n),4===Ll&&lu(e,Ol)),iu(e,r),1===n&&0===Nl&&0===(1&t.mode)&&(Kl=$e()+500,Ui&&zi()))}function iu(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,s=e.pendingLanes;0<s;){var a=31-at(s),o=1<<a,l=i[a];-1===l?0!==(o&n)&&0===(o&r)||(i[a]=ft(o,t)):l<=t&&(e.expiredLanes|=o),s&=~o}}(e,t);var r=dt(e,e===Al?Ol:0);if(0===r)null!==n&&Qe(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Qe(n),1===t)0===e.tag?function(e){Ui=!0,Bi(e)}(uu.bind(null,e)):Bi(uu.bind(null,e)),ai((function(){0===(6&Nl)&&zi()})),n=null;else{switch(wt(r)){case 1:n=Ze;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Au(n,su.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function su(e,t){if(Zl=-1,eu=0,0!==(6&Nl))throw Error(s(327));var n=e.callbackNode;if(ku()&&e.callbackNode!==n)return null;var r=dt(e,e===Al?Ol:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=yu(e,r);else{t=r;var i=Nl;Nl|=2;var a=mu();for(Al===e&&Ol===t||(Hl=null,Kl=$e()+500,fu(e,t));;)try{bu();break}catch(l){pu(e,l)}_s(),Il.current=a,Nl=i,null!==Pl?t=0:(Al=null,Ol=0,t=Ll)}if(0!==t){if(2===t&&(0!==(i=pt(e))&&(r=i,t=au(e,i))),1===t)throw n=Ml,fu(e,0),lu(e,r),iu(e,$e()),n;if(6===t)lu(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!or(s(),i))return!1}catch(o){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=yu(e,r))&&(0!==(a=pt(e))&&(r=a,t=au(e,a))),1===t))throw n=Ml,fu(e,0),lu(e,r),iu(e,$e()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(s(345));case 2:case 5:Eu(e,Bl,Hl);break;case 3:if(lu(e,r),(130023424&r)===r&&10<(t=zl+500-$e())){if(0!==dt(e,0))break;if(((i=e.suspendedLanes)&r)!==r){tu(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ri(Eu.bind(null,e,Bl,Hl),t);break}Eu(e,Bl,Hl);break;case 4:if(lu(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var o=31-at(r);a=1<<o,(o=t[o])>i&&(i=o),r&=~a}if(r=i,10<(r=(120>(r=$e()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Tl(r/1960))-r)){e.timeoutHandle=ri(Eu.bind(null,e,Bl,Hl),r);break}Eu(e,Bl,Hl);break;default:throw Error(s(329))}}}return iu(e,$e()),e.callbackNode===n?su.bind(null,e):null}function au(e,t){var n=Vl;return e.current.memoizedState.isDehydrated&&(fu(e,t).flags|=256),2!==(e=yu(e,t))&&(t=Bl,Bl=n,null!==t&&ou(t)),e}function ou(e){null===Bl?Bl=e:Bl.push.apply(Bl,e)}function lu(e,t){for(t&=~Ul,t&=~Fl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-at(t),r=1<<n;e[n]=-1,t&=~r}}function uu(e){if(0!==(6&Nl))throw Error(s(327));ku();var t=dt(e,0);if(0===(1&t))return iu(e,$e()),null;var n=yu(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=au(e,r))}if(1===n)throw n=Ml,fu(e,0),lu(e,t),iu(e,$e()),n;if(6===n)throw Error(s(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Eu(e,Bl,Hl),iu(e,$e()),null}function cu(e,t){var n=Nl;Nl|=1;try{return e(t)}finally{0===(Nl=n)&&(Kl=$e()+500,Ui&&zi())}}function hu(e){null!==Xl&&0===Xl.tag&&0===(6&Nl)&&ku();var t=Nl;Nl|=1;var n=xl.transition,r=bt;try{if(xl.transition=null,bt=1,e)return e()}finally{bt=r,xl.transition=n,0===(6&(Nl=t))&&zi()}}function du(){Dl=Rl.current,Ti(Rl)}function fu(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ii(n)),null!==Pl)for(n=Pl.return;null!==n;){var r=n;switch(ts(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Di();break;case 3:ia(),Ti(Ni),Ti(xi),ca();break;case 5:aa(r);break;case 4:ia();break;case 13:case 19:Ti(oa);break;case 10:Es(r.type._context);break;case 22:case 23:du()}n=n.return}if(Al=e,Pl=e=Ru(e.current,null),Ol=Dl=t,Ll=0,Ml=null,Ul=Fl=jl=0,Bl=Vl=null,null!==Is){for(t=0;t<Is.length;t++)if(null!==(r=(n=Is[t]).interleaved)){n.interleaved=null;var i=r.next,s=n.pending;if(null!==s){var a=s.next;s.next=i,r.next=a}n.pending=r}Is=null}return e}function pu(e,t){for(;;){var n=Pl;try{if(_s(),ha.current=so,ya){for(var r=pa.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}ya=!1}if(fa=0,ga=ma=pa=null,va=!1,ba=0,Cl.current=null,null===n||null===n.return){Ll=1,Ml=t,Pl=null;break}e:{var a=e,o=n.return,l=n,u=t;if(t=Ol,l.flags|=32768,null!==u&&"object"===typeof u&&"function"===typeof u.then){var c=u,h=l,d=h.tag;if(0===(1&h.mode)&&(0===d||11===d||15===d)){var f=h.alternate;f?(h.updateQueue=f.updateQueue,h.memoizedState=f.memoizedState,h.lanes=f.lanes):(h.updateQueue=null,h.memoizedState=null)}var p=yo(o);if(null!==p){p.flags&=-257,vo(p,o,l,0,t),1&p.mode&&go(a,c,t),u=c;var m=(t=p).updateQueue;if(null===m){var g=new Set;g.add(u),t.updateQueue=g}else m.add(u);break e}if(0===(1&t)){go(a,c,t),gu();break e}u=Error(s(426))}else if(is&&1&l.mode){var y=yo(o);if(null!==y){0===(65536&y.flags)&&(y.flags|=256),vo(y,o,l,0,t),ps(uo(u,l));break e}}a=u=uo(u,l),4!==Ll&&(Ll=2),null===Vl?Vl=[a]:Vl.push(a),a=o;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t,Ms(a,po(0,u,t));break e;case 1:l=u;var v=a.type,b=a.stateNode;if(0===(128&a.flags)&&("function"===typeof v.getDerivedStateFromError||null!==b&&"function"===typeof b.componentDidCatch&&(null===Gl||!Gl.has(b)))){a.flags|=65536,t&=-t,a.lanes|=t,Ms(a,mo(a,l,t));break e}}a=a.return}while(null!==a)}_u(n)}catch(w){t=w,Pl===n&&null!==n&&(Pl=n=n.return);continue}break}}function mu(){var e=Il.current;return Il.current=so,null===e?so:e}function gu(){0!==Ll&&3!==Ll&&2!==Ll||(Ll=4),null===Al||0===(268435455&jl)&&0===(268435455&Fl)||lu(Al,Ol)}function yu(e,t){var n=Nl;Nl|=2;var r=mu();for(Al===e&&Ol===t||(Hl=null,fu(e,t));;)try{vu();break}catch(i){pu(e,i)}if(_s(),Nl=n,Il.current=r,null!==Pl)throw Error(s(261));return Al=null,Ol=0,Ll}function vu(){for(;null!==Pl;)wu(Pl)}function bu(){for(;null!==Pl&&!Xe();)wu(Pl)}function wu(e){var t=Sl(e.alternate,e,Dl);e.memoizedProps=e.pendingProps,null===t?_u(e):Pl=t,Cl.current=null}function _u(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Qo(n,t,Dl)))return void(Pl=n)}else{if(null!==(n=Xo(n,t)))return n.flags&=32767,void(Pl=n);if(null===e)return Ll=6,void(Pl=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Pl=t);Pl=t=e}while(null!==t);0===Ll&&(Ll=5)}function Eu(e,t,n){var r=bt,i=xl.transition;try{xl.transition=null,bt=1,function(e,t,n,r){do{ku()}while(null!==Xl);if(0!==(6&Nl))throw Error(s(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(s(177));e.callbackNode=null,e.callbackPriority=0;var a=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-at(n),s=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~s}}(e,a),e===Al&&(Pl=Al=null,Ol=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Ql||(Ql=!0,Au(tt,(function(){return ku(),null}))),a=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||a){a=xl.transition,xl.transition=null;var o=bt;bt=1;var l=Nl;Nl|=4,Cl.current=null,function(e,t){if(ei=Ht,fr(e=dr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch(_){n=null;break e}var o=0,l=-1,u=-1,c=0,h=0,d=e,f=null;t:for(;;){for(var p;d!==n||0!==i&&3!==d.nodeType||(l=o+i),d!==a||0!==r&&3!==d.nodeType||(u=o+r),3===d.nodeType&&(o+=d.nodeValue.length),null!==(p=d.firstChild);)f=d,d=p;for(;;){if(d===e)break t;if(f===n&&++c===i&&(l=o),f===a&&++h===r&&(u=o),null!==(p=d.nextSibling))break;f=(d=f).parentNode}d=p}n=-1===l||-1===u?null:{start:l,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(ti={focusedElem:e,selectionRange:n},Ht=!1,Zo=t;null!==Zo;)if(e=(t=Zo).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Zo=e;else for(;null!==Zo;){t=Zo;try{var m=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==m){var g=m.memoizedProps,y=m.memoizedState,v=t.stateNode,b=v.getSnapshotBeforeUpdate(t.elementType===t.type?g:gs(t.type,g),y);v.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var w=t.stateNode.containerInfo;1===w.nodeType?w.textContent="":9===w.nodeType&&w.documentElement&&w.removeChild(w.documentElement);break;default:throw Error(s(163))}}catch(_){Tu(t,t.return,_)}if(null!==(e=t.sibling)){e.return=t.return,Zo=e;break}Zo=t.return}m=nl,nl=!1}(e,n),yl(n,e),pr(ti),Ht=!!ei,ti=ei=null,e.current=n,bl(n,e,i),Je(),Nl=l,bt=o,xl.transition=a}else e.current=n;if(Ql&&(Ql=!1,Xl=e,Jl=i),a=e.pendingLanes,0===a&&(Gl=null),function(e){if(st&&"function"===typeof st.onCommitFiberRoot)try{st.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),iu(e,$e()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(ql)throw ql=!1,e=Wl,Wl=null,e;0!==(1&Jl)&&0!==e.tag&&ku(),a=e.pendingLanes,0!==(1&a)?e===Yl?$l++:($l=0,Yl=e):$l=0,zi()}(e,t,n,r)}finally{xl.transition=i,bt=r}return null}function ku(){if(null!==Xl){var e=wt(Jl),t=xl.transition,n=bt;try{if(xl.transition=null,bt=16>e?16:e,null===Xl)var r=!1;else{if(e=Xl,Xl=null,Jl=0,0!==(6&Nl))throw Error(s(331));var i=Nl;for(Nl|=4,Zo=e.current;null!==Zo;){var a=Zo,o=a.child;if(0!==(16&Zo.flags)){var l=a.deletions;if(null!==l){for(var u=0;u<l.length;u++){var c=l[u];for(Zo=c;null!==Zo;){var h=Zo;switch(h.tag){case 0:case 11:case 15:rl(8,h,a)}var d=h.child;if(null!==d)d.return=h,Zo=d;else for(;null!==Zo;){var f=(h=Zo).sibling,p=h.return;if(al(h),h===c){Zo=null;break}if(null!==f){f.return=p,Zo=f;break}Zo=p}}}var m=a.alternate;if(null!==m){var g=m.child;if(null!==g){m.child=null;do{var y=g.sibling;g.sibling=null,g=y}while(null!==g)}}Zo=a}}if(0!==(2064&a.subtreeFlags)&&null!==o)o.return=a,Zo=o;else e:for(;null!==Zo;){if(0!==(2048&(a=Zo).flags))switch(a.tag){case 0:case 11:case 15:rl(9,a,a.return)}var v=a.sibling;if(null!==v){v.return=a.return,Zo=v;break e}Zo=a.return}}var b=e.current;for(Zo=b;null!==Zo;){var w=(o=Zo).child;if(0!==(2064&o.subtreeFlags)&&null!==w)w.return=o,Zo=w;else e:for(o=b;null!==Zo;){if(0!==(2048&(l=Zo).flags))try{switch(l.tag){case 0:case 11:case 15:il(9,l)}}catch(E){Tu(l,l.return,E)}if(l===o){Zo=null;break e}var _=l.sibling;if(null!==_){_.return=l.return,Zo=_;break e}Zo=l.return}}if(Nl=i,zi(),st&&"function"===typeof st.onPostCommitFiberRoot)try{st.onPostCommitFiberRoot(it,e)}catch(E){}r=!0}return r}finally{bt=n,xl.transition=t}}return!1}function Su(e,t,n){e=Rs(e,t=po(0,t=uo(n,t),1),1),t=tu(),null!==e&&(yt(e,1,t),iu(e,t))}function Tu(e,t,n){if(3===e.tag)Su(e,e,n);else for(;null!==t;){if(3===t.tag){Su(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Gl||!Gl.has(r))){t=Rs(t,e=mo(t,e=uo(n,e),1),1),e=tu(),null!==t&&(yt(t,1,e),iu(t,e));break}}t=t.return}}function Iu(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=tu(),e.pingedLanes|=e.suspendedLanes&n,Al===e&&(Ol&n)===n&&(4===Ll||3===Ll&&(130023424&Ol)===Ol&&500>$e()-zl?fu(e,0):Ul|=n),iu(e,t)}function Cu(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ct,0===(130023424&(ct<<=1))&&(ct=4194304)));var n=tu();null!==(e=Ns(e,t))&&(yt(e,t,n),iu(e,n))}function xu(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Cu(e,n)}function Nu(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(s(314))}null!==r&&r.delete(t),Cu(e,n)}function Au(e,t){return Ge(e,t)}function Pu(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ou(e,t,n,r){return new Pu(e,t,n,r)}function Du(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Ru(e,t){var n=e.alternate;return null===n?((n=Ou(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Lu(e,t,n,r,i,a){var o=2;if(r=e,"function"===typeof e)Du(e)&&(o=1);else if("string"===typeof e)o=5;else e:switch(e){case k:return Mu(n.children,i,a,t);case S:o=8,i|=8;break;case T:return(e=Ou(12,n,t,2|i)).elementType=T,e.lanes=a,e;case N:return(e=Ou(13,n,t,i)).elementType=N,e.lanes=a,e;case A:return(e=Ou(19,n,t,i)).elementType=A,e.lanes=a,e;case D:return ju(n,i,a,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case I:o=10;break e;case C:o=9;break e;case x:o=11;break e;case P:o=14;break e;case O:o=16,r=null;break e}throw Error(s(130,null==e?e:typeof e,""))}return(t=Ou(o,n,t,i)).elementType=e,t.type=r,t.lanes=a,t}function Mu(e,t,n,r){return(e=Ou(7,e,r,t)).lanes=n,e}function ju(e,t,n,r){return(e=Ou(22,e,r,t)).elementType=D,e.lanes=n,e.stateNode={isHidden:!1},e}function Fu(e,t,n){return(e=Ou(6,e,null,t)).lanes=n,e}function Uu(e,t,n){return(t=Ou(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Vu(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=gt(0),this.expirationTimes=gt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Bu(e,t,n,r,i,s,a,o,l){return e=new Vu(e,t,n,o,l),1===t?(t=1,!0===s&&(t|=8)):t=0,s=Ou(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ps(s),e}function zu(e){if(!e)return Ci;e:{if(ze(e=e._reactInternals)!==e||1!==e.tag)throw Error(s(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Oi(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(s(171))}if(1===e.tag){var n=e.type;if(Oi(n))return Li(e,n,t)}return t}function Ku(e,t,n,r,i,s,a,o,l){return(e=Bu(n,r,!0,e,0,s,0,o,l)).context=zu(null),n=e.current,(s=Ds(r=tu(),i=nu(n))).callback=void 0!==t&&null!==t?t:null,Rs(n,s,i),e.current.lanes=i,yt(e,i,r),iu(e,r),e}function Hu(e,t,n,r){var i=t.current,s=tu(),a=nu(i);return n=zu(n),null===t.context?t.context=n:t.pendingContext=n,(t=Ds(s,a)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Rs(i,t,a))&&(ru(e,i,a,s),Ls(e,i,a)),a}function qu(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Wu(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Gu(e,t){Wu(e,t),(e=e.alternate)&&Wu(e,t)}Sl=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ni.current)wo=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return wo=!1,function(e,t,n){switch(t.tag){case 3:Ao(t),fs();break;case 5:sa(t);break;case 1:Oi(t.type)&&Mi(t);break;case 4:ra(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Ii(ys,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Ii(oa,1&oa.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Fo(e,t,n):(Ii(oa,1&oa.current),null!==(e=qo(e,t,n))?e.sibling:null);Ii(oa,1&oa.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return Ko(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ii(oa,oa.current),r)break;return null;case 22:case 23:return t.lanes=0,To(e,t,n)}return qo(e,t,n)}(e,t,n);wo=0!==(131072&e.flags)}else wo=!1,is&&0!==(1048576&t.flags)&&Zi(t,Wi,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Ho(e,t),e=t.pendingProps;var i=Pi(t,xi.current);Ss(t,n),i=ka(null,t,r,e,i,n);var a=Sa();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Oi(r)?(a=!0,Mi(t)):a=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Ps(t),i.updater=Bs,t.stateNode=i,i._reactInternals=t,qs(t,r,e,n),t=No(null,t,r,!0,a,n)):(t.tag=0,is&&a&&es(t),_o(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Ho(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return Du(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===x)return 11;if(e===P)return 14}return 2}(r),e=gs(r,e),i){case 0:t=Co(null,t,r,e,n);break e;case 1:t=xo(null,t,r,e,n);break e;case 11:t=Eo(null,t,r,e,n);break e;case 14:t=ko(null,t,r,gs(r.type,e),n);break e}throw Error(s(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,Co(e,t,r,i=t.elementType===r?i:gs(r,i),n);case 1:return r=t.type,i=t.pendingProps,xo(e,t,r,i=t.elementType===r?i:gs(r,i),n);case 3:e:{if(Ao(t),null===e)throw Error(s(387));r=t.pendingProps,i=(a=t.memoizedState).element,Os(e,t),js(t,r,null,n);var o=t.memoizedState;if(r=o.element,a.isDehydrated){if(a={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=a,t.memoizedState=a,256&t.flags){t=Po(e,t,r,n,i=uo(Error(s(423)),t));break e}if(r!==i){t=Po(e,t,r,n,i=uo(Error(s(424)),t));break e}for(rs=ui(t.stateNode.containerInfo.firstChild),ns=t,is=!0,ss=null,n=$s(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(fs(),r===i){t=qo(e,t,n);break e}_o(e,t,r,n)}t=t.child}return t;case 5:return sa(t),null===e&&us(t),r=t.type,i=t.pendingProps,a=null!==e?e.memoizedProps:null,o=i.children,ni(r,i)?o=null:null!==a&&ni(r,a)&&(t.flags|=32),Io(e,t),_o(e,t,o,n),t.child;case 6:return null===e&&us(t),null;case 13:return Fo(e,t,n);case 4:return ra(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Js(t,null,r,n):_o(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,Eo(e,t,r,i=t.elementType===r?i:gs(r,i),n);case 7:return _o(e,t,t.pendingProps,n),t.child;case 8:case 12:return _o(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,a=t.memoizedProps,o=i.value,Ii(ys,r._currentValue),r._currentValue=o,null!==a)if(or(a.value,o)){if(a.children===i.children&&!Ni.current){t=qo(e,t,n);break e}}else for(null!==(a=t.child)&&(a.return=t);null!==a;){var l=a.dependencies;if(null!==l){o=a.child;for(var u=l.firstContext;null!==u;){if(u.context===r){if(1===a.tag){(u=Ds(-1,n&-n)).tag=2;var c=a.updateQueue;if(null!==c){var h=(c=c.shared).pending;null===h?u.next=u:(u.next=h.next,h.next=u),c.pending=u}}a.lanes|=n,null!==(u=a.alternate)&&(u.lanes|=n),ks(a.return,n,t),l.lanes|=n;break}u=u.next}}else if(10===a.tag)o=a.type===t.type?null:a.child;else if(18===a.tag){if(null===(o=a.return))throw Error(s(341));o.lanes|=n,null!==(l=o.alternate)&&(l.lanes|=n),ks(o,n,t),o=a.sibling}else o=a.child;if(null!==o)o.return=a;else for(o=a;null!==o;){if(o===t){o=null;break}if(null!==(a=o.sibling)){a.return=o.return,o=a;break}o=o.return}a=o}_o(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Ss(t,n),r=r(i=Ts(i)),t.flags|=1,_o(e,t,r,n),t.child;case 14:return i=gs(r=t.type,t.pendingProps),ko(e,t,r,i=gs(r.type,i),n);case 15:return So(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:gs(r,i),Ho(e,t),t.tag=1,Oi(r)?(e=!0,Mi(t)):e=!1,Ss(t,n),Ks(t,r,i),qs(t,r,i,n),No(null,t,r,!0,e,n);case 19:return Ko(e,t,n);case 22:return To(e,t,n)}throw Error(s(156,t.tag))};var Qu="function"===typeof reportError?reportError:function(e){console.error(e)};function Xu(e){this._internalRoot=e}function Ju(e){this._internalRoot=e}function $u(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Yu(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Zu(){}function ec(e,t,n,r,i){var s=n._reactRootContainer;if(s){var a=s;if("function"===typeof i){var o=i;i=function(){var e=qu(a);o.call(e)}}Hu(t,a,e,i)}else a=function(e,t,n,r,i){if(i){if("function"===typeof r){var s=r;r=function(){var e=qu(a);s.call(e)}}var a=Ku(t,r,e,0,null,!1,0,"",Zu);return e._reactRootContainer=a,e[pi]=a.current,zr(8===e.nodeType?e.parentNode:e),hu(),a}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var o=r;r=function(){var e=qu(l);o.call(e)}}var l=Bu(e,0,!1,null,0,!1,0,"",Zu);return e._reactRootContainer=l,e[pi]=l.current,zr(8===e.nodeType?e.parentNode:e),hu((function(){Hu(t,l,n,r)})),l}(n,t,e,i,r);return qu(a)}Ju.prototype.render=Xu.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(s(409));Hu(e,t,null,null)},Ju.prototype.unmount=Xu.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;hu((function(){Hu(null,e,null,null)})),t[pi]=null}},Ju.prototype.unstable_scheduleHydration=function(e){if(e){var t=St();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Dt.length&&0!==t&&t<Dt[n].priority;n++);Dt.splice(n,0,e),0===n&&jt(e)}},_t=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ht(t.pendingLanes);0!==n&&(vt(t,1|n),iu(t,$e()),0===(6&Nl)&&(Kl=$e()+500,zi()))}break;case 13:hu((function(){var t=Ns(e,1);if(null!==t){var n=tu();ru(t,e,1,n)}})),Gu(e,1)}},Et=function(e){if(13===e.tag){var t=Ns(e,134217728);if(null!==t)ru(t,e,134217728,tu());Gu(e,134217728)}},kt=function(e){if(13===e.tag){var t=nu(e),n=Ns(e,t);if(null!==n)ru(n,e,t,tu());Gu(e,t)}},St=function(){return bt},Tt=function(e,t){var n=bt;try{return bt=e,t()}finally{bt=n}},Ee=function(e,t,n){switch(t){case"input":if(Y(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=_i(r);if(!i)throw Error(s(90));G(r),Y(r,i)}}}break;case"textarea":se(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},xe=cu,Ne=hu;var tc={usingClientEntryPoint:!1,Events:[bi,wi,_i,Ie,Ce,cu]},nc={findFiberByHostInstance:vi,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},rc={bundleType:nc.bundleType,version:nc.version,rendererPackageName:nc.rendererPackageName,rendererConfig:nc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:w.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=qe(e))?null:e.stateNode},findFiberByHostInstance:nc.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var ic=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ic.isDisabled&&ic.supportsFiber)try{it=ic.inject(rc),st=ic}catch(ce){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tc,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!$u(t))throw Error(s(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:E,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!$u(e))throw Error(s(299));var n=!1,r="",i=Qu;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=Bu(e,1,!1,null,0,n,0,r,i),e[pi]=t.current,zr(8===e.nodeType?e.parentNode:e),new Xu(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(s(188));throw e=Object.keys(e).join(","),Error(s(268,e))}return e=null===(e=qe(t))?null:e.stateNode},t.flushSync=function(e){return hu(e)},t.hydrate=function(e,t,n){if(!Yu(t))throw Error(s(200));return ec(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!$u(e))throw Error(s(405));var r=null!=n&&n.hydratedSources||null,i=!1,a="",o=Qu;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(a=n.identifierPrefix),void 0!==n.onRecoverableError&&(o=n.onRecoverableError)),t=Ku(t,null,e,1,null!=n?n:null,i,0,a,o),e[pi]=t.current,zr(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Ju(t)},t.render=function(e,t,n){if(!Yu(t))throw Error(s(200));return ec(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Yu(e))throw Error(s(40));return!!e._reactRootContainer&&(hu((function(){ec(null,null,e,!1,(function(){e._reactRootContainer=null,e[pi]=null}))})),!0)},t.unstable_batchedUpdates=cu,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Yu(n))throw Error(s(200));if(null==e||void 0===e._reactInternals)throw Error(s(38));return ec(e,t,n,!1,r)},t.version="18.2.0-next-9e3b772b8-20220608"},391:(e,t,n)=>{var r=n(950);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},950:(e,t,n)=>{!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(730)},153:(e,t,n)=>{var r=n(43),i=Symbol.for("react.element"),s=Symbol.for("react.fragment"),a=Object.prototype.hasOwnProperty,o=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function u(e,t,n){var r,s={},u=null,c=null;for(r in void 0!==n&&(u=""+n),void 0!==t.key&&(u=""+t.key),void 0!==t.ref&&(c=t.ref),t)a.call(t,r)&&!l.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===s[r]&&(s[r]=t[r]);return{$$typeof:i,type:e,key:u,ref:c,props:s,_owner:o.current}}t.Fragment=s,t.jsx=u,t.jsxs=u},202:(e,t)=>{var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),f=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,g={};function y(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}function v(){}function b(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},v.prototype=y.prototype;var w=b.prototype=new v;w.constructor=b,m(w,y.prototype),w.isPureReactComponent=!0;var _=Array.isArray,E=Object.prototype.hasOwnProperty,k={current:null},S={key:!0,ref:!0,__self:!0,__source:!0};function T(e,t,r){var i,s={},a=null,o=null;if(null!=t)for(i in void 0!==t.ref&&(o=t.ref),void 0!==t.key&&(a=""+t.key),t)E.call(t,i)&&!S.hasOwnProperty(i)&&(s[i]=t[i]);var l=arguments.length-2;if(1===l)s.children=r;else if(1<l){for(var u=Array(l),c=0;c<l;c++)u[c]=arguments[c+2];s.children=u}if(e&&e.defaultProps)for(i in l=e.defaultProps)void 0===s[i]&&(s[i]=l[i]);return{$$typeof:n,type:e,key:a,ref:o,props:s,_owner:k.current}}function I(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var C=/\/+/g;function x(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function N(e,t,i,s,a){var o=typeof e;"undefined"!==o&&"boolean"!==o||(e=null);var l=!1;if(null===e)l=!0;else switch(o){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case n:case r:l=!0}}if(l)return a=a(l=e),e=""===s?"."+x(l,0):s,_(a)?(i="",null!=e&&(i=e.replace(C,"$&/")+"/"),N(a,t,i,"",(function(e){return e}))):null!=a&&(I(a)&&(a=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(a,i+(!a.key||l&&l.key===a.key?"":(""+a.key).replace(C,"$&/")+"/")+e)),t.push(a)),1;if(l=0,s=""===s?".":s+":",_(e))for(var u=0;u<e.length;u++){var c=s+x(o=e[u],u);l+=N(o,t,i,c,a)}else if(c=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=f&&e[f]||e["@@iterator"])?e:null}(e),"function"===typeof c)for(e=c.call(e),u=0;!(o=e.next()).done;)l+=N(o=o.value,t,i,c=s+x(o,u++),a);else if("object"===o)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function A(e,t,n){if(null==e)return e;var r=[],i=0;return N(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function P(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var O={current:null},D={transition:null},R={ReactCurrentDispatcher:O,ReactCurrentBatchConfig:D,ReactCurrentOwner:k};t.Children={map:A,forEach:function(e,t,n){A(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return A(e,(function(){t++})),t},toArray:function(e){return A(e,(function(e){return e}))||[]},only:function(e){if(!I(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=y,t.Fragment=i,t.Profiler=a,t.PureComponent=b,t.StrictMode=s,t.Suspense=c,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=R,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=m({},e.props),s=e.key,a=e.ref,o=e._owner;if(null!=t){if(void 0!==t.ref&&(a=t.ref,o=k.current),void 0!==t.key&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(u in t)E.call(t,u)&&!S.hasOwnProperty(u)&&(i[u]=void 0===t[u]&&void 0!==l?l[u]:t[u])}var u=arguments.length-2;if(1===u)i.children=r;else if(1<u){l=Array(u);for(var c=0;c<u;c++)l[c]=arguments[c+2];i.children=l}return{$$typeof:n,type:e.type,key:s,ref:a,props:i,_owner:o}},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:o,_context:e},e.Consumer=e},t.createElement=T,t.createFactory=function(e){var t=T.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:u,render:e}},t.isValidElement=I,t.lazy=function(e){return{$$typeof:d,_payload:{_status:-1,_result:e},_init:P}},t.memo=function(e,t){return{$$typeof:h,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=D.transition;D.transition={};try{e()}finally{D.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return O.current.useCallback(e,t)},t.useContext=function(e){return O.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return O.current.useDeferredValue(e)},t.useEffect=function(e,t){return O.current.useEffect(e,t)},t.useId=function(){return O.current.useId()},t.useImperativeHandle=function(e,t,n){return O.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return O.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return O.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return O.current.useMemo(e,t)},t.useReducer=function(e,t,n){return O.current.useReducer(e,t,n)},t.useRef=function(e){return O.current.useRef(e)},t.useState=function(e){return O.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return O.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return O.current.useTransition()},t.version="18.2.0"},43:(e,t,n)=>{e.exports=n(202)},579:(e,t,n)=>{e.exports=n(153)},234:(e,t)=>{function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<s(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,a=i>>>1;r<a;){var o=2*(r+1)-1,l=e[o],u=o+1,c=e[u];if(0>s(l,n))u<i&&0>s(c,l)?(e[r]=c,e[u]=n,r=u):(e[r]=l,e[o]=n,r=o);else{if(!(u<i&&0>s(c,n)))break e;e[r]=c,e[u]=n,r=u}}}return t}function s(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var a=performance;t.unstable_now=function(){return a.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var u=[],c=[],h=1,d=null,f=3,p=!1,m=!1,g=!1,y="function"===typeof setTimeout?setTimeout:null,v="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof setImmediate?setImmediate:null;function w(e){for(var t=r(c);null!==t;){if(null===t.callback)i(c);else{if(!(t.startTime<=e))break;i(c),t.sortIndex=t.expirationTime,n(u,t)}t=r(c)}}function _(e){if(g=!1,w(e),!m)if(null!==r(u))m=!0,D(E);else{var t=r(c);null!==t&&R(_,t.startTime-e)}}function E(e,n){m=!1,g&&(g=!1,v(I),I=-1),p=!0;var s=f;try{for(w(n),d=r(u);null!==d&&(!(d.expirationTime>n)||e&&!N());){var a=d.callback;if("function"===typeof a){d.callback=null,f=d.priorityLevel;var o=a(d.expirationTime<=n);n=t.unstable_now(),"function"===typeof o?d.callback=o:d===r(u)&&i(u),w(n)}else i(u);d=r(u)}if(null!==d)var l=!0;else{var h=r(c);null!==h&&R(_,h.startTime-n),l=!1}return l}finally{d=null,f=s,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var k,S=!1,T=null,I=-1,C=5,x=-1;function N(){return!(t.unstable_now()-x<C)}function A(){if(null!==T){var e=t.unstable_now();x=e;var n=!0;try{n=T(!0,e)}finally{n?k():(S=!1,T=null)}}else S=!1}if("function"===typeof b)k=function(){b(A)};else if("undefined"!==typeof MessageChannel){var P=new MessageChannel,O=P.port2;P.port1.onmessage=A,k=function(){O.postMessage(null)}}else k=function(){y(A,0)};function D(e){T=e,S||(S=!0,k())}function R(e,n){I=y((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){m||p||(m=!0,D(E))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return r(u)},t.unstable_next=function(e){switch(f){case 1:case 2:case 3:var t=3;break;default:t=f}var n=f;f=t;try{return e()}finally{f=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=f;f=e;try{return t()}finally{f=n}},t.unstable_scheduleCallback=function(e,i,s){var a=t.unstable_now();switch("object"===typeof s&&null!==s?s="number"===typeof(s=s.delay)&&0<s?a+s:a:s=a,e){case 1:var o=-1;break;case 2:o=250;break;case 5:o=1073741823;break;case 4:o=1e4;break;default:o=5e3}return e={id:h++,callback:i,priorityLevel:e,startTime:s,expirationTime:o=s+o,sortIndex:-1},s>a?(e.sortIndex=s,n(c,e),null===r(u)&&e===r(c)&&(g?(v(I),I=-1):g=!0,R(_,s-a))):(e.sortIndex=o,n(u,e),m||p||(m=!0,D(E))),e},t.unstable_shouldYield=N,t.unstable_wrapCallback=function(e){var t=f;return function(){var n=f;f=t;try{return e.apply(this,arguments)}finally{f=n}}}},853:(e,t,n)=>{e.exports=n(234)}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var s=t[r]={exports:{}};return e[r](s,s.exports,n),s.exports}n.m=e,n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.f={},n.e=e=>Promise.all(Object.keys(n.f).reduce(((t,r)=>(n.f[r](e,t),t)),[])),n.u=e=>"static/js/"+e+".b6045f16.chunk.js",n.miniCssF=e=>{},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={},t="snookerlive:";n.l=(r,i,s,a)=>{if(e[r])e[r].push(i);else{var o,l;if(void 0!==s)for(var u=document.getElementsByTagName("script"),c=0;c<u.length;c++){var h=u[c];if(h.getAttribute("src")==r||h.getAttribute("data-webpack")==t+s){o=h;break}}o||(l=!0,(o=document.createElement("script")).charset="utf-8",o.timeout=120,n.nc&&o.setAttribute("nonce",n.nc),o.setAttribute("data-webpack",t+s),o.src=r),e[r]=[i];var d=(t,n)=>{o.onerror=o.onload=null,clearTimeout(f);var i=e[r];if(delete e[r],o.parentNode&&o.parentNode.removeChild(o),i&&i.forEach((e=>e(n))),t)return t(n)},f=setTimeout(d.bind(null,void 0,{type:"timeout",target:o}),12e4);o.onerror=d.bind(null,o.onerror),o.onload=d.bind(null,o.onload),l&&document.head.appendChild(o)}}})(),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="/snooker-live/",(()=>{var e={792:0};n.f.j=(t,r)=>{var i=n.o(e,t)?e[t]:void 0;if(0!==i)if(i)r.push(i[2]);else{var s=new Promise(((n,r)=>i=e[t]=[n,r]));r.push(i[2]=s);var a=n.p+n.u(t),o=new Error;n.l(a,(r=>{if(n.o(e,t)&&(0!==(i=e[t])&&(e[t]=void 0),i)){var s=r&&("load"===r.type?"missing":r.type),a=r&&r.target&&r.target.src;o.message="Loading chunk "+t+" failed.\n("+s+": "+a+")",o.name="ChunkLoadError",o.type=s,o.request=a,i[1](o)}}),"chunk-"+t,t)}};var t=(t,r)=>{var i,s,a=r[0],o=r[1],l=r[2],u=0;if(a.some((t=>0!==e[t]))){for(i in o)n.o(o,i)&&(n.m[i]=o[i]);if(l)l(n)}for(t&&t(r);u<a.length;u++)s=a[u],n.o(e,s)&&e[s]&&e[s][0](),e[s]=0},r=self.webpackChunksnookerlive=self.webpackChunksnookerlive||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})(),(()=>{var e=n(43),t=n(391);const r="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:global,i=Object.keys,s=Array.isArray;function a(e,t){return"object"!=typeof t||i(t).forEach((function(n){e[n]=t[n]})),e}"undefined"==typeof Promise||r.Promise||(r.Promise=Promise);const o=Object.getPrototypeOf,l={}.hasOwnProperty;function u(e,t){return l.call(e,t)}function c(e,t){"function"==typeof t&&(t=t(o(e))),("undefined"==typeof Reflect?i:Reflect.ownKeys)(t).forEach((n=>{d(e,n,t[n])}))}const h=Object.defineProperty;function d(e,t,n,r){h(e,t,a(n&&u(n,"get")&&"function"==typeof n.get?{get:n.get,set:n.set,configurable:!0}:{value:n,configurable:!0,writable:!0},r))}function f(e){return{from:function(t){return e.prototype=Object.create(t.prototype),d(e.prototype,"constructor",e),{extend:c.bind(null,e.prototype)}}}}const p=Object.getOwnPropertyDescriptor;function m(e,t){let n;return p(e,t)||(n=o(e))&&m(n,t)}const g=[].slice;function y(e,t,n){return g.call(e,t,n)}function v(e,t){return t(e)}function b(e){if(!e)throw new Error("Assertion Failed")}function w(e){r.setImmediate?setImmediate(e):setTimeout(e,0)}function _(e,t){return e.reduce(((e,n,r)=>{var i=t(n,r);return i&&(e[i[0]]=i[1]),e}),{})}function E(e,t){if("string"==typeof t&&u(e,t))return e[t];if(!t)return e;if("string"!=typeof t){for(var n=[],r=0,i=t.length;r<i;++r){var s=E(e,t[r]);n.push(s)}return n}var a=t.indexOf(".");if(-1!==a){var o=e[t.substr(0,a)];return void 0===o?void 0:E(o,t.substr(a+1))}}function k(e,t,n){if(e&&void 0!==t&&(!("isFrozen"in Object)||!Object.isFrozen(e)))if("string"!=typeof t&&"length"in t){b("string"!=typeof n&&"length"in n);for(var r=0,i=t.length;r<i;++r)k(e,t[r],n[r])}else{var a=t.indexOf(".");if(-1!==a){var o=t.substr(0,a),l=t.substr(a+1);if(""===l)void 0===n?s(e)&&!isNaN(parseInt(o))?e.splice(o,1):delete e[o]:e[o]=n;else{var c=e[o];c&&u(e,o)||(c=e[o]={}),k(c,l,n)}}else void 0===n?s(e)&&!isNaN(parseInt(t))?e.splice(t,1):delete e[t]:e[t]=n}}function S(e){var t={};for(var n in e)u(e,n)&&(t[n]=e[n]);return t}const T=[].concat;function I(e){return T.apply([],e)}const C="BigUint64Array,BigInt64Array,Array,Boolean,String,Date,RegExp,Blob,File,FileList,FileSystemFileHandle,FileSystemDirectoryHandle,ArrayBuffer,DataView,Uint8ClampedArray,ImageBitmap,ImageData,Map,Set,CryptoKey".split(",").concat(I([8,16,32,64].map((e=>["Int","Uint","Float"].map((t=>t+e+"Array")))))).filter((e=>r[e])),x=C.map((e=>r[e]));_(C,(e=>[e,!0]));let N=null;function A(e){N="undefined"!=typeof WeakMap&&new WeakMap;const t=P(e);return N=null,t}function P(e){if(!e||"object"!=typeof e)return e;let t=N&&N.get(e);if(t)return t;if(s(e)){t=[],N&&N.set(e,t);for(var n=0,r=e.length;n<r;++n)t.push(P(e[n]))}else if(x.indexOf(e.constructor)>=0)t=e;else{const n=o(e);for(var i in t=n===Object.prototype?{}:Object.create(n),N&&N.set(e,t),e)u(e,i)&&(t[i]=P(e[i]))}return t}const{toString:O}={};function D(e){return O.call(e).slice(8,-1)}const R="undefined"!=typeof Symbol?Symbol.iterator:"@@iterator",L="symbol"==typeof R?function(e){var t;return null!=e&&(t=e[R])&&t.apply(e)}:function(){return null},M={};function j(e){var t,n,r,i;if(1===arguments.length){if(s(e))return e.slice();if(this===M&&"string"==typeof e)return[e];if(i=L(e)){for(n=[];!(r=i.next()).done;)n.push(r.value);return n}if(null==e)return[e];if("number"==typeof(t=e.length)){for(n=new Array(t);t--;)n[t]=e[t];return n}return[e]}for(t=arguments.length,n=new Array(t);t--;)n[t]=arguments[t];return n}const F="undefined"!=typeof Symbol?e=>"AsyncFunction"===e[Symbol.toStringTag]:()=>!1;var U="undefined"!=typeof location&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function V(e,t){U=e,B=t}var B=()=>!0;const z=!new Error("").stack;function K(){if(z)try{throw K.arguments,new Error}catch(r){return r}return new Error}function H(e,t){var n=e.stack;return n?(t=t||0,0===n.indexOf(e.name)&&(t+=(e.name+e.message).split("\n").length),n.split("\n").slice(t).filter(B).map((e=>"\n"+e)).join("")):""}var q=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"],W=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"].concat(q),G={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed",MissingAPI:"IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb"};function Q(e,t){this._e=K(),this.name=e,this.message=t}function X(e,t){return e+". Errors: "+Object.keys(t).map((e=>t[e].toString())).filter(((e,t,n)=>n.indexOf(e)===t)).join("\n")}function J(e,t,n,r){this._e=K(),this.failures=t,this.failedKeys=r,this.successCount=n,this.message=X(e,t)}function $(e,t){this._e=K(),this.name="BulkError",this.failures=Object.keys(t).map((e=>t[e])),this.failuresByPos=t,this.message=X(e,t)}f(Q).from(Error).extend({stack:{get:function(){return this._stack||(this._stack=this.name+": "+this.message+H(this._e,2))}},toString:function(){return this.name+": "+this.message}}),f(J).from(Q),f($).from(Q);var Y=W.reduce(((e,t)=>(e[t]=t+"Error",e)),{});const Z=Q;var ee=W.reduce(((e,t)=>{var n=t+"Error";function r(e,r){this._e=K(),this.name=n,e?"string"==typeof e?(this.message="".concat(e).concat(r?"\n "+r:""),this.inner=r||null):"object"==typeof e&&(this.message="".concat(e.name," ").concat(e.message),this.inner=e):(this.message=G[t]||n,this.inner=null)}return f(r).from(Z),e[t]=r,e}),{});ee.Syntax=SyntaxError,ee.Type=TypeError,ee.Range=RangeError;var te=q.reduce(((e,t)=>(e[t+"Error"]=ee[t],e)),{}),ne=W.reduce(((e,t)=>(-1===["Syntax","Type","Range"].indexOf(t)&&(e[t+"Error"]=ee[t]),e)),{});function re(){}function ie(e){return e}function se(e,t){return null==e||e===ie?t:function(n){return t(e(n))}}function ae(e,t){return function(){e.apply(this,arguments),t.apply(this,arguments)}}function oe(e,t){return e===re?t:function(){var n=e.apply(this,arguments);void 0!==n&&(arguments[0]=n);var r=this.onsuccess,i=this.onerror;this.onsuccess=null,this.onerror=null;var s=t.apply(this,arguments);return r&&(this.onsuccess=this.onsuccess?ae(r,this.onsuccess):r),i&&(this.onerror=this.onerror?ae(i,this.onerror):i),void 0!==s?s:n}}function le(e,t){return e===re?t:function(){e.apply(this,arguments);var n=this.onsuccess,r=this.onerror;this.onsuccess=this.onerror=null,t.apply(this,arguments),n&&(this.onsuccess=this.onsuccess?ae(n,this.onsuccess):n),r&&(this.onerror=this.onerror?ae(r,this.onerror):r)}}function ue(e,t){return e===re?t:function(n){var r=e.apply(this,arguments);a(n,r);var i=this.onsuccess,s=this.onerror;this.onsuccess=null,this.onerror=null;var o=t.apply(this,arguments);return i&&(this.onsuccess=this.onsuccess?ae(i,this.onsuccess):i),s&&(this.onerror=this.onerror?ae(s,this.onerror):s),void 0===r?void 0===o?void 0:o:a(r,o)}}function ce(e,t){return e===re?t:function(){return!1!==t.apply(this,arguments)&&e.apply(this,arguments)}}function he(e,t){return e===re?t:function(){var n=e.apply(this,arguments);if(n&&"function"==typeof n.then){for(var r=this,i=arguments.length,s=new Array(i);i--;)s[i]=arguments[i];return n.then((function(){return t.apply(r,s)}))}return t.apply(this,arguments)}}ne.ModifyError=J,ne.DexieError=Q,ne.BulkError=$;var de={};const fe=100,[pe,me,ge]="undefined"==typeof Promise?[]:(()=>{let e=Promise.resolve();if("undefined"==typeof crypto||!crypto.subtle)return[e,o(e),e];const t=crypto.subtle.digest("SHA-512",new Uint8Array([0]));return[t,o(t),e]})(),ye=me&&me.then,ve=pe&&pe.constructor,be=!!ge;var we=!1,_e=ge?()=>{ge.then(He)}:r.setImmediate?setImmediate.bind(null,He):r.MutationObserver?()=>{var e=document.createElement("div");new MutationObserver((()=>{He(),e=null})).observe(e,{attributes:!0}),e.setAttribute("i","1")}:()=>{setTimeout(He,0)},Ee=function(e,t){Pe.push([e,t]),Se&&(_e(),Se=!1)},ke=!0,Se=!0,Te=[],Ie=[],Ce=null,xe=ie,Ne={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:mt,pgp:!1,env:{},finalize:function(){this.unhandleds.forEach((e=>{try{mt(e[0],e[1])}catch(e){}}))}},Ae=Ne,Pe=[],Oe=0,De=[];function Re(e){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");this._listeners=[],this.onuncatched=re,this._lib=!1;var t=this._PSD=Ae;if(U&&(this._stackHolder=K(),this._prev=null,this._numPrev=0),"function"!=typeof e){if(e!==de)throw new TypeError("Not a function");return this._state=arguments[1],this._value=arguments[2],void(!1===this._state&&Fe(this,this._value))}this._state=null,this._value=null,++t.ref,je(this,e)}const Le={get:function(){var e=Ae,t=et;function n(n,r){var i=!e.global&&(e!==Ae||t!==et);const s=i&&!it();var a=new Re(((t,a)=>{Ve(this,new Me(dt(n,e,i,s),dt(r,e,i,s),t,a,e))}));return U&&Ke(a,this),a}return n.prototype=de,n},set:function(e){d(this,"then",e&&e.prototype===de?Le:{get:function(){return e},set:Le.set})}};function Me(e,t,n,r,i){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof t?t:null,this.resolve=n,this.reject=r,this.psd=i}function je(e,t){try{t((t=>{if(null===e._state){if(t===e)throw new TypeError("A promise cannot be resolved with itself.");var n=e._lib&&qe();t&&"function"==typeof t.then?je(e,((e,n)=>{t instanceof Re?t._then(e,n):t.then(e,n)})):(e._state=!0,e._value=t,Ue(e)),n&&We()}}),Fe.bind(null,e))}catch(t){Fe(e,t)}}function Fe(e,t){if(Ie.push(t),null===e._state){var n=e._lib&&qe();t=xe(t),e._state=!1,e._value=t,U&&null!==t&&"object"==typeof t&&!t._promise&&function(e,t,n){try{e.apply(null,void 0)}catch(e){}}((()=>{var n=m(t,"stack");t._promise=e,d(t,"stack",{get:()=>we?n&&(n.get?n.get.apply(t):n.value):e.stack})})),function(e){Te.some((t=>t._value===e._value))||Te.push(e)}(e),Ue(e),n&&We()}}function Ue(e){var t=e._listeners;e._listeners=[];for(var n=0,r=t.length;n<r;++n)Ve(e,t[n]);var i=e._PSD;--i.ref||i.finalize(),0===Oe&&(++Oe,Ee((()=>{0==--Oe&&Ge()}),[]))}function Ve(e,t){if(null!==e._state){var n=e._state?t.onFulfilled:t.onRejected;if(null===n)return(e._state?t.resolve:t.reject)(e._value);++t.psd.ref,++Oe,Ee(Be,[n,e,t])}else e._listeners.push(t)}function Be(e,t,n){try{Ce=t;var r,i=t._value;t._state?r=e(i):(Ie.length&&(Ie=[]),r=e(i),-1===Ie.indexOf(i)&&function(e){for(var t=Te.length;t;)if(Te[--t]._value===e._value)return void Te.splice(t,1)}(t)),n.resolve(r)}catch(e){n.reject(e)}finally{Ce=null,0==--Oe&&Ge(),--n.psd.ref||n.psd.finalize()}}function ze(e,t,n){if(t.length===n)return t;var r="";if(!1===e._state){var i,s,a=e._value;null!=a?(i=a.name||"Error",s=a.message||a,r=H(a,0)):(i=a,s=""),t.push(i+(s?": "+s:"")+r)}return U&&((r=H(e._stackHolder,2))&&-1===t.indexOf(r)&&t.push(r),e._prev&&ze(e._prev,t,n)),t}function Ke(e,t){var n=t?t._numPrev+1:0;n<100&&(e._prev=t,e._numPrev=n)}function He(){qe()&&We()}function qe(){var e=ke;return ke=!1,Se=!1,e}function We(){var e,t,n;do{for(;Pe.length>0;)for(e=Pe,Pe=[],n=e.length,t=0;t<n;++t){var r=e[t];r[0].apply(null,r[1])}}while(Pe.length>0);ke=!0,Se=!0}function Ge(){var e=Te;Te=[],e.forEach((e=>{e._PSD.onunhandled.call(null,e._value,e)}));for(var t=De.slice(0),n=t.length;n;)t[--n]()}function Qe(e){return new Re(de,!1,e)}function Xe(e,t){var n=Ae;return function(){var r=qe(),i=Ae;try{return lt(n,!0),e.apply(this,arguments)}catch(e){t&&t(e)}finally{lt(i,!1),r&&We()}}}c(Re.prototype,{then:Le,_then:function(e,t){Ve(this,new Me(null,null,e,t,Ae))},catch:function(e){if(1===arguments.length)return this.then(null,e);var t=arguments[0],n=arguments[1];return"function"==typeof t?this.then(null,(e=>e instanceof t?n(e):Qe(e))):this.then(null,(e=>e&&e.name===t?n(e):Qe(e)))},finally:function(e){return this.then((t=>(e(),t)),(t=>(e(),Qe(t))))},stack:{get:function(){if(this._stack)return this._stack;try{we=!0;var e=ze(this,[],20).join("\nFrom previous: ");return null!==this._state&&(this._stack=e),e}finally{we=!1}}},timeout:function(e,t){return e<1/0?new Re(((n,r)=>{var i=setTimeout((()=>r(new ee.Timeout(t))),e);this.then(n,r).finally(clearTimeout.bind(null,i))})):this}}),"undefined"!=typeof Symbol&&Symbol.toStringTag&&d(Re.prototype,Symbol.toStringTag,"Dexie.Promise"),Ne.env=ut(),c(Re,{all:function(){var e=j.apply(null,arguments).map(st);return new Re((function(t,n){0===e.length&&t([]);var r=e.length;e.forEach(((i,s)=>Re.resolve(i).then((n=>{e[s]=n,--r||t(e)}),n)))}))},resolve:e=>{if(e instanceof Re)return e;if(e&&"function"==typeof e.then)return new Re(((t,n)=>{e.then(t,n)}));var t=new Re(de,!0,e);return Ke(t,Ce),t},reject:Qe,race:function(){var e=j.apply(null,arguments).map(st);return new Re(((t,n)=>{e.map((e=>Re.resolve(e).then(t,n)))}))},PSD:{get:()=>Ae,set:e=>Ae=e},totalEchoes:{get:()=>et},newPSD:nt,usePSD:ct,scheduler:{get:()=>Ee,set:e=>{Ee=e}},rejectionMapper:{get:()=>xe,set:e=>{xe=e}},follow:(e,t)=>new Re(((n,r)=>nt(((t,n)=>{var r=Ae;r.unhandleds=[],r.onunhandled=n,r.finalize=ae((function(){!function(e){De.push((function t(){e(),De.splice(De.indexOf(t),1)})),++Oe,Ee((()=>{0==--Oe&&Ge()}),[])}((()=>{0===this.unhandleds.length?t():n(this.unhandleds[0])}))}),r.finalize),e()}),t,n,r)))}),ve&&(ve.allSettled&&d(Re,"allSettled",(function(){const e=j.apply(null,arguments).map(st);return new Re((t=>{0===e.length&&t([]);let n=e.length;const r=new Array(n);e.forEach(((e,i)=>Re.resolve(e).then((e=>r[i]={status:"fulfilled",value:e}),(e=>r[i]={status:"rejected",reason:e})).then((()=>--n||t(r)))))}))})),ve.any&&"undefined"!=typeof AggregateError&&d(Re,"any",(function(){const e=j.apply(null,arguments).map(st);return new Re(((t,n)=>{0===e.length&&n(new AggregateError([]));let r=e.length;const i=new Array(r);e.forEach(((e,s)=>Re.resolve(e).then((e=>t(e)),(e=>{i[s]=e,--r||n(new AggregateError(i))}))))}))})));const Je={awaits:0,echoes:0,id:0};var $e=0,Ye=[],Ze=0,et=0,tt=0;function nt(e,t,n,r){var i=Ae,s=Object.create(i);s.parent=i,s.ref=0,s.global=!1,s.id=++tt;var o=Ne.env;s.env=be?{Promise:Re,PromiseProp:{value:Re,configurable:!0,writable:!0},all:Re.all,race:Re.race,allSettled:Re.allSettled,any:Re.any,resolve:Re.resolve,reject:Re.reject,nthen:ft(o.nthen,s),gthen:ft(o.gthen,s)}:{},t&&a(s,t),++i.ref,s.finalize=function(){--this.parent.ref||this.parent.finalize()};var l=ct(s,e,n,r);return 0===s.ref&&s.finalize(),l}function rt(){return Je.id||(Je.id=++$e),++Je.awaits,Je.echoes+=fe,Je.id}function it(){return!!Je.awaits&&(0==--Je.awaits&&(Je.id=0),Je.echoes=Je.awaits*fe,!0)}function st(e){return Je.echoes&&e&&e.constructor===ve?(rt(),e.then((e=>(it(),e)),(e=>(it(),gt(e))))):e}function at(e){++et,Je.echoes&&0!=--Je.echoes||(Je.echoes=Je.id=0),Ye.push(Ae),lt(e,!0)}function ot(){var e=Ye[Ye.length-1];Ye.pop(),lt(e,!1)}function lt(e,t){var n=Ae;if((t?!Je.echoes||Ze++&&e===Ae:!Ze||--Ze&&e===Ae)||ht(t?at.bind(null,e):ot),e!==Ae&&(Ae=e,n===Ne&&(Ne.env=ut()),be)){var i=Ne.env.Promise,s=e.env;me.then=s.nthen,i.prototype.then=s.gthen,(n.global||e.global)&&(Object.defineProperty(r,"Promise",s.PromiseProp),i.all=s.all,i.race=s.race,i.resolve=s.resolve,i.reject=s.reject,s.allSettled&&(i.allSettled=s.allSettled),s.any&&(i.any=s.any))}}function ut(){var e=r.Promise;return be?{Promise:e,PromiseProp:Object.getOwnPropertyDescriptor(r,"Promise"),all:e.all,race:e.race,allSettled:e.allSettled,any:e.any,resolve:e.resolve,reject:e.reject,nthen:me.then,gthen:e.prototype.then}:{}}function ct(e,t,n,r,i){var s=Ae;try{return lt(e,!0),t(n,r,i)}finally{lt(s,!1)}}function ht(e){ye.call(pe,e)}function dt(e,t,n,r){return"function"!=typeof e?e:function(){var i=Ae;n&&rt(),lt(t,!0);try{return e.apply(this,arguments)}finally{lt(i,!1),r&&ht(it)}}}function ft(e,t){return function(n,r){return e.call(this,dt(n,t),dt(r,t))}}-1===(""+ye).indexOf("[native code]")&&(rt=it=re);const pt="unhandledrejection";function mt(e,t){var n;try{n=t.onuncatched(e)}catch(r){}if(!1!==n)try{var i,s={promise:t,reason:e};if(r.document&&document.createEvent?((i=document.createEvent("Event")).initEvent(pt,!0,!0),a(i,s)):r.CustomEvent&&a(i=new CustomEvent(pt,{detail:s}),s),i&&r.dispatchEvent&&(dispatchEvent(i),!r.PromiseRejectionEvent&&r.onunhandledrejection))try{r.onunhandledrejection(i)}catch(r){}U&&i&&!i.defaultPrevented&&console.warn("Unhandled rejection: ".concat(e.stack||e))}catch(r){}}var gt=Re.reject;function yt(e,t,n,r){if(e.idbdb&&(e._state.openComplete||Ae.letThrough||e._vip)){var i=e._createTransaction(t,n,e._dbSchema);try{i.create(),e._state.PR1398_maxLoop=3}catch(i){return i.name===Y.InvalidState&&e.isOpen()&&--e._state.PR1398_maxLoop>0?(console.warn("Dexie: Need to reopen db"),e._close(),e.open().then((()=>yt(e,t,n,r)))):gt(i)}return i._promise(t,((e,t)=>nt((()=>(Ae.trans=i,r(e,t,i)))))).then((e=>i._completion.then((()=>e))))}if(e._state.openComplete)return gt(new ee.DatabaseClosed(e._state.dbOpenError));if(!e._state.isBeingOpened){if(!e._options.autoOpen)return gt(new ee.DatabaseClosed);e.open().catch(re)}return e._state.dbReadyPromise.then((()=>yt(e,t,n,r)))}const vt="3.2.5",bt=String.fromCharCode(65535),wt=-1/0,_t="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",Et="String expected.",kt=[],St="undefined"!=typeof navigator&&/(MSIE|Trident|Edge)/.test(navigator.userAgent),Tt=St,It=St,Ct=e=>!/(dexie\.js|dexie\.min\.js)/.test(e),xt="__dbnames",Nt="readonly",At="readwrite";function Pt(e,t){return e?t?function(){return e.apply(this,arguments)&&t.apply(this,arguments)}:e:t}const Ot={type:3,lower:-1/0,lowerOpen:!1,upper:[[]],upperOpen:!1};function Dt(e){return"string"!=typeof e||/\./.test(e)?e=>e:t=>(void 0===t[e]&&e in t&&delete(t=A(t))[e],t)}class Rt{_trans(e,t,n){const r=this._tx||Ae.trans,i=this.name;function s(e,n,r){if(!r.schema[i])throw new ee.NotFound("Table "+i+" not part of transaction");return t(r.idbtrans,r)}const a=qe();try{return r&&r.db===this.db?r===Ae.trans?r._promise(e,s,n):nt((()=>r._promise(e,s,n)),{trans:r,transless:Ae.transless||Ae}):yt(this.db,e,[this.name],s)}finally{a&&We()}}get(e,t){return e&&e.constructor===Object?this.where(e).first(t):this._trans("readonly",(t=>this.core.get({trans:t,key:e}).then((e=>this.hook.reading.fire(e))))).then(t)}where(e){if("string"==typeof e)return new this.db.WhereClause(this,e);if(s(e))return new this.db.WhereClause(this,"[".concat(e.join("+"),"]"));const t=i(e);if(1===t.length)return this.where(t[0]).equals(e[t[0]]);const n=this.schema.indexes.concat(this.schema.primKey).filter((e=>{if(e.compound&&t.every((t=>e.keyPath.indexOf(t)>=0))){for(let n=0;n<t.length;++n)if(-1===t.indexOf(e.keyPath[n]))return!1;return!0}return!1})).sort(((e,t)=>e.keyPath.length-t.keyPath.length))[0];if(n&&this.db._maxKey!==bt){const r=n.keyPath.slice(0,t.length);return this.where(r).equals(r.map((t=>e[t])))}!n&&U&&console.warn("The query ".concat(JSON.stringify(e)," on ").concat(this.name," would benefit of a compound index [").concat(t.join("+"),"]"));const{idxByName:r}=this.schema,a=this.db._deps.indexedDB;function o(e,t){try{return 0===a.cmp(e,t)}catch(e){return!1}}const[l,u]=t.reduce(((t,n)=>{let[i,a]=t;const l=r[n],u=e[n];return[i||l,i||!l?Pt(a,l&&l.multi?e=>{const t=E(e,n);return s(t)&&t.some((e=>o(u,e)))}:e=>o(u,E(e,n))):a]}),[null,null]);return l?this.where(l.name).equals(e[l.keyPath]).filter(u):n?this.filter(u):this.where(t).equals("")}filter(e){return this.toCollection().and(e)}count(e){return this.toCollection().count(e)}offset(e){return this.toCollection().offset(e)}limit(e){return this.toCollection().limit(e)}each(e){return this.toCollection().each(e)}toArray(e){return this.toCollection().toArray(e)}toCollection(){return new this.db.Collection(new this.db.WhereClause(this))}orderBy(e){return new this.db.Collection(new this.db.WhereClause(this,s(e)?"[".concat(e.join("+"),"]"):e))}reverse(){return this.toCollection().reverse()}mapToClass(e){this.schema.mappedClass=e;const t=t=>{if(!t)return t;const n=Object.create(e.prototype);for(var r in t)if(u(t,r))try{n[r]=t[r]}catch(e){}return n};return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=t,this.hook("reading",t),e}defineClass(){return this.mapToClass((function(e){a(this,e)}))}add(e,t){const{auto:n,keyPath:r}=this.schema.primKey;let i=e;return r&&n&&(i=Dt(r)(e)),this._trans("readwrite",(e=>this.core.mutate({trans:e,type:"add",keys:null!=t?[t]:null,values:[i]}))).then((e=>e.numFailures?Re.reject(e.failures[0]):e.lastResult)).then((t=>{if(r)try{k(e,r,t)}catch(e){}return t}))}update(e,t){if("object"!=typeof e||s(e))return this.where(":id").equals(e).modify(t);{const n=E(e,this.schema.primKey.keyPath);if(void 0===n)return gt(new ee.InvalidArgument("Given object does not contain its primary key"));try{"function"!=typeof t?i(t).forEach((n=>{k(e,n,t[n])})):t(e,{value:e,primKey:n})}catch(e){}return this.where(":id").equals(n).modify(t)}}put(e,t){const{auto:n,keyPath:r}=this.schema.primKey;let i=e;return r&&n&&(i=Dt(r)(e)),this._trans("readwrite",(e=>this.core.mutate({trans:e,type:"put",values:[i],keys:null!=t?[t]:null}))).then((e=>e.numFailures?Re.reject(e.failures[0]):e.lastResult)).then((t=>{if(r)try{k(e,r,t)}catch(e){}return t}))}delete(e){return this._trans("readwrite",(t=>this.core.mutate({trans:t,type:"delete",keys:[e]}))).then((e=>e.numFailures?Re.reject(e.failures[0]):void 0))}clear(){return this._trans("readwrite",(e=>this.core.mutate({trans:e,type:"deleteRange",range:Ot}))).then((e=>e.numFailures?Re.reject(e.failures[0]):void 0))}bulkGet(e){return this._trans("readonly",(t=>this.core.getMany({keys:e,trans:t}).then((e=>e.map((e=>this.hook.reading.fire(e)))))))}bulkAdd(e,t,n){const r=Array.isArray(t)?t:void 0,i=(n=n||(r?void 0:t))?n.allKeys:void 0;return this._trans("readwrite",(t=>{const{auto:n,keyPath:s}=this.schema.primKey;if(s&&r)throw new ee.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(r&&r.length!==e.length)throw new ee.InvalidArgument("Arguments objects and keys must have the same length");const a=e.length;let o=s&&n?e.map(Dt(s)):e;return this.core.mutate({trans:t,type:"add",keys:r,values:o,wantResults:i}).then((e=>{let{numFailures:t,results:n,lastResult:r,failures:s}=e;if(0===t)return i?n:r;throw new $("".concat(this.name,".bulkAdd(): ").concat(t," of ").concat(a," operations failed"),s)}))}))}bulkPut(e,t,n){const r=Array.isArray(t)?t:void 0,i=(n=n||(r?void 0:t))?n.allKeys:void 0;return this._trans("readwrite",(t=>{const{auto:n,keyPath:s}=this.schema.primKey;if(s&&r)throw new ee.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(r&&r.length!==e.length)throw new ee.InvalidArgument("Arguments objects and keys must have the same length");const a=e.length;let o=s&&n?e.map(Dt(s)):e;return this.core.mutate({trans:t,type:"put",keys:r,values:o,wantResults:i}).then((e=>{let{numFailures:t,results:n,lastResult:r,failures:s}=e;if(0===t)return i?n:r;throw new $("".concat(this.name,".bulkPut(): ").concat(t," of ").concat(a," operations failed"),s)}))}))}bulkDelete(e){const t=e.length;return this._trans("readwrite",(t=>this.core.mutate({trans:t,type:"delete",keys:e}))).then((e=>{let{numFailures:n,lastResult:r,failures:i}=e;if(0===n)return r;throw new $("".concat(this.name,".bulkDelete(): ").concat(n," of ").concat(t," operations failed"),i)}))}}function Lt(e){var t={},n=function(n,r){if(r){for(var i=arguments.length,s=new Array(i-1);--i;)s[i-1]=arguments[i];return t[n].subscribe.apply(null,s),e}if("string"==typeof n)return t[n]};n.addEventType=o;for(var r=1,a=arguments.length;r<a;++r)o(arguments[r]);return n;function o(e,r,a){if("object"!=typeof e){var l;r||(r=ce),a||(a=re);var u={subscribers:[],fire:a,subscribe:function(e){-1===u.subscribers.indexOf(e)&&(u.subscribers.push(e),u.fire=r(u.fire,e))},unsubscribe:function(e){u.subscribers=u.subscribers.filter((function(t){return t!==e})),u.fire=u.subscribers.reduce(r,a)}};return t[e]=n[e]=u,u}i(l=e).forEach((function(e){var t=l[e];if(s(t))o(e,l[e][0],l[e][1]);else{if("asap"!==t)throw new ee.InvalidArgument("Invalid event config");var n=o(e,ie,(function(){for(var e=arguments.length,t=new Array(e);e--;)t[e]=arguments[e];n.subscribers.forEach((function(e){w((function(){e.apply(null,t)}))}))}))}}))}}function Mt(e,t){return f(t).from({prototype:e}),t}function jt(e,t){return!(e.filter||e.algorithm||e.or)&&(t?e.justLimit:!e.replayFilter)}function Ft(e,t){e.filter=Pt(e.filter,t)}function Ut(e,t,n){var r=e.replayFilter;e.replayFilter=r?()=>Pt(r(),t()):t,e.justLimit=n&&!r}function Vt(e,t){if(e.isPrimKey)return t.primaryKey;const n=t.getIndexByKeyPath(e.index);if(!n)throw new ee.Schema("KeyPath "+e.index+" on object store "+t.name+" is not indexed");return n}function Bt(e,t,n){const r=Vt(e,t.schema);return t.openCursor({trans:n,values:!e.keysOnly,reverse:"prev"===e.dir,unique:!!e.unique,query:{index:r,range:e.range}})}function zt(e,t,n,r){const i=e.replayFilter?Pt(e.filter,e.replayFilter()):e.filter;if(e.or){const s={},a=(e,n,r)=>{if(!i||i(n,r,(e=>n.stop(e)),(e=>n.fail(e)))){var a=n.primaryKey,o=""+a;"[object ArrayBuffer]"===o&&(o=""+new Uint8Array(a)),u(s,o)||(s[o]=!0,t(e,n,r))}};return Promise.all([e.or._iterate(a,n),Kt(Bt(e,r,n),e.algorithm,a,!e.keysOnly&&e.valueMapper)])}return Kt(Bt(e,r,n),Pt(e.algorithm,i),t,!e.keysOnly&&e.valueMapper)}function Kt(e,t,n,r){var i=Xe(r?(e,t,i)=>n(r(e),t,i):n);return e.then((e=>{if(e)return e.start((()=>{var n=()=>e.continue();t&&!t(e,(e=>n=e),(t=>{e.stop(t),n=re}),(t=>{e.fail(t),n=re}))||i(e.value,e,(e=>n=e)),n()}))}))}function Ht(e,t){try{const n=qt(e),r=qt(t);if(n!==r)return"Array"===n?1:"Array"===r?-1:"binary"===n?1:"binary"===r?-1:"string"===n?1:"string"===r?-1:"Date"===n?1:"Date"!==r?NaN:-1;switch(n){case"number":case"Date":case"string":return e>t?1:e<t?-1:0;case"binary":return function(e,t){const n=e.length,r=t.length,i=n<r?n:r;for(let s=0;s<i;++s)if(e[s]!==t[s])return e[s]<t[s]?-1:1;return n===r?0:n<r?-1:1}(Wt(e),Wt(t));case"Array":return function(e,t){const n=e.length,r=t.length,i=n<r?n:r;for(let s=0;s<i;++s){const n=Ht(e[s],t[s]);if(0!==n)return n}return n===r?0:n<r?-1:1}(e,t)}}catch(e){}return NaN}function qt(e){const t=typeof e;if("object"!==t)return t;if(ArrayBuffer.isView(e))return"binary";const n=D(e);return"ArrayBuffer"===n?"binary":n}function Wt(e){return e instanceof Uint8Array?e:ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):new Uint8Array(e)}class Gt{_read(e,t){var n=this._ctx;return n.error?n.table._trans(null,gt.bind(null,n.error)):n.table._trans("readonly",e).then(t)}_write(e){var t=this._ctx;return t.error?t.table._trans(null,gt.bind(null,t.error)):t.table._trans("readwrite",e,"locked")}_addAlgorithm(e){var t=this._ctx;t.algorithm=Pt(t.algorithm,e)}_iterate(e,t){return zt(this._ctx,e,t,this._ctx.table.core)}clone(e){var t=Object.create(this.constructor.prototype),n=Object.create(this._ctx);return e&&a(n,e),t._ctx=n,t}raw(){return this._ctx.valueMapper=null,this}each(e){var t=this._ctx;return this._read((n=>zt(t,e,n,t.table.core)))}count(e){return this._read((e=>{const t=this._ctx,n=t.table.core;if(jt(t,!0))return n.count({trans:e,query:{index:Vt(t,n.schema),range:t.range}}).then((e=>Math.min(e,t.limit)));var r=0;return zt(t,(()=>(++r,!1)),e,n).then((()=>r))})).then(e)}sortBy(e,t){const n=e.split(".").reverse(),r=n[0],i=n.length-1;function s(e,t){return t?s(e[n[t]],t-1):e[r]}var a="next"===this._ctx.dir?1:-1;function o(e,t){var n=s(e,i),r=s(t,i);return n<r?-a:n>r?a:0}return this.toArray((function(e){return e.sort(o)})).then(t)}toArray(e){return this._read((e=>{var t=this._ctx;if("next"===t.dir&&jt(t,!0)&&t.limit>0){const{valueMapper:n}=t,r=Vt(t,t.table.core.schema);return t.table.core.query({trans:e,limit:t.limit,values:!0,query:{index:r,range:t.range}}).then((e=>{let{result:t}=e;return n?t.map(n):t}))}{const n=[];return zt(t,(e=>n.push(e)),e,t.table.core).then((()=>n))}}),e)}offset(e){var t=this._ctx;return e<=0||(t.offset+=e,jt(t)?Ut(t,(()=>{var t=e;return(e,n)=>0===t||(1===t?(--t,!1):(n((()=>{e.advance(t),t=0})),!1))})):Ut(t,(()=>{var t=e;return()=>--t<0}))),this}limit(e){return this._ctx.limit=Math.min(this._ctx.limit,e),Ut(this._ctx,(()=>{var t=e;return function(e,n,r){return--t<=0&&n(r),t>=0}}),!0),this}until(e,t){return Ft(this._ctx,(function(n,r,i){return!e(n.value)||(r(i),t)})),this}first(e){return this.limit(1).toArray((function(e){return e[0]})).then(e)}last(e){return this.reverse().first(e)}filter(e){var t,n;return Ft(this._ctx,(function(t){return e(t.value)})),t=this._ctx,n=e,t.isMatch=Pt(t.isMatch,n),this}and(e){return this.filter(e)}or(e){return new this.db.WhereClause(this._ctx.table,e,this)}reverse(){return this._ctx.dir="prev"===this._ctx.dir?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this}desc(){return this.reverse()}eachKey(e){var t=this._ctx;return t.keysOnly=!t.isMatch,this.each((function(t,n){e(n.key,n)}))}eachUniqueKey(e){return this._ctx.unique="unique",this.eachKey(e)}eachPrimaryKey(e){var t=this._ctx;return t.keysOnly=!t.isMatch,this.each((function(t,n){e(n.primaryKey,n)}))}keys(e){var t=this._ctx;t.keysOnly=!t.isMatch;var n=[];return this.each((function(e,t){n.push(t.key)})).then((function(){return n})).then(e)}primaryKeys(e){var t=this._ctx;if("next"===t.dir&&jt(t,!0)&&t.limit>0)return this._read((e=>{var n=Vt(t,t.table.core.schema);return t.table.core.query({trans:e,values:!1,limit:t.limit,query:{index:n,range:t.range}})})).then((e=>{let{result:t}=e;return t})).then(e);t.keysOnly=!t.isMatch;var n=[];return this.each((function(e,t){n.push(t.primaryKey)})).then((function(){return n})).then(e)}uniqueKeys(e){return this._ctx.unique="unique",this.keys(e)}firstKey(e){return this.limit(1).keys((function(e){return e[0]})).then(e)}lastKey(e){return this.reverse().firstKey(e)}distinct(){var e=this._ctx,t=e.index&&e.table.schema.idxByName[e.index];if(!t||!t.multi)return this;var n={};return Ft(this._ctx,(function(e){var t=e.primaryKey.toString(),r=u(n,t);return n[t]=!0,!r})),this}modify(e){var t=this._ctx;return this._write((n=>{var r;if("function"==typeof e)r=e;else{var s=i(e),a=s.length;r=function(t){for(var n=!1,r=0;r<a;++r){var i=s[r],o=e[i];E(t,i)!==o&&(k(t,i,o),n=!0)}return n}}const o=t.table.core,{outbound:l,extractKey:u}=o.schema.primaryKey,c=this.db._options.modifyChunkSize||200,h=[];let d=0;const f=[],p=(e,t)=>{const{failures:n,numFailures:r}=t;d+=e-r;for(let s of i(n))h.push(n[s])};return this.clone().primaryKeys().then((i=>{const s=a=>{const h=Math.min(c,i.length-a);return o.getMany({trans:n,keys:i.slice(a,a+h),cache:"immutable"}).then((d=>{const f=[],m=[],g=l?[]:null,y=[];for(let e=0;e<h;++e){const t=d[e],n={value:A(t),primKey:i[a+e]};!1!==r.call(n,n.value,n)&&(null==n.value?y.push(i[a+e]):l||0===Ht(u(t),u(n.value))?(m.push(n.value),l&&g.push(i[a+e])):(y.push(i[a+e]),f.push(n.value)))}const v=jt(t)&&t.limit===1/0&&("function"!=typeof e||e===Qt)&&{index:t.index,range:t.range};return Promise.resolve(f.length>0&&o.mutate({trans:n,type:"add",values:f}).then((e=>{for(let t in e.failures)y.splice(parseInt(t),1);p(f.length,e)}))).then((()=>(m.length>0||v&&"object"==typeof e)&&o.mutate({trans:n,type:"put",keys:g,values:m,criteria:v,changeSpec:"function"!=typeof e&&e}).then((e=>p(m.length,e))))).then((()=>(y.length>0||v&&e===Qt)&&o.mutate({trans:n,type:"delete",keys:y,criteria:v}).then((e=>p(y.length,e))))).then((()=>i.length>a+h&&s(a+c)))}))};return s(0).then((()=>{if(h.length>0)throw new J("Error modifying one or more objects",h,d,f);return i.length}))}))}))}delete(){var e=this._ctx,t=e.range;return jt(e)&&(e.isPrimKey&&!It||3===t.type)?this._write((n=>{const{primaryKey:r}=e.table.core.schema,i=t;return e.table.core.count({trans:n,query:{index:r,range:i}}).then((t=>e.table.core.mutate({trans:n,type:"deleteRange",range:i}).then((e=>{let{failures:n,lastResult:r,results:i,numFailures:s}=e;if(s)throw new J("Could not delete some values",Object.keys(n).map((e=>n[e])),t-s);return t-s}))))})):this.modify(Qt)}}const Qt=(e,t)=>t.value=null;function Xt(e,t){return e<t?-1:e===t?0:1}function Jt(e,t){return e>t?-1:e===t?0:1}function $t(e,t,n){var r=e instanceof rn?new e.Collection(e):e;return r._ctx.error=n?new n(t):new TypeError(t),r}function Yt(e){return new e.Collection(e,(()=>nn(""))).limit(0)}function Zt(e,t,n,r,i,s){for(var a=Math.min(e.length,r.length),o=-1,l=0;l<a;++l){var u=t[l];if(u!==r[l])return i(e[l],n[l])<0?e.substr(0,l)+n[l]+n.substr(l+1):i(e[l],r[l])<0?e.substr(0,l)+r[l]+n.substr(l+1):o>=0?e.substr(0,o)+t[o]+n.substr(o+1):null;i(e[l],u)<0&&(o=l)}return a<r.length&&"next"===s?e+n.substr(e.length):a<e.length&&"prev"===s?e.substr(0,n.length):o<0?null:e.substr(0,o)+r[o]+n.substr(o+1)}function en(e,t,n,r){var i,s,a,o,l,u,c,h=n.length;if(!n.every((e=>"string"==typeof e)))return $t(e,Et);function d(e){i=function(e){return"next"===e?e=>e.toUpperCase():e=>e.toLowerCase()}(e),s=function(e){return"next"===e?e=>e.toLowerCase():e=>e.toUpperCase()}(e),a="next"===e?Xt:Jt;var t=n.map((function(e){return{lower:s(e),upper:i(e)}})).sort((function(e,t){return a(e.lower,t.lower)}));o=t.map((function(e){return e.upper})),l=t.map((function(e){return e.lower})),u=e,c="next"===e?"":r}d("next");var f=new e.Collection(e,(()=>tn(o[0],l[h-1]+r)));f._ondirectionchange=function(e){d(e)};var p=0;return f._addAlgorithm((function(e,n,r){var i=e.key;if("string"!=typeof i)return!1;var d=s(i);if(t(d,l,p))return!0;for(var f=null,m=p;m<h;++m){var g=Zt(i,d,o[m],l[m],a,u);null===g&&null===f?p=m+1:(null===f||a(f,g)>0)&&(f=g)}return n(null!==f?function(){e.continue(f+c)}:r),!1})),f}function tn(e,t,n,r){return{type:2,lower:e,upper:t,lowerOpen:n,upperOpen:r}}function nn(e){return{type:1,lower:e,upper:e}}class rn{get Collection(){return this._ctx.table.db.Collection}between(e,t,n,r){n=!1!==n,r=!0===r;try{return this._cmp(e,t)>0||0===this._cmp(e,t)&&(n||r)&&(!n||!r)?Yt(this):new this.Collection(this,(()=>tn(e,t,!n,!r)))}catch(e){return $t(this,_t)}}equals(e){return null==e?$t(this,_t):new this.Collection(this,(()=>nn(e)))}above(e){return null==e?$t(this,_t):new this.Collection(this,(()=>tn(e,void 0,!0)))}aboveOrEqual(e){return null==e?$t(this,_t):new this.Collection(this,(()=>tn(e,void 0,!1)))}below(e){return null==e?$t(this,_t):new this.Collection(this,(()=>tn(void 0,e,!1,!0)))}belowOrEqual(e){return null==e?$t(this,_t):new this.Collection(this,(()=>tn(void 0,e)))}startsWith(e){return"string"!=typeof e?$t(this,Et):this.between(e,e+bt,!0,!0)}startsWithIgnoreCase(e){return""===e?this.startsWith(e):en(this,((e,t)=>0===e.indexOf(t[0])),[e],bt)}equalsIgnoreCase(e){return en(this,((e,t)=>e===t[0]),[e],"")}anyOfIgnoreCase(){var e=j.apply(M,arguments);return 0===e.length?Yt(this):en(this,((e,t)=>-1!==t.indexOf(e)),e,"")}startsWithAnyOfIgnoreCase(){var e=j.apply(M,arguments);return 0===e.length?Yt(this):en(this,((e,t)=>t.some((t=>0===e.indexOf(t)))),e,bt)}anyOf(){const e=j.apply(M,arguments);let t=this._cmp;try{e.sort(t)}catch(e){return $t(this,_t)}if(0===e.length)return Yt(this);const n=new this.Collection(this,(()=>tn(e[0],e[e.length-1])));n._ondirectionchange=n=>{t="next"===n?this._ascending:this._descending,e.sort(t)};let r=0;return n._addAlgorithm(((n,i,s)=>{const a=n.key;for(;t(a,e[r])>0;)if(++r,r===e.length)return i(s),!1;return 0===t(a,e[r])||(i((()=>{n.continue(e[r])})),!1)})),n}notEqual(e){return this.inAnyRange([[wt,e],[e,this.db._maxKey]],{includeLowers:!1,includeUppers:!1})}noneOf(){const e=j.apply(M,arguments);if(0===e.length)return new this.Collection(this);try{e.sort(this._ascending)}catch(e){return $t(this,_t)}const t=e.reduce(((e,t)=>e?e.concat([[e[e.length-1][1],t]]):[[wt,t]]),null);return t.push([e[e.length-1],this.db._maxKey]),this.inAnyRange(t,{includeLowers:!1,includeUppers:!1})}inAnyRange(e,t){const n=this._cmp,r=this._ascending,i=this._descending,s=this._min,a=this._max;if(0===e.length)return Yt(this);if(!e.every((e=>void 0!==e[0]&&void 0!==e[1]&&r(e[0],e[1])<=0)))return $t(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",ee.InvalidArgument);const o=!t||!1!==t.includeLowers,l=t&&!0===t.includeUppers;let u,c=r;function h(e,t){return c(e[0],t[0])}try{u=e.reduce((function(e,t){let r=0,i=e.length;for(;r<i;++r){const i=e[r];if(n(t[0],i[1])<0&&n(t[1],i[0])>0){i[0]=s(i[0],t[0]),i[1]=a(i[1],t[1]);break}}return r===i&&e.push(t),e}),[]),u.sort(h)}catch(e){return $t(this,_t)}let d=0;const f=l?e=>r(e,u[d][1])>0:e=>r(e,u[d][1])>=0,p=o?e=>i(e,u[d][0])>0:e=>i(e,u[d][0])>=0;let m=f;const g=new this.Collection(this,(()=>tn(u[0][0],u[u.length-1][1],!o,!l)));return g._ondirectionchange=e=>{"next"===e?(m=f,c=r):(m=p,c=i),u.sort(h)},g._addAlgorithm(((e,t,n)=>{for(var i=e.key;m(i);)if(++d,d===u.length)return t(n),!1;return!!function(e){return!f(e)&&!p(e)}(i)||(0===this._cmp(i,u[d][1])||0===this._cmp(i,u[d][0])||t((()=>{c===r?e.continue(u[d][0]):e.continue(u[d][1])})),!1)})),g}startsWithAnyOf(){const e=j.apply(M,arguments);return e.every((e=>"string"==typeof e))?0===e.length?Yt(this):this.inAnyRange(e.map((e=>[e,e+bt]))):$t(this,"startsWithAnyOf() only works with strings")}}function sn(e){return Xe((function(t){return an(t),e(t.target.error),!1}))}function an(e){e.stopPropagation&&e.stopPropagation(),e.preventDefault&&e.preventDefault()}const on="storagemutated",ln="x-storagemutated-1",un=Lt(null,on);class cn{_lock(){return b(!Ae.global),++this._reculock,1!==this._reculock||Ae.global||(Ae.lockOwnerFor=this),this}_unlock(){if(b(!Ae.global),0==--this._reculock)for(Ae.global||(Ae.lockOwnerFor=null);this._blockedFuncs.length>0&&!this._locked();){var e=this._blockedFuncs.shift();try{ct(e[1],e[0])}catch(e){}}return this}_locked(){return this._reculock&&Ae.lockOwnerFor!==this}create(e){if(!this.mode)return this;const t=this.db.idbdb,n=this.db._state.dbOpenError;if(b(!this.idbtrans),!e&&!t)switch(n&&n.name){case"DatabaseClosedError":throw new ee.DatabaseClosed(n);case"MissingAPIError":throw new ee.MissingAPI(n.message,n);default:throw new ee.OpenFailed(n)}if(!this.active)throw new ee.TransactionInactive;return b(null===this._completion._state),(e=this.idbtrans=e||(this.db.core?this.db.core.transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability}):t.transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability}))).onerror=Xe((t=>{an(t),this._reject(e.error)})),e.onabort=Xe((t=>{an(t),this.active&&this._reject(new ee.Abort(e.error)),this.active=!1,this.on("abort").fire(t)})),e.oncomplete=Xe((()=>{this.active=!1,this._resolve(),"mutatedParts"in e&&un.storagemutated.fire(e.mutatedParts)})),this}_promise(e,t,n){if("readwrite"===e&&"readwrite"!==this.mode)return gt(new ee.ReadOnly("Transaction is readonly"));if(!this.active)return gt(new ee.TransactionInactive);if(this._locked())return new Re(((r,i)=>{this._blockedFuncs.push([()=>{this._promise(e,t,n).then(r,i)},Ae])}));if(n)return nt((()=>{var e=new Re(((e,n)=>{this._lock();const r=t(e,n,this);r&&r.then&&r.then(e,n)}));return e.finally((()=>this._unlock())),e._lib=!0,e}));var r=new Re(((e,n)=>{var r=t(e,n,this);r&&r.then&&r.then(e,n)}));return r._lib=!0,r}_root(){return this.parent?this.parent._root():this}waitFor(e){var t=this._root();const n=Re.resolve(e);if(t._waitingFor)t._waitingFor=t._waitingFor.then((()=>n));else{t._waitingFor=n,t._waitingQueue=[];var r=t.idbtrans.objectStore(t.storeNames[0]);!function e(){for(++t._spinCount;t._waitingQueue.length;)t._waitingQueue.shift()();t._waitingFor&&(r.get(-1/0).onsuccess=e)}()}var i=t._waitingFor;return new Re(((e,r)=>{n.then((n=>t._waitingQueue.push(Xe(e.bind(null,n)))),(e=>t._waitingQueue.push(Xe(r.bind(null,e))))).finally((()=>{t._waitingFor===i&&(t._waitingFor=null)}))}))}abort(){this.active&&(this.active=!1,this.idbtrans&&this.idbtrans.abort(),this._reject(new ee.Abort))}table(e){const t=this._memoizedTables||(this._memoizedTables={});if(u(t,e))return t[e];const n=this.schema[e];if(!n)throw new ee.NotFound("Table "+e+" not part of transaction");const r=new this.db.Table(e,n,this);return r.core=this.db.core.table(e),t[e]=r,r}}function hn(e,t,n,r,i,s,a){return{name:e,keyPath:t,unique:n,multi:r,auto:i,compound:s,src:(n&&!a?"&":"")+(r?"*":"")+(i?"++":"")+dn(t)}}function dn(e){return"string"==typeof e?e:e?"["+[].join.call(e,"+")+"]":""}function fn(e,t,n){return{name:e,primKey:t,indexes:n,mappedClass:null,idxByName:_(n,(e=>[e.name,e]))}}let pn=e=>{try{return e.only([[]]),pn=()=>[[]],[[]]}catch(e){return pn=()=>bt,bt}};function mn(e){return null==e?()=>{}:"string"==typeof e?function(e){return 1===e.split(".").length?t=>t[e]:t=>E(t,e)}(e):t=>E(t,e)}function gn(e){return[].slice.call(e)}let yn=0;function vn(e){return null==e?":id":"string"==typeof e?e:"[".concat(e.join("+"),"]")}function bn(e,t,n){function r(e){if(3===e.type)return null;if(4===e.type)throw new Error("Cannot convert never type to IDBKeyRange");const{lower:n,upper:r,lowerOpen:i,upperOpen:s}=e;return void 0===n?void 0===r?null:t.upperBound(r,!!s):void 0===r?t.lowerBound(n,!!i):t.bound(n,r,!!i,!!s)}const{schema:i,hasGetAll:a}=function(e,t){const n=gn(e.objectStoreNames);return{schema:{name:e.name,tables:n.map((e=>t.objectStore(e))).map((e=>{const{keyPath:t,autoIncrement:n}=e,r=s(t),i=null==t,a={},o={name:e.name,primaryKey:{name:null,isPrimaryKey:!0,outbound:i,compound:r,keyPath:t,autoIncrement:n,unique:!0,extractKey:mn(t)},indexes:gn(e.indexNames).map((t=>e.index(t))).map((e=>{const{name:t,unique:n,multiEntry:r,keyPath:i}=e,o={name:t,compound:s(i),keyPath:i,unique:n,multiEntry:r,extractKey:mn(i)};return a[vn(i)]=o,o})),getIndexByKeyPath:e=>a[vn(e)]};return a[":id"]=o.primaryKey,null!=t&&(a[vn(t)]=o.primaryKey),o}))},hasGetAll:n.length>0&&"getAll"in t.objectStore(n[0])&&!("undefined"!=typeof navigator&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604)}}(e,n),o=i.tables.map((e=>function(e){const t=e.name;return{name:t,schema:e,mutate:function(e){let{trans:n,type:i,keys:s,values:a,range:o}=e;return new Promise(((e,l)=>{e=Xe(e);const u=n.objectStore(t),c=null==u.keyPath,h="put"===i||"add"===i;if(!h&&"delete"!==i&&"deleteRange"!==i)throw new Error("Invalid operation type: "+i);const{length:d}=s||a||{length:1};if(s&&a&&s.length!==a.length)throw new Error("Given keys array must have same length as given values array.");if(0===d)return e({numFailures:0,failures:{},results:[],lastResult:void 0});let f;const p=[],m=[];let g=0;const y=e=>{++g,an(e)};if("deleteRange"===i){if(4===o.type)return e({numFailures:g,failures:m,results:[],lastResult:void 0});3===o.type?p.push(f=u.clear()):p.push(f=u.delete(r(o)))}else{const[e,t]=h?c?[a,s]:[a,null]:[s,null];if(h)for(let n=0;n<d;++n)p.push(f=t&&void 0!==t[n]?u[i](e[n],t[n]):u[i](e[n])),f.onerror=y;else for(let n=0;n<d;++n)p.push(f=u[i](e[n])),f.onerror=y}const v=t=>{const n=t.target.result;p.forEach(((e,t)=>null!=e.error&&(m[t]=e.error))),e({numFailures:g,failures:m,results:"delete"===i?s:p.map((e=>e.result)),lastResult:n})};f.onerror=e=>{y(e),v(e)},f.onsuccess=v}))},getMany:e=>{let{trans:n,keys:r}=e;return new Promise(((e,i)=>{e=Xe(e);const s=n.objectStore(t),a=r.length,o=new Array(a);let l,u=0,c=0;const h=t=>{const n=t.target;o[n._pos]=n.result,++c===u&&e(o)},d=sn(i);for(let t=0;t<a;++t)null!=r[t]&&(l=s.get(r[t]),l._pos=t,l.onsuccess=h,l.onerror=d,++u);0===u&&e(o)}))},get:e=>{let{trans:n,key:r}=e;return new Promise(((e,i)=>{e=Xe(e);const s=n.objectStore(t).get(r);s.onsuccess=t=>e(t.target.result),s.onerror=sn(i)}))},query:function(e){return n=>new Promise(((i,s)=>{i=Xe(i);const{trans:a,values:o,limit:l,query:u}=n,c=l===1/0?void 0:l,{index:h,range:d}=u,f=a.objectStore(t),p=h.isPrimaryKey?f:f.index(h.name),m=r(d);if(0===l)return i({result:[]});if(e){const e=o?p.getAll(m,c):p.getAllKeys(m,c);e.onsuccess=e=>i({result:e.target.result}),e.onerror=sn(s)}else{let e=0;const t=o||!("openKeyCursor"in p)?p.openCursor(m):p.openKeyCursor(m),n=[];t.onsuccess=r=>{const s=t.result;return s?(n.push(o?s.value:s.primaryKey),++e===l?i({result:n}):void s.continue()):i({result:n})},t.onerror=sn(s)}}))}(a),openCursor:function(e){let{trans:n,values:i,query:s,reverse:a,unique:o}=e;return new Promise(((e,l)=>{e=Xe(e);const{index:u,range:c}=s,h=n.objectStore(t),d=u.isPrimaryKey?h:h.index(u.name),f=a?o?"prevunique":"prev":o?"nextunique":"next",p=i||!("openKeyCursor"in d)?d.openCursor(r(c),f):d.openKeyCursor(r(c),f);p.onerror=sn(l),p.onsuccess=Xe((t=>{const r=p.result;if(!r)return void e(null);r.___id=++yn,r.done=!1;const i=r.continue.bind(r);let s=r.continuePrimaryKey;s&&(s=s.bind(r));const a=r.advance.bind(r),o=()=>{throw new Error("Cursor not stopped")};r.trans=n,r.stop=r.continue=r.continuePrimaryKey=r.advance=()=>{throw new Error("Cursor not started")},r.fail=Xe(l),r.next=function(){let e=1;return this.start((()=>e--?this.continue():this.stop())).then((()=>this))},r.start=e=>{const t=new Promise(((e,t)=>{e=Xe(e),p.onerror=sn(t),r.fail=t,r.stop=t=>{r.stop=r.continue=r.continuePrimaryKey=r.advance=o,e(t)}})),n=()=>{if(p.result)try{e()}catch(e){r.fail(e)}else r.done=!0,r.start=()=>{throw new Error("Cursor behind last entry")},r.stop()};return p.onsuccess=Xe((e=>{p.onsuccess=n,n()})),r.continue=i,r.continuePrimaryKey=s,r.advance=a,n(),t},e(r)}),l)}))},count(e){let{query:n,trans:i}=e;const{index:s,range:a}=n;return new Promise(((e,n)=>{const o=i.objectStore(t),l=s.isPrimaryKey?o:o.index(s.name),u=r(a),c=u?l.count(u):l.count();c.onsuccess=Xe((t=>e(t.target.result))),c.onerror=sn(n)}))}}}(e))),l={};return o.forEach((e=>l[e.name]=e)),{stack:"dbcore",transaction:e.transaction.bind(e),table(e){if(!l[e])throw new Error("Table '".concat(e,"' not found"));return l[e]},MIN_KEY:-1/0,MAX_KEY:pn(t),schema:i}}function wn(e,t){let{_novip:n}=e;const r=t.db,i=function(e,t,n,r){let{IDBKeyRange:i,indexedDB:s}=n;const a=function(e,t){return t.reduce(((e,t)=>{let{create:n}=t;return{...e,...n(e)}}),e)}(bn(t,i,r),e.dbcore);return{dbcore:a}}(n._middlewares,r,n._deps,t);n.core=i.dbcore,n.tables.forEach((e=>{const t=e.name;n.core.schema.tables.some((e=>e.name===t))&&(e.core=n.core.table(t),n[t]instanceof n.Table&&(n[t].core=e.core))}))}function _n(e,t,n,r){let{_novip:i}=e;n.forEach((e=>{const n=r[e];t.forEach((t=>{const r=m(t,e);(!r||"value"in r&&void 0===r.value)&&(t===i.Transaction.prototype||t instanceof i.Transaction?d(t,e,{get(){return this.table(e)},set(t){h(this,e,{value:t,writable:!0,configurable:!0,enumerable:!0})}}):t[e]=new i.Table(e,n))}))}))}function En(e,t){let{_novip:n}=e;t.forEach((e=>{for(let t in e)e[t]instanceof n.Table&&delete e[t]}))}function kn(e,t){return e._cfg.version-t._cfg.version}function Sn(e,t,n,r){const s=e._dbSchema,a=e._createTransaction("readwrite",e._storeNames,s);a.create(n),a._completion.catch(r);const o=a._reject.bind(a),l=Ae.transless||Ae;nt((()=>{Ae.trans=a,Ae.transless=l,0===t?(i(s).forEach((e=>{In(n,e,s[e].primKey,s[e].indexes)})),wn(e,n),Re.follow((()=>e.on.populate.fire(a))).catch(o)):function(e,t,n,r){let{_novip:s}=e;const a=[],o=s._versions;let l=s._dbSchema=xn(s,s.idbdb,r),u=!1;const c=o.filter((e=>e._cfg.version>=t));return c.forEach((e=>{a.push((()=>{const a=l,o=e._cfg.dbschema;Nn(s,a,r),Nn(s,o,r),l=s._dbSchema=o;const c=Tn(a,o);c.add.forEach((e=>{In(r,e[0],e[1].primKey,e[1].indexes)})),c.change.forEach((e=>{if(e.recreate)throw new ee.Upgrade("Not yet support for changing primary key");{const t=r.objectStore(e.name);e.add.forEach((e=>Cn(t,e))),e.change.forEach((e=>{t.deleteIndex(e.name),Cn(t,e)})),e.del.forEach((e=>t.deleteIndex(e)))}}));const h=e._cfg.contentUpgrade;if(h&&e._cfg.version>t){wn(s,r),n._memoizedTables={},u=!0;let e=S(o);c.del.forEach((t=>{e[t]=a[t]})),En(s,[s.Transaction.prototype]),_n(s,[s.Transaction.prototype],i(e),e),n.schema=e;const t=F(h);let l;t&&rt();const d=Re.follow((()=>{if(l=h(n),l&&t){var e=it.bind(null,null);l.then(e,e)}}));return l&&"function"==typeof l.then?Re.resolve(l):d.then((()=>l))}})),a.push((t=>{u&&Tt||function(e,t){[].slice.call(t.db.objectStoreNames).forEach((n=>null==e[n]&&t.db.deleteObjectStore(n)))}(e._cfg.dbschema,t),En(s,[s.Transaction.prototype]),_n(s,[s.Transaction.prototype],s._storeNames,s._dbSchema),n.schema=s._dbSchema}))})),function e(){return a.length?Re.resolve(a.shift()(n.idbtrans)).then(e):Re.resolve()}().then((()=>{var e,t;t=r,i(e=l).forEach((n=>{t.db.objectStoreNames.contains(n)||In(t,n,e[n].primKey,e[n].indexes)}))}))}(e,t,a,n).catch(o)}))}function Tn(e,t){const n={del:[],add:[],change:[]};let r;for(r in e)t[r]||n.del.push(r);for(r in t){const i=e[r],s=t[r];if(i){const e={name:r,def:s,recreate:!1,del:[],add:[],change:[]};if(""+(i.primKey.keyPath||"")!=""+(s.primKey.keyPath||"")||i.primKey.auto!==s.primKey.auto&&!St)e.recreate=!0,n.change.push(e);else{const t=i.idxByName,r=s.idxByName;let a;for(a in t)r[a]||e.del.push(a);for(a in r){const n=t[a],i=r[a];n?n.src!==i.src&&e.change.push(i):e.add.push(i)}(e.del.length>0||e.add.length>0||e.change.length>0)&&n.change.push(e)}}else n.add.push([r,s])}return n}function In(e,t,n,r){const i=e.db.createObjectStore(t,n.keyPath?{keyPath:n.keyPath,autoIncrement:n.auto}:{autoIncrement:n.auto});return r.forEach((e=>Cn(i,e))),i}function Cn(e,t){e.createIndex(t.name,t.keyPath,{unique:t.unique,multiEntry:t.multi})}function xn(e,t,n){const r={};return y(t.objectStoreNames,0).forEach((e=>{const t=n.objectStore(e);let i=t.keyPath;const s=hn(dn(i),i||"",!1,!1,!!t.autoIncrement,i&&"string"!=typeof i,!0),a=[];for(let n=0;n<t.indexNames.length;++n){const e=t.index(t.indexNames[n]);i=e.keyPath;var o=hn(e.name,i,!!e.unique,!!e.multiEntry,!1,i&&"string"!=typeof i,!1);a.push(o)}r[e]=fn(e,s,a)})),r}function Nn(e,t,n){let{_novip:i}=e;const s=n.db.objectStoreNames;for(let r=0;r<s.length;++r){const e=s[r],a=n.objectStore(e);i._hasGetAll="getAll"in a;for(let n=0;n<a.indexNames.length;++n){const r=a.indexNames[n],i=a.index(r).keyPath,s="string"==typeof i?i:"["+y(i).join("+")+"]";if(t[e]){const n=t[e].idxByName[s];n&&(n.name=r,delete t[e].idxByName[s],t[e].idxByName[r]=n)}}}"undefined"!=typeof navigator&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&r.WorkerGlobalScope&&r instanceof r.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(i._hasGetAll=!1)}class An{_parseStoresSpec(e,t){i(e).forEach((n=>{if(null!==e[n]){var r=e[n].split(",").map(((e,t)=>{const n=(e=e.trim()).replace(/([&*]|\+\+)/g,""),r=/^\[/.test(n)?n.match(/^\[(.*)\]$/)[1].split("+"):n;return hn(n,r||null,/\&/.test(e),/\*/.test(e),/\+\+/.test(e),s(r),0===t)})),i=r.shift();if(i.multi)throw new ee.Schema("Primary key cannot be multi-valued");r.forEach((e=>{if(e.auto)throw new ee.Schema("Only primary key can be marked as autoIncrement (++)");if(!e.keyPath)throw new ee.Schema("Index must have a name and cannot be an empty string")})),t[n]=fn(n,i,r)}}))}stores(e){const t=this.db;this._cfg.storesSource=this._cfg.storesSource?a(this._cfg.storesSource,e):e;const n=t._versions,r={};let s={};return n.forEach((e=>{a(r,e._cfg.storesSource),s=e._cfg.dbschema={},e._parseStoresSpec(r,s)})),t._dbSchema=s,En(t,[t._allTables,t,t.Transaction.prototype]),_n(t,[t._allTables,t,t.Transaction.prototype,this._cfg.tables],i(s),s),t._storeNames=i(s),this}upgrade(e){return this._cfg.contentUpgrade=he(this._cfg.contentUpgrade||re,e),this}}function Pn(e,t){let n=e._dbNamesDB;return n||(n=e._dbNamesDB=new Yn(xt,{addons:[],indexedDB:e,IDBKeyRange:t}),n.version(1).stores({dbnames:"name"})),n.table("dbnames")}function On(e){return e&&"function"==typeof e.databases}function Dn(e){return nt((function(){return Ae.letThrough=!0,e()}))}function Rn(){var e;return!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent)&&indexedDB.databases?new Promise((function(t){var n=function(){return indexedDB.databases().finally(t)};e=setInterval(n,100),n()})).finally((function(){return clearInterval(e)})):Promise.resolve()}function Ln(e){var t=t=>e.next(t),n=i(t),r=i((t=>e.throw(t)));function i(e){return t=>{var i=e(t),a=i.value;return i.done?a:a&&"function"==typeof a.then?a.then(n,r):s(a)?Promise.all(a).then(n,r):n(a)}}return i(t)()}function Mn(e,t,n){var r=arguments.length;if(r<2)throw new ee.InvalidArgument("Too few arguments");for(var i=new Array(r-1);--r;)i[r-1]=arguments[r];return n=i.pop(),[e,I(i),n]}function jn(e,t,n,r,i){return Re.resolve().then((()=>{const s=Ae.transless||Ae,a=e._createTransaction(t,n,e._dbSchema,r),o={trans:a,transless:s};if(r)a.idbtrans=r.idbtrans;else try{a.create(),e._state.PR1398_maxLoop=3}catch(r){return r.name===Y.InvalidState&&e.isOpen()&&--e._state.PR1398_maxLoop>0?(console.warn("Dexie: Need to reopen db"),e._close(),e.open().then((()=>jn(e,t,n,null,i)))):gt(r)}const l=F(i);let u;l&&rt();const c=Re.follow((()=>{if(u=i.call(a,a),u)if(l){var e=it.bind(null,null);u.then(e,e)}else"function"==typeof u.next&&"function"==typeof u.throw&&(u=Ln(u))}),o);return(u&&"function"==typeof u.then?Re.resolve(u).then((e=>a.active?e:gt(new ee.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn")))):c.then((()=>u))).then((e=>(r&&a._resolve(),a._completion.then((()=>e))))).catch((e=>(a._reject(e),gt(e))))}))}function Fn(e,t,n){const r=s(e)?e.slice():[e];for(let i=0;i<n;++i)r.push(t);return r}const Un={stack:"dbcore",name:"VirtualIndexMiddleware",level:1,create:function(e){return{...e,table(t){const n=e.table(t),{schema:r}=n,i={},s=[];function a(e,t,n){const r=vn(e),o=i[r]=i[r]||[],l=null==e?0:"string"==typeof e?1:e.length,u=t>0,c={...n,isVirtual:u,keyTail:t,keyLength:l,extractKey:mn(e),unique:!u&&n.unique};return o.push(c),c.isPrimaryKey||s.push(c),l>1&&a(2===l?e[0]:e.slice(0,l-1),t+1,n),o.sort(((e,t)=>e.keyTail-t.keyTail)),c}const o=a(r.primaryKey.keyPath,0,r.primaryKey);i[":id"]=[o];for(const e of r.indexes)a(e.keyPath,0,e);function l(t){const n=t.query.index;return n.isVirtual?{...t,query:{index:n,range:(r=t.query.range,i=n.keyTail,{type:1===r.type?2:r.type,lower:Fn(r.lower,r.lowerOpen?e.MAX_KEY:e.MIN_KEY,i),lowerOpen:!0,upper:Fn(r.upper,r.upperOpen?e.MIN_KEY:e.MAX_KEY,i),upperOpen:!0})}}:t;var r,i}const u={...n,schema:{...r,primaryKey:o,indexes:s,getIndexByKeyPath:function(e){const t=i[vn(e)];return t&&t[0]}},count:e=>n.count(l(e)),query:e=>n.query(l(e)),openCursor(t){const{keyTail:r,isVirtual:i,keyLength:s}=t.query.index;return i?n.openCursor(l(t)).then((n=>n&&function(n){const i=Object.create(n,{continue:{value:function(i){null!=i?n.continue(Fn(i,t.reverse?e.MAX_KEY:e.MIN_KEY,r)):t.unique?n.continue(n.key.slice(0,s).concat(t.reverse?e.MIN_KEY:e.MAX_KEY,r)):n.continue()}},continuePrimaryKey:{value(t,i){n.continuePrimaryKey(Fn(t,e.MAX_KEY,r),i)}},primaryKey:{get:()=>n.primaryKey},key:{get(){const e=n.key;return 1===s?e[0]:e.slice(0,s)}},value:{get:()=>n.value}});return i}(n))):n.openCursor(t)}};return u}}}};function Vn(e,t,n,r){return n=n||{},r=r||"",i(e).forEach((i=>{if(u(t,i)){var s=e[i],a=t[i];if("object"==typeof s&&"object"==typeof a&&s&&a){const e=D(s);e!==D(a)?n[r+i]=t[i]:"Object"===e?Vn(s,a,n,r+i+"."):s!==a&&(n[r+i]=t[i])}else s!==a&&(n[r+i]=t[i])}else n[r+i]=void 0})),i(t).forEach((i=>{u(e,i)||(n[r+i]=t[i])})),n}const Bn={stack:"dbcore",name:"HooksMiddleware",level:2,create:e=>({...e,table(t){const n=e.table(t),{primaryKey:r}=n.schema,i={...n,mutate(e){const i=Ae.trans,{deleting:s,creating:a,updating:o}=i.table(t).hook;switch(e.type){case"add":if(a.fire===re)break;return i._promise("readwrite",(()=>l(e)),!0);case"put":if(a.fire===re&&o.fire===re)break;return i._promise("readwrite",(()=>l(e)),!0);case"delete":if(s.fire===re)break;return i._promise("readwrite",(()=>l(e)),!0);case"deleteRange":if(s.fire===re)break;return i._promise("readwrite",(()=>function(e){return c(e.trans,e.range,1e4)}(e)),!0)}return n.mutate(e);function l(e){const t=Ae.trans,i=e.keys||function(e,t){return"delete"===t.type?t.keys:t.keys||t.values.map(e.extractKey)}(r,e);if(!i)throw new Error("Keys missing");return"delete"!==(e="add"===e.type||"put"===e.type?{...e,keys:i}:{...e}).type&&(e.values=[...e.values]),e.keys&&(e.keys=[...e.keys]),function(e,t,n){return"add"===t.type?Promise.resolve([]):e.getMany({trans:t.trans,keys:n,cache:"immutable"})}(n,e,i).then((l=>{const c=i.map(((n,i)=>{const c=l[i],h={onerror:null,onsuccess:null};if("delete"===e.type)s.fire.call(h,n,c,t);else if("add"===e.type||void 0===c){const s=a.fire.call(h,n,e.values[i],t);null==n&&null!=s&&(n=s,e.keys[i]=n,r.outbound||k(e.values[i],r.keyPath,n))}else{const r=Vn(c,e.values[i]),s=o.fire.call(h,r,n,c,t);if(s){const t=e.values[i];Object.keys(s).forEach((e=>{u(t,e)?t[e]=s[e]:k(t,e,s[e])}))}}return h}));return n.mutate(e).then((t=>{let{failures:n,results:r,numFailures:s,lastResult:a}=t;for(let o=0;o<i.length;++o){const t=r?r[o]:i[o],s=c[o];null==t?s.onerror&&s.onerror(n[o]):s.onsuccess&&s.onsuccess("put"===e.type&&l[o]?e.values[o]:t)}return{failures:n,results:r,numFailures:s,lastResult:a}})).catch((e=>(c.forEach((t=>t.onerror&&t.onerror(e))),Promise.reject(e))))}))}function c(e,t,i){return n.query({trans:e,values:!1,query:{index:r,range:t},limit:i}).then((n=>{let{result:r}=n;return l({type:"delete",keys:r,trans:e}).then((n=>n.numFailures>0?Promise.reject(n.failures[0]):r.length<i?{failures:[],numFailures:0,lastResult:void 0}:c(e,{...t,lower:r[r.length-1],lowerOpen:!0},i)))}))}}};return i}})};function zn(e,t,n){try{if(!t)return null;if(t.keys.length<e.length)return null;const r=[];for(let i=0,s=0;i<t.keys.length&&s<e.length;++i)0===Ht(t.keys[i],e[s])&&(r.push(n?A(t.values[i]):t.values[i]),++s);return r.length===e.length?r:null}catch(e){return null}}const Kn={stack:"dbcore",level:-1,create:e=>({table:t=>{const n=e.table(t);return{...n,getMany:e=>{if(!e.cache)return n.getMany(e);const t=zn(e.keys,e.trans._cache,"clone"===e.cache);return t?Re.resolve(t):n.getMany(e).then((t=>(e.trans._cache={keys:e.keys,values:"clone"===e.cache?A(t):t},t)))},mutate:e=>("add"!==e.type&&(e.trans._cache=null),n.mutate(e))}}})};function Hn(e){return!("from"in e)}const qn=function(e,t){if(!this){const t=new qn;return e&&"d"in e&&a(t,e),t}a(this,arguments.length?{d:1,from:e,to:arguments.length>1?t:e}:{d:0})};function Wn(e,t,n){const r=Ht(t,n);if(isNaN(r))return;if(r>0)throw RangeError();if(Hn(e))return a(e,{from:t,to:n,d:1});const i=e.l,s=e.r;if(Ht(n,e.from)<0)return i?Wn(i,t,n):e.l={from:t,to:n,d:1,l:null,r:null},Xn(e);if(Ht(t,e.to)>0)return s?Wn(s,t,n):e.r={from:t,to:n,d:1,l:null,r:null},Xn(e);Ht(t,e.from)<0&&(e.from=t,e.l=null,e.d=s?s.d+1:1),Ht(n,e.to)>0&&(e.to=n,e.r=null,e.d=e.l?e.l.d+1:1);const o=!e.r;i&&!e.l&&Gn(e,i),s&&o&&Gn(e,s)}function Gn(e,t){Hn(t)||function e(t,n){let{from:r,to:i,l:s,r:a}=n;Wn(t,r,i),s&&e(t,s),a&&e(t,a)}(e,t)}function Qn(e){let t=Hn(e)?null:{s:0,n:e};return{next(e){const n=arguments.length>0;for(;t;)switch(t.s){case 0:if(t.s=1,n)for(;t.n.l&&Ht(e,t.n.from)<0;)t={up:t,n:t.n.l,s:1};else for(;t.n.l;)t={up:t,n:t.n.l,s:1};case 1:if(t.s=2,!n||Ht(e,t.n.to)<=0)return{value:t.n,done:!1};case 2:if(t.n.r){t.s=3,t={up:t,n:t.n.r,s:0};continue}case 3:t=t.up}return{done:!0}}}}function Xn(e){var t,n;const r=((null===(t=e.r)||void 0===t?void 0:t.d)||0)-((null===(n=e.l)||void 0===n?void 0:n.d)||0),i=r>1?"r":r<-1?"l":"";if(i){const t="r"===i?"l":"r",n={...e},r=e[i];e.from=r.from,e.to=r.to,e[i]=r[i],n[i]=r[t],e[t]=n,n.d=Jn(n)}e.d=Jn(e)}function Jn(e){let{r:t,l:n}=e;return(t?n?Math.max(t.d,n.d):t.d:n?n.d:0)+1}c(qn.prototype,{add(e){return Gn(this,e),this},addKey(e){return Wn(this,e,e),this},addKeys(e){return e.forEach((e=>Wn(this,e,e))),this},[R](){return Qn(this)}});const $n={stack:"dbcore",level:0,create:e=>{const t=e.schema.name,n=new qn(e.MIN_KEY,e.MAX_KEY);return{...e,table:r=>{const a=e.table(r),{schema:o}=a,{primaryKey:l}=o,{extractKey:u,outbound:c}=l,h={...a,mutate:e=>{const i=e.trans,l=i.mutatedParts||(i.mutatedParts={}),u=e=>{const n="idb://".concat(t,"/").concat(r,"/").concat(e);return l[n]||(l[n]=new qn)},c=u(""),h=u(":dels"),{type:d}=e;let[f,p]="deleteRange"===e.type?[e.range]:"delete"===e.type?[e.keys]:e.values.length<50?[[],e.values]:[];const m=e.trans._cache;return a.mutate(e).then((e=>{if(s(f)){"delete"!==d&&(f=e.results),c.addKeys(f);const t=zn(f,m);t||"add"===d||h.addKeys(f),(t||p)&&function(e,t,n,r){t.indexes.forEach((function(t){const i=e(t.name||"");function a(e){return null!=e?t.extractKey(e):null}const o=e=>t.multiEntry&&s(e)?e.forEach((e=>i.addKey(e))):i.addKey(e);(n||r).forEach(((e,t)=>{const i=n&&a(n[t]),s=r&&a(r[t]);0!==Ht(i,s)&&(null!=i&&o(i),null!=s&&o(s))}))}))}(u,o,t,p)}else if(f){const e={from:f.lower,to:f.upper};h.add(e),c.add(e)}else c.add(n),h.add(n),o.indexes.forEach((e=>u(e.name).add(n)));return e}))}},d=t=>{let{query:{index:n,range:r}}=t;var i,s;return[n,new qn(null!==(i=r.lower)&&void 0!==i?i:e.MIN_KEY,null!==(s=r.upper)&&void 0!==s?s:e.MAX_KEY)]},f={get:e=>[l,new qn(e.key)],getMany:e=>[l,(new qn).addKeys(e.keys)],count:d,query:d,openCursor:d};return i(f).forEach((e=>{h[e]=function(i){const{subscr:s}=Ae;if(s){const o=e=>{const n="idb://".concat(t,"/").concat(r,"/").concat(e);return s[n]||(s[n]=new qn)},l=o(""),h=o(":dels"),[d,p]=f[e](i);if(o(d.name||"").add(p),!d.isPrimaryKey){if("count"!==e){const t="query"===e&&c&&i.values&&a.query({...i,values:!1});return a[e].apply(this,arguments).then((n=>{if("query"===e){if(c&&i.values)return t.then((e=>{let{result:t}=e;return l.addKeys(t),n}));const e=i.values?n.result.map(u):n.result;i.values?l.addKeys(e):h.addKeys(e)}else if("openCursor"===e){const e=n,t=i.values;return e&&Object.create(e,{key:{get:()=>(h.addKey(e.primaryKey),e.key)},primaryKey:{get(){const t=e.primaryKey;return h.addKey(t),t}},value:{get:()=>(t&&l.addKey(e.primaryKey),e.value)}})}return n}))}h.add(n)}}return a[e].apply(this,arguments)}})),h}}}};class Yn{constructor(e,t){this._middlewares={},this.verno=0;const n=Yn.dependencies;this._options=t={addons:Yn.addons,autoOpen:!0,indexedDB:n.indexedDB,IDBKeyRange:n.IDBKeyRange,...t},this._deps={indexedDB:t.indexedDB,IDBKeyRange:t.IDBKeyRange};const{addons:r}=t;this._dbSchema={},this._versions=[],this._storeNames=[],this._allTables={},this.idbdb=null,this._novip=this;const i={dbOpenError:null,isBeingOpened:!1,onReadyBeingFired:null,openComplete:!1,dbReadyResolve:re,dbReadyPromise:null,cancelOpen:re,openCanceller:null,autoSchema:!0,PR1398_maxLoop:3};var s;i.dbReadyPromise=new Re((e=>{i.dbReadyResolve=e})),i.openCanceller=new Re(((e,t)=>{i.cancelOpen=t})),this._state=i,this.name=e,this.on=Lt(this,"populate","blocked","versionchange","close",{ready:[he,re]}),this.on.ready.subscribe=v(this.on.ready.subscribe,(e=>(t,n)=>{Yn.vip((()=>{const r=this._state;if(r.openComplete)r.dbOpenError||Re.resolve().then(t),n&&e(t);else if(r.onReadyBeingFired)r.onReadyBeingFired.push(t),n&&e(t);else{e(t);const r=this;n||e((function e(){r.on.ready.unsubscribe(t),r.on.ready.unsubscribe(e)}))}}))})),this.Collection=(s=this,Mt(Gt.prototype,(function(e,t){this.db=s;let n=Ot,r=null;if(t)try{n=t()}catch(e){r=e}const i=e._ctx,a=i.table,o=a.hook.reading.fire;this._ctx={table:a,index:i.index,isPrimKey:!i.index||a.schema.primKey.keyPath&&i.index===a.schema.primKey.name,range:n,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:r,or:i.or,valueMapper:o!==ie?o:null}}))),this.Table=function(e){return Mt(Rt.prototype,(function(t,n,r){this.db=e,this._tx=r,this.name=t,this.schema=n,this.hook=e._allTables[t]?e._allTables[t].hook:Lt(null,{creating:[oe,re],reading:[se,ie],updating:[ue,re],deleting:[le,re]})}))}(this),this.Transaction=function(e){return Mt(cn.prototype,(function(t,n,r,i,s){this.db=e,this.mode=t,this.storeNames=n,this.schema=r,this.chromeTransactionDurability=i,this.idbtrans=null,this.on=Lt(this,"complete","error","abort"),this.parent=s||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new Re(((e,t)=>{this._resolve=e,this._reject=t})),this._completion.then((()=>{this.active=!1,this.on.complete.fire()}),(e=>{var t=this.active;return this.active=!1,this.on.error.fire(e),this.parent?this.parent._reject(e):t&&this.idbtrans&&this.idbtrans.abort(),gt(e)}))}))}(this),this.Version=function(e){return Mt(An.prototype,(function(t){this.db=e,this._cfg={version:t,storesSource:null,dbschema:{},tables:{},contentUpgrade:null}}))}(this),this.WhereClause=function(e){return Mt(rn.prototype,(function(t,n,r){this.db=e,this._ctx={table:t,index:":id"===n?null:n,or:r};const i=e._deps.indexedDB;if(!i)throw new ee.MissingAPI;this._cmp=this._ascending=i.cmp.bind(i),this._descending=(e,t)=>i.cmp(t,e),this._max=(e,t)=>i.cmp(e,t)>0?e:t,this._min=(e,t)=>i.cmp(e,t)<0?e:t,this._IDBKeyRange=e._deps.IDBKeyRange}))}(this),this.on("versionchange",(e=>{e.newVersion>0?console.warn("Another connection wants to upgrade database '".concat(this.name,"'. Closing db now to resume the upgrade.")):console.warn("Another connection wants to delete database '".concat(this.name,"'. Closing db now to resume the delete request.")),this.close()})),this.on("blocked",(e=>{!e.newVersion||e.newVersion<e.oldVersion?console.warn("Dexie.delete('".concat(this.name,"') was blocked")):console.warn("Upgrade '".concat(this.name,"' blocked by other connection holding version ").concat(e.oldVersion/10))})),this._maxKey=pn(t.IDBKeyRange),this._createTransaction=(e,t,n,r)=>new this.Transaction(e,t,n,this._options.chromeTransactionDurability,r),this._fireOnBlocked=e=>{this.on("blocked").fire(e),kt.filter((e=>e.name===this.name&&e!==this&&!e._state.vcFired)).map((t=>t.on("versionchange").fire(e)))},this.use(Un),this.use(Bn),this.use($n),this.use(Kn),this.vip=Object.create(this,{_vip:{value:!0}}),r.forEach((e=>e(this)))}version(e){if(isNaN(e)||e<.1)throw new ee.Type("Given version is not a positive number");if(e=Math.round(10*e)/10,this.idbdb||this._state.isBeingOpened)throw new ee.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,e);const t=this._versions;var n=t.filter((t=>t._cfg.version===e))[0];return n||(n=new this.Version(e),t.push(n),t.sort(kn),n.stores({}),this._state.autoSchema=!1,n)}_whenReady(e){return this.idbdb&&(this._state.openComplete||Ae.letThrough||this._vip)?e():new Re(((e,t)=>{if(this._state.openComplete)return t(new ee.DatabaseClosed(this._state.dbOpenError));if(!this._state.isBeingOpened){if(!this._options.autoOpen)return void t(new ee.DatabaseClosed);this.open().catch(re)}this._state.dbReadyPromise.then(e,t)})).then(e)}use(e){let{stack:t,create:n,level:r,name:i}=e;i&&this.unuse({stack:t,name:i});const s=this._middlewares[t]||(this._middlewares[t]=[]);return s.push({stack:t,create:n,level:null==r?10:r,name:i}),s.sort(((e,t)=>e.level-t.level)),this}unuse(e){let{stack:t,name:n,create:r}=e;return t&&this._middlewares[t]&&(this._middlewares[t]=this._middlewares[t].filter((e=>r?e.create!==r:!!n&&e.name!==n))),this}open(){return function(e){const t=e._state,{indexedDB:n}=e._deps;if(t.isBeingOpened||e.idbdb)return t.dbReadyPromise.then((()=>t.dbOpenError?gt(t.dbOpenError):e));U&&(t.openCanceller._stackHolder=K()),t.isBeingOpened=!0,t.dbOpenError=null,t.openComplete=!1;const r=t.openCanceller;function s(){if(t.openCanceller!==r)throw new ee.DatabaseClosed("db.open() was cancelled")}let a=t.dbReadyResolve,o=null,l=!1;const u=()=>new Re(((r,a)=>{if(s(),!n)throw new ee.MissingAPI;const u=e.name,c=t.autoSchema?n.open(u):n.open(u,Math.round(10*e.verno));if(!c)throw new ee.MissingAPI;c.onerror=sn(a),c.onblocked=Xe(e._fireOnBlocked),c.onupgradeneeded=Xe((r=>{if(o=c.transaction,t.autoSchema&&!e._options.allowEmptyDB){c.onerror=an,o.abort(),c.result.close();const e=n.deleteDatabase(u);e.onsuccess=e.onerror=Xe((()=>{a(new ee.NoSuchDatabase("Database ".concat(u," doesnt exist")))}))}else{o.onerror=sn(a);var i=r.oldVersion>Math.pow(2,62)?0:r.oldVersion;l=i<1,e._novip.idbdb=c.result,Sn(e,i/10,o,a)}}),a),c.onsuccess=Xe((()=>{o=null;const n=e._novip.idbdb=c.result,s=y(n.objectStoreNames);if(s.length>0)try{const r=n.transaction(1===(a=s).length?a[0]:a,"readonly");t.autoSchema?function(e,t,n){let{_novip:r}=e;r.verno=t.version/10;const s=r._dbSchema=xn(0,t,n);r._storeNames=y(t.objectStoreNames,0),_n(r,[r._allTables],i(s),s)}(e,n,r):(Nn(e,e._dbSchema,r),function(e,t){const n=Tn(xn(0,e.idbdb,t),e._dbSchema);return!(n.add.length||n.change.some((e=>e.add.length||e.change.length)))}(e,r)||console.warn("Dexie SchemaDiff: Schema was extended without increasing the number passed to db.version(). Some queries may fail.")),wn(e,r)}catch(e){}var a;kt.push(e),n.onversionchange=Xe((n=>{t.vcFired=!0,e.on("versionchange").fire(n)})),n.onclose=Xe((t=>{e.on("close").fire(t)})),l&&function(e,t){let{indexedDB:n,IDBKeyRange:r}=e;!On(n)&&t!==xt&&Pn(n,r).put({name:t}).catch(re)}(e._deps,u),r()}),a)})).catch((e=>e&&"UnknownError"===e.name&&t.PR1398_maxLoop>0?(t.PR1398_maxLoop--,console.warn("Dexie: Workaround for Chrome UnknownError on open()"),u()):Re.reject(e)));return Re.race([r,("undefined"==typeof navigator?Re.resolve():Rn()).then(u)]).then((()=>(s(),t.onReadyBeingFired=[],Re.resolve(Dn((()=>e.on.ready.fire(e.vip)))).then((function n(){if(t.onReadyBeingFired.length>0){let r=t.onReadyBeingFired.reduce(he,re);return t.onReadyBeingFired=[],Re.resolve(Dn((()=>r(e.vip)))).then(n)}}))))).finally((()=>{t.onReadyBeingFired=null,t.isBeingOpened=!1})).then((()=>e)).catch((n=>{t.dbOpenError=n;try{o&&o.abort()}catch(e){}return r===t.openCanceller&&e._close(),gt(n)})).finally((()=>{t.openComplete=!0,a()}))}(this)}_close(){const e=this._state,t=kt.indexOf(this);if(t>=0&&kt.splice(t,1),this.idbdb){try{this.idbdb.close()}catch(e){}this._novip.idbdb=null}e.dbReadyPromise=new Re((t=>{e.dbReadyResolve=t})),e.openCanceller=new Re(((t,n)=>{e.cancelOpen=n}))}close(){this._close();const e=this._state;this._options.autoOpen=!1,e.dbOpenError=new ee.DatabaseClosed,e.isBeingOpened&&e.cancelOpen(e.dbOpenError)}delete(){const e=arguments.length>0,t=this._state;return new Re(((n,r)=>{const i=()=>{this.close();var e=this._deps.indexedDB.deleteDatabase(this.name);e.onsuccess=Xe((()=>{!function(e,t){let{indexedDB:n,IDBKeyRange:r}=e;!On(n)&&t!==xt&&Pn(n,r).delete(t).catch(re)}(this._deps,this.name),n()})),e.onerror=sn(r),e.onblocked=this._fireOnBlocked};if(e)throw new ee.InvalidArgument("Arguments not allowed in db.delete()");t.isBeingOpened?t.dbReadyPromise.then(i):i()}))}backendDB(){return this.idbdb}isOpen(){return null!==this.idbdb}hasBeenClosed(){const e=this._state.dbOpenError;return e&&"DatabaseClosed"===e.name}hasFailed(){return null!==this._state.dbOpenError}dynamicallyOpened(){return this._state.autoSchema}get tables(){return i(this._allTables).map((e=>this._allTables[e]))}transaction(){const e=Mn.apply(this,arguments);return this._transaction.apply(this,e)}_transaction(e,t,n){let r=Ae.trans;r&&r.db===this&&-1===e.indexOf("!")||(r=null);const i=-1!==e.indexOf("?");let s,a;e=e.replace("!","").replace("?","");try{if(a=t.map((e=>{var t=e instanceof this.Table?e.name:e;if("string"!=typeof t)throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return t})),"r"==e||e===Nt)s=Nt;else{if("rw"!=e&&e!=At)throw new ee.InvalidArgument("Invalid transaction mode: "+e);s=At}if(r){if(r.mode===Nt&&s===At){if(!i)throw new ee.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");r=null}r&&a.forEach((e=>{if(r&&-1===r.storeNames.indexOf(e)){if(!i)throw new ee.SubTransaction("Table "+e+" not included in parent transaction.");r=null}})),i&&r&&!r.active&&(r=null)}}catch(e){return r?r._promise(null,((t,n)=>{n(e)})):gt(e)}const o=jn.bind(null,this,s,a,r,n);return r?r._promise(s,o,"lock"):Ae.trans?ct(Ae.transless,(()=>this._whenReady(o))):this._whenReady(o)}table(e){if(!u(this._allTables,e))throw new ee.InvalidTable("Table ".concat(e," does not exist"));return this._allTables[e]}}const Zn="undefined"!=typeof Symbol&&"observable"in Symbol?Symbol.observable:"@@observable";class er{constructor(e){this._subscribe=e}subscribe(e,t,n){return this._subscribe(e&&"function"!=typeof e?e:{next:e,error:t,complete:n})}[Zn](){return this}}function tr(e,t){return i(t).forEach((n=>{Gn(e[n]||(e[n]=new qn),t[n])})),e}let nr;try{nr={indexedDB:r.indexedDB||r.mozIndexedDB||r.webkitIndexedDB||r.msIndexedDB,IDBKeyRange:r.IDBKeyRange||r.webkitIDBKeyRange}}catch(r){nr={indexedDB:null,IDBKeyRange:null}}const rr=Yn;function ir(e){let t=sr;try{sr=!0,un.storagemutated.fire(e)}finally{sr=t}}c(rr,{...ne,delete:e=>new rr(e,{addons:[]}).delete(),exists:e=>new rr(e,{addons:[]}).open().then((e=>(e.close(),!0))).catch("NoSuchDatabaseError",(()=>!1)),getDatabaseNames(e){try{return function(e){let{indexedDB:t,IDBKeyRange:n}=e;return On(t)?Promise.resolve(t.databases()).then((e=>e.map((e=>e.name)).filter((e=>e!==xt)))):Pn(t,n).toCollection().primaryKeys()}(rr.dependencies).then(e)}catch(e){return gt(new ee.MissingAPI)}},defineClass:()=>function(e){a(this,e)},ignoreTransaction:e=>Ae.trans?ct(Ae.transless,e):e(),vip:Dn,async:function(e){return function(){try{var t=Ln(e.apply(this,arguments));return t&&"function"==typeof t.then?t:Re.resolve(t)}catch(e){return gt(e)}}},spawn:function(e,t,n){try{var r=Ln(e.apply(n,t||[]));return r&&"function"==typeof r.then?r:Re.resolve(r)}catch(e){return gt(e)}},currentTransaction:{get:()=>Ae.trans||null},waitFor:function(e,t){const n=Re.resolve("function"==typeof e?rr.ignoreTransaction(e):e).timeout(t||6e4);return Ae.trans?Ae.trans.waitFor(n):n},Promise:Re,debug:{get:()=>U,set:e=>{V(e,"dexie"===e?()=>!0:Ct)}},derive:f,extend:a,props:c,override:v,Events:Lt,on:un,liveQuery:function(e){let t,n=!1;const r=new er((r=>{const s=F(e);let a=!1,o={},l={};const u={get closed(){return a},unsubscribe:()=>{a=!0,un.storagemutated.unsubscribe(f)}};r.start&&r.start(u);let c=!1,h=!1;function d(){return i(l).some((e=>o[e]&&function(e,t){const n=Qn(t);let r=n.next();if(r.done)return!1;let i=r.value;const s=Qn(e);let a=s.next(i.from),o=a.value;for(;!r.done&&!a.done;){if(Ht(o.from,i.to)<=0&&Ht(o.to,i.from)>=0)return!0;Ht(i.from,o.from)<0?i=(r=n.next(o.from)).value:o=(a=s.next(i.from)).value}return!1}(o[e],l[e])))}const f=e=>{tr(o,e),d()&&p()},p=()=>{if(c||a)return;o={};const i={},m=function(t){s&&rt();const n=()=>nt(e,{subscr:t,trans:null}),r=Ae.trans?ct(Ae.transless,n):n();return s&&r.then(it,it),r}(i);h||(un(on,f),h=!0),c=!0,Promise.resolve(m).then((e=>{n=!0,t=e,c=!1,a||(d()?p():(o={},l=i,r.next&&r.next(e)))}),(e=>{c=!1,n=!1,r.error&&r.error(e),u.unsubscribe()}))};return p(),u}));return r.hasValue=()=>n,r.getValue=()=>t,r},extendObservabilitySet:tr,getByKeyPath:E,setByKeyPath:k,delByKeyPath:function(e,t){"string"==typeof t?k(e,t,void 0):"length"in t&&[].map.call(t,(function(t){k(e,t,void 0)}))},shallowClone:S,deepClone:A,getObjectDiff:Vn,cmp:Ht,asap:w,minKey:wt,addons:[],connections:kt,errnames:Y,dependencies:nr,semVer:vt,version:vt.split(".").map((e=>parseInt(e))).reduce(((e,t,n)=>e+t/Math.pow(10,2*n)))}),rr.maxKey=pn(rr.dependencies.IDBKeyRange),"undefined"!=typeof dispatchEvent&&"undefined"!=typeof addEventListener&&(un(on,(e=>{if(!sr){let t;St?(t=document.createEvent("CustomEvent"),t.initCustomEvent(ln,!0,!0,e)):t=new CustomEvent(ln,{detail:e}),sr=!0,dispatchEvent(t),sr=!1}})),addEventListener(ln,(e=>{let{detail:t}=e;sr||ir(t)})));let sr=!1;if("undefined"!=typeof BroadcastChannel){const e=new BroadcastChannel(ln);"function"==typeof e.unref&&e.unref(),un(on,(t=>{sr||e.postMessage(t)})),e.onmessage=e=>{e.data&&ir(e.data)}}else if("undefined"!=typeof self&&"undefined"!=typeof navigator){un(on,(e=>{try{sr||("undefined"!=typeof localStorage&&localStorage.setItem(ln,JSON.stringify({trig:Math.random(),changedParts:e})),"object"==typeof self.clients&&[...self.clients.matchAll({includeUncontrolled:!0})].forEach((t=>t.postMessage({type:ln,changedParts:e}))))}catch(e){}})),"undefined"!=typeof addEventListener&&addEventListener("storage",(e=>{if(e.key===ln){const t=JSON.parse(e.newValue);t&&ir(t.changedParts)}}));const e=self.document&&navigator.serviceWorker;e&&e.addEventListener("message",(function(e){let{data:t}=e;t&&t.type===ln&&ir(t.changedParts)}))}Re.rejectionMapper=function(e,t){if(!e||e instanceof Q||e instanceof TypeError||e instanceof SyntaxError||!e.name||!te[e.name])return e;var n=new te[e.name](t||e.message,e);return"stack"in e&&d(n,"stack",{get:function(){return this.inner.stack}}),n},V(U,Ct);const ar=new Yn("PlayersDatabase");ar.version(6).stores({players:"++id, fullName, handicap, availability, wins, losses, totalwins",attendance:"++id, playerId"});const or=ar;var lr=n(579);const ur=()=>{const[t,n]=(0,e.useState)([]),[r,i]=(0,e.useState)(!0);return(0,e.useEffect)((()=>{!async function(){try{const e=await or.players.toArray();n(e),i(!1)}catch(e){console.error("Error fetching players:",e.message),i(!1)}}()}),[]),(0,lr.jsxs)("div",{className:"available-container",children:[(0,lr.jsx)("h2",{children:"Available Players"}),r?(0,lr.jsx)("p",{className:"loading-message",children:"Loading players..."}):(0,lr.jsxs)("table",{children:[(0,lr.jsx)("thead",{children:(0,lr.jsxs)("tr",{children:[(0,lr.jsx)("th",{children:"#"}),(0,lr.jsx)("th",{children:"Name"}),(0,lr.jsx)("th",{children:"Handicap"}),(0,lr.jsx)("th",{children:"Availability"})]})}),(0,lr.jsx)("tbody",{children:t.filter((e=>e.availability)).map(((e,t)=>(0,lr.jsxs)("tr",{children:[(0,lr.jsx)("td",{children:t+1}),(0,lr.jsx)("td",{children:e.fullName}),(0,lr.jsx)("td",{children:e.handicap}),(0,lr.jsx)("td",{children:e.availability?"Available":"Not Available"})]},e.id)))})]})]})},cr=()=>{const[t,n]=(0,e.useState)(""),[r,i]=(0,e.useState)(""),[s,a]=(0,e.useState)(null),[o,l]=(0,e.useState)(!1),[u,c]=(0,e.useState)("");return(0,lr.jsxs)("div",{className:"add-player-container",children:[(0,lr.jsxs)("div",{className:"input-fields",children:[(0,lr.jsxs)("label",{children:["Full Name:",(0,lr.jsx)("input",{type:"text",value:t,onChange:e=>{n(e.target.value),a(null),c("")}})]}),(0,lr.jsx)("br",{}),(0,lr.jsxs)("label",{children:["Handicap:",(0,lr.jsx)("input",{type:"number",value:r,onChange:e=>{i(e.target.value),a(null),c("")}})]})]}),s&&(0,lr.jsx)("div",{className:"error-message",children:s}),u&&(0,lr.jsx)("div",{className:"success-message",children:u}),(0,lr.jsx)("div",{className:"submit-button",children:(0,lr.jsx)("button",{onClick:async()=>{try{l(!0);const e=t.trim().replace(/\b\w/g,(e=>e.toUpperCase()));if(!e)throw new Error("Please enter a valid full name.");const s=parseFloat(r);if(isNaN(s))throw new Error("Please enter a valid numeric handicap value.");await or.players.add({fullName:e,handicap:s}),c("Player added successfully"),n(""),i(""),a(null)}catch(s){console.error("Error adding player:",s.message),a(s.message),c("")}finally{l(!1)}},children:"Submit"})}),o&&(0,lr.jsx)("div",{className:"loading-indicator",children:"Adding player..."})]})},hr=()=>{const[t,n]=(0,e.useState)([]),[r,i]=(0,e.useState)(null),[s,a]=(0,e.useState)(null);(0,e.useEffect)((()=>{!async function(){try{const e=await or.players.toArray();n(e)}catch(s){console.error("Error fetching players:",s.message)}}()}),[]);const o=()=>{i(null),a(null)};return(0,lr.jsxs)("div",{className:"list-player-container",children:[(0,lr.jsx)("h2",{children:"Player List"}),s&&(0,lr.jsx)("div",{className:"error-message",children:s}),(0,lr.jsxs)("table",{children:[(0,lr.jsx)("thead",{children:(0,lr.jsxs)("tr",{children:[(0,lr.jsx)("th",{children:"Name"}),(0,lr.jsx)("th",{children:"Handicap"}),(0,lr.jsx)("th",{children:"Actions"})]})}),(0,lr.jsx)("tbody",{children:t.map((e=>(0,lr.jsxs)("tr",{children:[(0,lr.jsx)("td",{children:r===e.id?(0,lr.jsx)("input",{type:"text",value:e.fullName,onChange:t=>n((n=>n.map((n=>n.id===e.id?{...n,fullName:t.target.value}:n))))}):e.fullName}),(0,lr.jsx)("td",{children:r===e.id?(0,lr.jsx)("input",{type:"parseFloat",value:e.handicap,onChange:t=>n((n=>n.map((n=>n.id===e.id?{...n,handicap:t.target.value}:n))))}):e.handicap}),(0,lr.jsx)("td",{children:r===e.id?(0,lr.jsxs)(lr.Fragment,{children:[(0,lr.jsx)("button",{onClick:()=>(async e=>{try{if(!e.fullName.trim()||isNaN(e.handicap))throw new Error("Please enter a valid full name and handicap.");await or.players.update(e.id,e),n((t=>t.map((t=>t.id===e.id?e:t)))),i(null),a(null)}catch(s){console.error("Error editing player:",s.message),a(s.message)}})(e),children:"Save"}),(0,lr.jsx)("button",{onClick:o,children:"Cancel"})]}):(0,lr.jsxs)(lr.Fragment,{children:[(0,lr.jsx)("button",{onClick:()=>{return t=e.id,void i(t);var t},children:"Edit"}),(0,lr.jsx)("button",{onClick:()=>(async e=>{try{await or.players.delete(e),n((t=>t.filter((t=>t.id!==e)))),console.log("Player deleted successfully"),a(null)}catch(s){console.error("Error deleting player:",s.message),a(s.message)}})(e.id),children:"Delete"})]})})]},e.id)))})]})]})},dr=()=>{const[t,n]=(0,e.useState)([]),[r,i]=(0,e.useState)([]),[s,a]=(0,e.useState)(""),[o,l]=(0,e.useState)(!0);(0,e.useEffect)((()=>{!async function(){try{const e=(await or.players.toArray()).sort(((e,t)=>e.fullName.localeCompare(t.fullName)));n(e),l(!1)}catch(e){console.error("Error fetching players:",e.message),l(!1)}}()}),[]),(0,e.useEffect)((()=>{const e=setTimeout((()=>{a("")}),3e3);return()=>{clearTimeout(e)}}),[s]);return(0,lr.jsxs)("div",{className:"onsite-container",children:[(0,lr.jsx)("h2",{children:"Onsite Attendance"}),(0,lr.jsx)("p",{className:"para",children:'Note: "Please Select All and Reset before taking attendance for accuracy."'}),o?(0,lr.jsx)("p",{children:"Loading players..."}):(0,lr.jsxs)("table",{children:[(0,lr.jsx)("thead",{children:(0,lr.jsxs)("tr",{children:[(0,lr.jsx)("th",{children:"#"}),(0,lr.jsx)("th",{children:"Name"}),(0,lr.jsx)("th",{children:"Handicap"}),(0,lr.jsx)("th",{children:"Availability"}),(0,lr.jsx)("th",{children:(0,lr.jsxs)("label",{children:[(0,lr.jsx)("input",{type:"checkbox",checked:r.length===t.length,onChange:()=>i(r.length===t.length?[]:t)}),"Select All"]})})]})}),(0,lr.jsx)("tbody",{children:t.map(((e,t)=>(0,lr.jsxs)("tr",{style:{backgroundColor:r.some((t=>t.id===e.id))||e.availability?"lightgreen":"white"},children:[(0,lr.jsx)("td",{children:t+1}),(0,lr.jsx)("td",{children:e.fullName}),(0,lr.jsx)("td",{children:e.handicap}),(0,lr.jsx)("td",{children:e.availability?"Available":"Not Available"}),(0,lr.jsx)("td",{children:(0,lr.jsx)("input",{type:"checkbox",checked:r.some((t=>t.id===e.id)),onChange:()=>(e=>{i((t=>t.some((t=>t.id===e.id))?t.filter((t=>t.id!==e.id)):[...t,e]))})(e)})})]},e.id)))})]}),(0,lr.jsxs)("div",{children:[(0,lr.jsx)("button",{onClick:async()=>{console.log("Selected players for attendance:",r);try{await Promise.all(r.map((e=>or.players.where("id").equals(e.id).modify({availability:!0})))),await or.attendance.bulkAdd(r.map((e=>({playerId:e.id,handicap:e.handicap})))),console.log("Attendance data saved successfully"),a("Attendance data saved successfully"),window.location.reload()}catch(e){console.error("Error saving attendance data:",e.message),a("Error saving attendance data: ".concat(e.message))}},children:"Submit Attendance"}),(0,lr.jsx)("button",{onClick:async()=>{if(window.confirm("Are you sure you want to reset? This action cannot be undone.")){try{await Promise.all(r.map((e=>or.players.where("id").equals(e.id).modify({availability:!1})))),console.log("Players marked as unavailable successfully"),a("Players marked as unavailable successfully"),window.location.reload()}catch(e){console.error("Error marking players as unavailable:",e.message),a("Error marking players as unavailable: ".concat(e.message))}i([])}},children:"Reset"})]}),s&&(0,lr.jsx)("p",{children:s})]})},fr=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},pr={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<e.length;i+=3){const t=e[i],s=i+1<e.length,a=s?e[i+1]:0,o=i+2<e.length,l=o?e[i+2]:0,u=t>>2,c=(3&t)<<4|a>>4;let h=(15&a)<<2|l>>6,d=63&l;o||(d=64,s||(h=64)),r.push(n[u],n[c],n[h],n[d])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(fr(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&s)}else if(i>239&&i<365){const s=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(s>>10)),t[r++]=String.fromCharCode(56320+(1023&s))}else{const s=e[n++],a=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&a)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<e.length;){const t=n[e.charAt(i++)],s=i<e.length?n[e.charAt(i)]:0;++i;const a=i<e.length?n[e.charAt(i)]:64;++i;const o=i<e.length?n[e.charAt(i)]:64;if(++i,null==t||null==s||null==a||null==o)throw new mr;const l=t<<2|s>>4;if(r.push(l),64!==a){const e=s<<4&240|a>>2;if(r.push(e),64!==o){const e=a<<6&192|o;r.push(e)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class mr extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const gr=function(e){return function(e){const t=fr(e);return pr.encodeByteArray(t,!0)}(e).replace(/\./g,"")},yr=function(e){try{return pr.decodeString(e,!0)}catch(r){console.error("base64Decode failed: ",r)}return null};const vr=()=>function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__,br=()=>{try{return vr()||(()=>{if("undefined"===typeof process)return;const e={NODE_ENV:"production",PUBLIC_URL:"/snooker-live",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0})()||(()=>{if("undefined"===typeof document)return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(r){return}const t=e&&yr(e[1]);return t&&JSON.parse(t)})()}catch(r){return void console.info("Unable to get __FIREBASE_DEFAULTS__ due to: ".concat(r))}},wr=e=>{var t,n;return null===(n=null===(t=br())||void 0===t?void 0:t.emulatorHosts)||void 0===n?void 0:n[e]},_r=()=>{var e;return null===(e=br())||void 0===e?void 0:e.config},Er=e=>{var t;return null===(t=br())||void 0===t?void 0:t["_".concat(e)]};class kr{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"===typeof e&&(this.promise.catch((()=>{})),1===e.length?e(t):e(t,n))}}}function Sr(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function Tr(){return!function(){var e;const t=null===(e=br())||void 0===e?void 0:e.forceEnvironment;if("node"===t)return!0;if("browser"===t)return!1;try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(r){return!1}}()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Ir(){try{return"object"===typeof indexedDB}catch(r){return!1}}class Cr extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,Cr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,xr.prototype.create)}}class xr{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e){const t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?function(e,t){return e.replace(Nr,((e,n)=>{const r=t[n];return null!=r?String(r):"<".concat(n,"?>")}))}(r,t):"Error",s="".concat(this.serviceName,": ").concat(i," (").concat(n,").");return new Cr(n,s,t)}}const Nr=/\{\$([^}]+)}/g;function Ar(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const n=e[i],s=t[i];if(Pr(n)&&Pr(s)){if(!Ar(n,s))return!1}else if(n!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function Pr(e){return null!==e&&"object"===typeof e}function Or(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach((e=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function Dr(e){const t={};return e.replace(/^\?/,"").split("&").forEach((e=>{if(e){const[n,r]=e.split("=");t[decodeURIComponent(n)]=decodeURIComponent(r)}})),t}function Rr(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}class Lr{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then((()=>{e(this)})).catch((e=>{this.error(e)}))}next(e){this.forEachObserver((t=>{t.next(e)}))}error(e){this.forEachObserver((t=>{t.error(e)})),this.close(e)}complete(){this.forEachObserver((e=>{e.complete()})),this.close()}subscribe(e,t,n){let i;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");i=function(e,t){if("object"!==typeof e||null===e)return!1;for(const n of t)if(n in e&&"function"===typeof e[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n},void 0===i.next&&(i.next=Mr),void 0===i.error&&(i.error=Mr),void 0===i.complete&&(i.complete=Mr);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch(r){}})),this.observers.push(i),s}unsubscribeOne(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then((()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(r){"undefined"!==typeof console&&console.error&&console.error(r)}}))}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((()=>{this.observers=void 0,this.onNoObservers=void 0})))}}function Mr(){}function jr(e){return e&&e._delegate?e._delegate:e}class Fr{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Ur="[DEFAULT]";class Vr{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const e=new kr;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:t});n&&e.resolve(n)}catch(r){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),i=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(i)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(r){if(i)return null;throw r}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:Ur})}catch(r){}for(const[e,t]of this.instancesDeferred.entries()){const n=this.normalizeInstanceIdentifier(e);try{const e=this.getOrInitializeService({instanceIdentifier:n});t.resolve(e)}catch(r){}}}}clearInstance(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ur;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter((e=>"INTERNAL"in e)).map((e=>e.INTERNAL.delete())),...e.filter((e=>"_delete"in e)).map((e=>e._delete()))])}isComponentSet(){return null!=this.component}isInitialized(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ur;return this.instances.has(e)}getOptions(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ur;return this.instancesOptions.get(e)||{}}initialize(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error("".concat(this.name,"(").concat(n,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));const r=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[i,s]of this.instancesDeferred.entries()){n===this.normalizeInstanceIdentifier(i)&&s.resolve(r)}return r}onInit(e,t){var n;const r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);const s=this.instances.get(r);return s&&e(s,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const i of n)try{i(e,t)}catch(r){}}getOrInitializeService(e){let{instanceIdentifier:t,options:n={}}=e,r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(i=t,i===Ur?void 0:i),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch(s){}var i;return r||null}normalizeInstanceIdentifier(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ur;return this.component?this.component.multipleInstances?e:Ur:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Br{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new Vr(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}const zr=[];var Kr;!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(Kr||(Kr={}));const Hr={debug:Kr.DEBUG,verbose:Kr.VERBOSE,info:Kr.INFO,warn:Kr.WARN,error:Kr.ERROR,silent:Kr.SILENT},qr=Kr.INFO,Wr={[Kr.DEBUG]:"log",[Kr.VERBOSE]:"log",[Kr.INFO]:"info",[Kr.WARN]:"warn",[Kr.ERROR]:"error"},Gr=function(e,t){if(t<e.logLevel)return;const n=(new Date).toISOString(),r=Wr[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i=arguments.length,s=new Array(i>2?i-2:0),a=2;a<i;a++)s[a-2]=arguments[a];console[r]("[".concat(n,"]  ").concat(e.name,":"),...s)};class Qr{constructor(e){this.name=e,this._logLevel=qr,this._logHandler=Gr,this._userLogHandler=null,zr.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Kr))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}setLogLevel(e){this._logLevel="string"===typeof e?Hr[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Kr.DEBUG,...t),this._logHandler(this,Kr.DEBUG,...t)}log(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Kr.VERBOSE,...t),this._logHandler(this,Kr.VERBOSE,...t)}info(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Kr.INFO,...t),this._logHandler(this,Kr.INFO,...t)}warn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Kr.WARN,...t),this._logHandler(this,Kr.WARN,...t)}error(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Kr.ERROR,...t),this._logHandler(this,Kr.ERROR,...t)}}const Xr=(e,t)=>t.some((t=>e instanceof t));let Jr,$r;const Yr=new WeakMap,Zr=new WeakMap,ei=new WeakMap,ti=new WeakMap,ni=new WeakMap;let ri={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return Zr.get(e);if("objectStoreNames"===t)return e.objectStoreNames||ei.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ai(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function ii(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?($r||($r=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(oi(this),n),ai(Yr.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return ai(e.apply(oi(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];const s=e.call(oi(this),t,...r);return ei.set(s,t.sort?t.sort():[t]),ai(s)}}function si(e){return"function"===typeof e?ii(e):(e instanceof IDBTransaction&&function(e){if(Zr.has(e))return;const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",s),e.removeEventListener("abort",s)},i=()=>{t(),r()},s=()=>{n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",s),e.addEventListener("abort",s)}));Zr.set(e,t)}(e),Xr(e,Jr||(Jr=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction]))?new Proxy(e,ri):e)}function ai(e){if(e instanceof IDBRequest)return function(e){const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("success",i),e.removeEventListener("error",s)},i=()=>{t(ai(e.result)),r()},s=()=>{n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",s)}));return t.then((t=>{t instanceof IDBCursor&&Yr.set(t,e)})).catch((()=>{})),ni.set(t,e),t}(e);if(ti.has(e))return ti.get(e);const t=si(e);return t!==e&&(ti.set(e,t),ni.set(t,e)),t}const oi=e=>ni.get(e);const li=["get","getKey","getAll","getAllKeys","count"],ui=["put","add","delete","clear"],ci=new Map;function hi(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!==typeof t)return;if(ci.get(t))return ci.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=ui.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!li.includes(n))return;const s=async function(e){const t=this.transaction(e,i?"readwrite":"readonly");let s=t.store;for(var a=arguments.length,o=new Array(a>1?a-1:0),l=1;l<a;l++)o[l-1]=arguments[l];return r&&(s=s.index(o.shift())),(await Promise.all([s[n](...o),i&&t.done]))[0]};return ci.set(t,s),s}ri=(e=>({...e,get:(t,n,r)=>hi(t,n)||e.get(t,n,r),has:(t,n)=>!!hi(t,n)||e.has(t,n)}))(ri);class di{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map((e=>{if(function(e){const t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){const t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null})).filter((e=>e)).join(" ")}}const fi="@firebase/app",pi="0.9.27",mi=new Qr("@firebase/app"),gi="[DEFAULT]",yi={[fi]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},vi=new Map,bi=new Map;function wi(e,t){try{e.container.addComponent(t)}catch(r){mi.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),r)}}function _i(e){const t=e.name;if(bi.has(t))return mi.debug("There were multiple attempts to register component ".concat(t,".")),!1;bi.set(t,e);for(const n of vi.values())wi(n,e);return!0}function Ei(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}const ki=new xr("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Si{constructor(e,t,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new Fr("app",(()=>this),"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ki.create("app-deleted",{appName:this._name})}}const Ti="10.8.0";function Ii(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;if("object"!==typeof t){t={name:t}}const r=Object.assign({name:gi,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!==typeof i||!i)throw ki.create("bad-app-name",{appName:String(i)});if(n||(n=_r()),!n)throw ki.create("no-options");const s=vi.get(i);if(s){if(Ar(n,s.options)&&Ar(r,s.config))return s;throw ki.create("duplicate-app",{appName:i})}const a=new Br(i);for(const l of bi.values())a.addComponent(l);const o=new Si(n,r,a);return vi.set(i,o),o}function Ci(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:gi;const t=vi.get(e);if(!t&&e===gi&&_r())return Ii();if(!t)throw ki.create("no-app",{appName:e});return t}function xi(e,t,n){var r;let i=null!==(r=yi[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));const s=i.match(/\s|\//),a=t.match(/\s|\//);if(s||a){const e=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return s&&e.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),s&&a&&e.push("and"),a&&e.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void mi.warn(e.join(" "))}_i(new Fr("".concat(i,"-version"),(()=>({library:i,version:t})),"VERSION"))}const Ni="firebase-heartbeat-database",Ai=1,Pi="firebase-heartbeat-store";let Oi=null;function Di(){return Oi||(Oi=function(e,t){let{blocked:n,upgrade:r,blocking:i,terminated:s}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const a=indexedDB.open(e,t),o=ai(a);return r&&a.addEventListener("upgradeneeded",(e=>{r(ai(a.result),e.oldVersion,e.newVersion,ai(a.transaction),e)})),n&&a.addEventListener("blocked",(e=>n(e.oldVersion,e.newVersion,e))),o.then((e=>{s&&e.addEventListener("close",(()=>s())),i&&e.addEventListener("versionchange",(e=>i(e.oldVersion,e.newVersion,e)))})).catch((()=>{})),o}(Ni,Ai,{upgrade:(e,t)=>{if(0===t)try{e.createObjectStore(Pi)}catch(r){console.warn(r)}}}).catch((e=>{throw ki.create("idb-open",{originalErrorMessage:e.message})}))),Oi}async function Ri(e,t){try{const n=(await Di()).transaction(Pi,"readwrite"),r=n.objectStore(Pi);await r.put(t,Li(e)),await n.done}catch(r){if(r instanceof Cr)mi.warn(r.message);else{const t=ki.create("idb-set",{originalErrorMessage:null===r||void 0===r?void 0:r.message});mi.warn(t.message)}}}function Li(e){return"".concat(e.name,"!").concat(e.options.appId)}class Mi{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new Fi(t),this._heartbeatsCachePromise=this._storage.read().then((e=>(this._heartbeatsCache=e,e)))}async triggerHeartbeat(){var e,t;const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=ji();if((null!=(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)||(this._heartbeatsCache=await this._heartbeatsCachePromise,null!=(null===(t=this._heartbeatsCache)||void 0===t?void 0:t.heartbeats)))&&this._heartbeatsCache.lastSentHeartbeatDate!==r&&!this._heartbeatsCache.heartbeats.some((e=>e.date===r)))return this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((e=>{const t=new Date(e.date).valueOf();return Date.now()-t<=2592e6})),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){var e;if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)||0===this._heartbeatsCache.heartbeats.length)return"";const t=ji(),{heartbeatsToSend:n,unsentEntries:r}=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;const n=[];let r=e.slice();for(const i of e){const e=n.find((e=>e.agent===i.agent));if(e){if(e.dates.push(i.date),Ui(n)>t){e.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),Ui(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(this._heartbeatsCache.heartbeats),i=gr(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}}function ji(){return(new Date).toISOString().substring(0,10)}class Fi{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!Ir()&&new Promise(((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(n){t(n)}})).then((()=>!0)).catch((()=>!1))}async read(){if(await this._canUseIndexedDBPromise){const e=await async function(e){try{const t=(await Di()).transaction(Pi),n=await t.objectStore(Pi).get(Li(e));return await t.done,n}catch(r){if(r instanceof Cr)mi.warn(r.message);else{const t=ki.create("idb-get",{originalErrorMessage:null===r||void 0===r?void 0:r.message});mi.warn(t.message)}}}(this.app);return(null===e||void 0===e?void 0:e.heartbeats)?e:{heartbeats:[]}}return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return Ri(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return Ri(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}}}function Ui(e){return gr(JSON.stringify({version:2,heartbeats:e})).length}var Vi;Vi="",_i(new Fr("platform-logger",(e=>new di(e)),"PRIVATE")),_i(new Fr("heartbeat",(e=>new Mi(e)),"PRIVATE")),xi(fi,pi,Vi),xi(fi,pi,"esm2017"),xi("fire-js","");var Bi,zi="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},Ki={},Hi=Hi||{},qi=zi||self;function Wi(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function Gi(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var Qi="closure_uid_"+(1e9*Math.random()>>>0),Xi=0;function Ji(e,t,n){return e.call.apply(e.bind,arguments)}function $i(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function Yi(e,t,n){return(Yi=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Ji:$i).apply(null,arguments)}function Zi(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function es(e,t){function n(){}n.prototype=t.prototype,e.$=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.ac=function(e,n,r){for(var i=Array(arguments.length-2),s=2;s<arguments.length;s++)i[s-2]=arguments[s];return t.prototype[n].apply(e,i)}}function ts(){this.s=this.s,this.o=this.o}ts.prototype.s=!1,ts.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function(e){Object.prototype.hasOwnProperty.call(e,Qi)&&e[Qi]||(e[Qi]=++Xi)}(this)},ts.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const ns=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(let n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1};function rs(e){const t=e.length;if(0<t){const n=Array(t);for(let r=0;r<t;r++)n[r]=e[r];return n}return[]}function is(e,t){for(let n=1;n<arguments.length;n++){const t=arguments[n];if(Wi(t)){const n=e.length||0,r=t.length||0;e.length=n+r;for(let i=0;i<r;i++)e[n+i]=t[i]}else e.push(t)}}function ss(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}ss.prototype.h=function(){this.defaultPrevented=!0};var as=function(){if(!qi.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{const e=()=>{};qi.addEventListener("test",e,t),qi.removeEventListener("test",e,t)}catch(f){}return e}();function os(e){return/^[\s\xa0]*$/.test(e)}function ls(){var e=qi.navigator;return e&&(e=e.userAgent)?e:""}function us(e){return-1!=ls().indexOf(e)}function cs(e){return cs[" "](e),e}cs[" "]=function(){};var hs,ds,fs=us("Opera"),ps=us("Trident")||us("MSIE"),ms=us("Edge"),gs=ms||ps,ys=us("Gecko")&&!(-1!=ls().toLowerCase().indexOf("webkit")&&!us("Edge"))&&!(us("Trident")||us("MSIE"))&&!us("Edge"),vs=-1!=ls().toLowerCase().indexOf("webkit")&&!us("Edge");function bs(){var e=qi.document;return e?e.documentMode:void 0}e:{var ws="",_s=function(){var e=ls();return ys?/rv:([^\);]+)(\)|;)/.exec(e):ms?/Edge\/([\d\.]+)/.exec(e):ps?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):vs?/WebKit\/(\S+)/.exec(e):fs?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(_s&&(ws=_s?_s[1]:""),ps){var Es=bs();if(null!=Es&&Es>parseFloat(ws)){hs=String(Es);break e}}hs=ws}if(qi.document&&ps){var ks=bs();ds=ks||(parseInt(hs,10)||void 0)}else ds=void 0;var Ss=ds;function Ts(e,t){if(ss.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(ys){e:{try{cs(t.nodeName);var i=!0;break e}catch(g){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:Is[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&Ts.$.h.call(this)}}es(Ts,ss);var Is={2:"touch",3:"pen",4:"mouse"};Ts.prototype.h=function(){Ts.$.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var Cs="closure_listenable_"+(1e6*Math.random()|0),xs=0;function Ns(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.la=i,this.key=++xs,this.fa=this.ia=!1}function As(e){e.fa=!0,e.listener=null,e.proxy=null,e.src=null,e.la=null}function Ps(e,t,n){for(const r in e)t.call(n,e[r],r,e)}function Os(e){const t={};for(const n in e)t[n]=e[n];return t}const Ds="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Rs(e,t){let n,r;for(let i=1;i<arguments.length;i++){for(n in r=arguments[i],r)e[n]=r[n];for(let t=0;t<Ds.length;t++)n=Ds[t],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function Ls(e){this.src=e,this.g={},this.h=0}function Ms(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],s=ns(i,t);(r=0<=s)&&Array.prototype.splice.call(i,s,1),r&&(As(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function js(e,t,n,r){for(var i=0;i<e.length;++i){var s=e[i];if(!s.fa&&s.listener==t&&s.capture==!!n&&s.la==r)return i}return-1}Ls.prototype.add=function(e,t,n,r,i){var s=e.toString();(e=this.g[s])||(e=this.g[s]=[],this.h++);var a=js(e,t,r,i);return-1<a?(t=e[a],n||(t.ia=!1)):((t=new Ns(t,this.src,s,!!r,i)).ia=n,e.push(t)),t};var Fs="closure_lm_"+(1e6*Math.random()|0),Us={};function Vs(e,t,n,r,i){if(r&&r.once)return zs(e,t,n,r,i);if(Array.isArray(t)){for(var s=0;s<t.length;s++)Vs(e,t[s],n,r,i);return null}return n=Xs(n),e&&e[Cs]?e.O(t,n,Gi(r)?!!r.capture:!!r,i):Bs(e,t,n,!1,r,i)}function Bs(e,t,n,r,i,s){if(!t)throw Error("Invalid event type");var a=Gi(i)?!!i.capture:!!i,o=Gs(e);if(o||(e[Fs]=o=new Ls(e)),(n=o.add(t,n,r,a,s)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}const t=Ws;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)as||(i=a),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(qs(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function zs(e,t,n,r,i){if(Array.isArray(t)){for(var s=0;s<t.length;s++)zs(e,t[s],n,r,i);return null}return n=Xs(n),e&&e[Cs]?e.P(t,n,Gi(r)?!!r.capture:!!r,i):Bs(e,t,n,!0,r,i)}function Ks(e,t,n,r,i){if(Array.isArray(t))for(var s=0;s<t.length;s++)Ks(e,t[s],n,r,i);else r=Gi(r)?!!r.capture:!!r,n=Xs(n),e&&e[Cs]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=js(s=e.g[t],n,r,i))&&(As(s[n]),Array.prototype.splice.call(s,n,1),0==s.length&&(delete e.g[t],e.h--)))):e&&(e=Gs(e))&&(t=e.g[t.toString()],e=-1,t&&(e=js(t,n,r,i)),(n=-1<e?t[e]:null)&&Hs(n))}function Hs(e){if("number"!==typeof e&&e&&!e.fa){var t=e.src;if(t&&t[Cs])Ms(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(qs(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=Gs(t))?(Ms(n,e),0==n.h&&(n.src=null,t[Fs]=null)):As(e)}}}function qs(e){return e in Us?Us[e]:Us[e]="on"+e}function Ws(e,t){if(e.fa)e=!0;else{t=new Ts(t,this);var n=e.listener,r=e.la||e.src;e.ia&&Hs(e),e=n.call(r,t)}return e}function Gs(e){return(e=e[Fs])instanceof Ls?e:null}var Qs="__closure_events_fn_"+(1e9*Math.random()>>>0);function Xs(e){return"function"===typeof e?e:(e[Qs]||(e[Qs]=function(t){return e.handleEvent(t)}),e[Qs])}function Js(){ts.call(this),this.i=new Ls(this),this.S=this,this.J=null}function $s(e,t){var n,r=e.J;if(r)for(n=[];r;r=r.J)n.push(r);if(e=e.S,r=t.type||t,"string"===typeof t)t=new ss(t,e);else if(t instanceof ss)t.target=t.target||e;else{var i=t;Rs(t=new ss(r,e),i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var a=t.g=n[s];i=Ys(a,r,!0,t)&&i}if(i=Ys(a=t.g=e,r,!0,t)&&i,i=Ys(a,r,!1,t)&&i,n)for(s=0;s<n.length;s++)i=Ys(a=t.g=n[s],r,!1,t)&&i}function Ys(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,s=0;s<t.length;++s){var a=t[s];if(a&&!a.fa&&a.capture==n){var o=a.listener,l=a.la||a.src;a.ia&&Ms(e.i,a),i=!1!==o.call(l,r)&&i}}return i&&!r.defaultPrevented}es(Js,ts),Js.prototype[Cs]=!0,Js.prototype.removeEventListener=function(e,t,n,r){Ks(this,e,t,n,r)},Js.prototype.N=function(){if(Js.$.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)As(n[r]);delete t.g[e],t.h--}}this.J=null},Js.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},Js.prototype.P=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var Zs=qi.JSON.stringify;function ea(){var e=oa;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var ta=new class{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}((()=>new na),(e=>e.reset()));class na{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function ra(e){var t=1;e=e.split(":");const n=[];for(;0<t&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function ia(e){qi.setTimeout((()=>{throw e}),0)}let sa,aa=!1,oa=new class{constructor(){this.h=this.g=null}add(e,t){const n=ta.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}},la=()=>{const e=qi.Promise.resolve(void 0);sa=()=>{e.then(ua)}};var ua=()=>{for(var e;e=ea();){try{e.h.call(e.g)}catch(f){ia(f)}var t=ta;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}aa=!1};function ca(e,t){Js.call(this),this.h=e||1,this.g=t||qi,this.j=Yi(this.qb,this),this.l=Date.now()}function ha(e){e.ga=!1,e.T&&(e.g.clearTimeout(e.T),e.T=null)}function da(e,t,n){if("function"===typeof e)n&&(e=Yi(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=Yi(e.handleEvent,e)}return 2147483647<Number(t)?-1:qi.setTimeout(e,t||0)}function fa(e){e.g=da((()=>{e.g=null,e.i&&(e.i=!1,fa(e))}),e.j);const t=e.h;e.h=null,e.m.apply(null,t)}es(ca,Js),(Bi=ca.prototype).ga=!1,Bi.T=null,Bi.qb=function(){if(this.ga){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-e):(this.T&&(this.g.clearTimeout(this.T),this.T=null),$s(this,"tick"),this.ga&&(ha(this),this.start()))}},Bi.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Bi.N=function(){ca.$.N.call(this),ha(this),delete this.g};class pa extends ts{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:fa(this)}N(){super.N(),this.g&&(qi.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ma(e){ts.call(this),this.h=e,this.g={}}es(ma,ts);var ga=[];function ya(e,t,n,r){Array.isArray(n)||(n&&(ga[0]=n.toString()),n=ga);for(var i=0;i<n.length;i++){var s=Vs(t,n[i],r||e.handleEvent,!1,e.h||e);if(!s)break;e.g[s.key]=s}}function va(e){Ps(e.g,(function(e,t){this.g.hasOwnProperty(t)&&Hs(e)}),e),e.g={}}function ba(){this.g=!0}function wa(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var a=i[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var o=1;o<i.length;o++)i[o]=""}}}return Zs(n)}catch(s){return t}}(e,n)+(r?" "+r:"")}))}ma.prototype.N=function(){ma.$.N.call(this),va(this)},ma.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},ba.prototype.Ea=function(){this.g=!1},ba.prototype.info=function(){};var _a={},Ea=null;function ka(){return Ea=Ea||new Js}function Sa(e){ss.call(this,_a.Ta,e)}function Ta(e){const t=ka();$s(t,new Sa(t))}function Ia(e,t){ss.call(this,_a.STAT_EVENT,e),this.stat=t}function Ca(e){const t=ka();$s(t,new Ia(t,e))}function xa(e,t){ss.call(this,_a.Ua,e),this.size=t}function Na(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return qi.setTimeout((function(){e()}),t)}_a.Ta="serverreachability",es(Sa,ss),_a.STAT_EVENT="statevent",es(Ia,ss),_a.Ua="timingevent",es(xa,ss);var Aa={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},Pa={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function Oa(){}function Da(e){return e.h||(e.h=e.i())}function Ra(){}Oa.prototype.h=null;var La,Ma={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function ja(){ss.call(this,"d")}function Fa(){ss.call(this,"c")}function Ua(){}function Va(e,t,n,r){this.l=e,this.j=t,this.m=n,this.W=r||1,this.U=new ma(this),this.P=za,e=gs?125:void 0,this.V=new ca(e),this.I=null,this.i=!1,this.u=this.B=this.A=this.L=this.G=this.Y=this.C=null,this.F=[],this.g=null,this.o=0,this.s=this.v=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new Ba}function Ba(){this.i=null,this.g="",this.h=!1}es(ja,ss),es(Fa,ss),es(Ua,Oa),Ua.prototype.g=function(){return new XMLHttpRequest},Ua.prototype.i=function(){return{}},La=new Ua;var za=45e3,Ka={},Ha={};function qa(e,t,n){e.L=1,e.A=co(so(t)),e.u=n,e.S=!0,Wa(e,null)}function Wa(e,t){e.G=Date.now(),Ja(e),e.B=so(e.A);var n=e.B,r=e.W;Array.isArray(r)||(r=[String(r)]),So(n.i,"t",r),e.o=0,n=e.l.J,e.h=new Ba,e.g=Sl(e.l,n?t:null,!e.u),0<e.O&&(e.M=new pa(Yi(e.Pa,e,e.g),e.O)),ya(e.U,e.g,"readystatechange",e.nb),t=e.I?Os(e.I):{},e.u?(e.v||(e.v="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ha(e.B,e.v,e.u,t)):(e.v="GET",e.g.ha(e.B,e.v,null,t)),Ta(),function(e,t,n,r,i,s){e.info((function(){if(e.g)if(s)for(var a="",o=s.split("&"),l=0;l<o.length;l++){var u=o[l].split("=");if(1<u.length){var c=u[0];u=u[1];var h=c.split("_");a=2<=h.length&&"type"==h[1]?a+(c+"=")+u+"&":a+(c+"=redacted&")}}else a=null;else a=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+a}))}(e.j,e.v,e.B,e.m,e.W,e.u)}function Ga(e){return!!e.g&&("GET"==e.v&&2!=e.L&&e.l.Ha)}function Qa(e,t,n){let r,i=!0;for(;!e.J&&e.o<n.length;){if(r=Xa(e,n),r==Ha){4==t&&(e.s=4,Ca(14),i=!1),wa(e.j,e.m,null,"[Incomplete Response]");break}if(r==Ka){e.s=4,Ca(15),wa(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}wa(e.j,e.m,r,null),to(e,r)}Ga(e)&&0!=e.o&&(e.h.g=e.h.g.slice(e.o),e.o=0),4!=t||0!=n.length||e.h.h||(e.s=1,Ca(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.ba&&(e.ba=!0,(t=e.l).g==e&&t.ca&&!t.M&&(t.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),gl(t),t.M=!0,Ca(11))):(wa(e.j,e.m,n,"[Invalid Chunked Response]"),eo(e),Za(e))}function Xa(e,t){var n=e.o,r=t.indexOf("\n",n);return-1==r?Ha:(n=Number(t.substring(n,r)),isNaN(n)?Ka:(r+=1)+n>t.length?Ha:(t=t.slice(r,r+n),e.o=r+n,t))}function Ja(e){e.Y=Date.now()+e.P,$a(e,e.P)}function $a(e,t){if(null!=e.C)throw Error("WatchDog timer not null");e.C=Na(Yi(e.lb,e),t)}function Ya(e){e.C&&(qi.clearTimeout(e.C),e.C=null)}function Za(e){0==e.l.H||e.J||bl(e.l,e)}function eo(e){Ya(e);var t=e.M;t&&"function"==typeof t.sa&&t.sa(),e.M=null,ha(e.V),va(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.sa())}function to(e,t){try{var n=e.l;if(0!=n.H&&(n.g==e||Po(n.i,e)))if(!e.K&&Po(n.i,e)&&3==n.H){try{var r=n.Ja.g.parse(t)}catch(b){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.G+3e3<e.G))break e;vl(n),ll(n)}ml(n),Ca(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&0==n.A&&!n.v&&(n.v=Na(Yi(n.ib,n),6e3));if(1>=Ao(n.i)&&n.oa){try{n.oa()}catch(b){}n.oa=void 0}}else _l(n,11)}else if((e.K||n.g==e)&&vl(n),!os(t))for(i=n.Ja.g.parse(t),t=0;t<i.length;t++){let u=i[t];if(n.V=u[0],u=u[1],2==n.H)if("c"==u[0]){n.K=u[1],n.pa=u[2];const t=u[3];null!=t&&(n.ra=t,n.l.info("VER="+n.ra));const i=u[4];null!=i&&(n.Ga=i,n.l.info("SVER="+n.Ga));const c=u[5];null!=c&&"number"===typeof c&&0<c&&(r=1.5*c,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const h=e.g;if(h){const e=h.g?h.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(e){var s=r.i;s.g||-1==e.indexOf("spdy")&&-1==e.indexOf("quic")&&-1==e.indexOf("h2")||(s.j=s.l,s.g=new Set,s.h&&(Oo(s,s.h),s.h=null))}if(r.F){const e=h.g?h.g.getResponseHeader("X-HTTP-Session-Id"):null;e&&(r.Da=e,uo(r.I,r.F,e))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-e.G,n.l.info("Handshake RTT: "+n.S+"ms"));var a=e;if((r=n).wa=kl(r,r.J?r.pa:null,r.Y),a.K){Do(r.i,a);var o=a,l=r.L;l&&o.setTimeout(l),o.C&&(Ya(o),Ja(o)),r.g=a}else pl(r);0<n.j.length&&cl(n)}else"stop"!=u[0]&&"close"!=u[0]||_l(n,7);else 3==n.H&&("stop"==u[0]||"close"==u[0]?"stop"==u[0]?_l(n,7):ol(n):"noop"!=u[0]&&n.h&&n.h.Aa(u),n.A=0)}Ta()}catch(b){}}function no(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(Wi(e)||"string"===typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var n=function(e){if(e.ta&&"function"==typeof e.ta)return e.ta();if(!e.Z||"function"!=typeof e.Z){if("undefined"!==typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!==typeof Set&&e instanceof Set)){if(Wi(e)||"string"===typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}t=[],n=0;for(const r in e)t[n++]=r;return t}}}(e),r=function(e){if(e.Z&&"function"==typeof e.Z)return e.Z();if("undefined"!==typeof Map&&e instanceof Map||"undefined"!==typeof Set&&e instanceof Set)return Array.from(e.values());if("string"===typeof e)return e.split("");if(Wi(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length,s=0;s<i;s++)t.call(void 0,r[s],n&&n[s],e)}(Bi=Va.prototype).setTimeout=function(e){this.P=e},Bi.nb=function(e){e=e.target;const t=this.M;t&&3==tl(e)?t.l():this.Pa(e)},Bi.Pa=function(e){try{if(e==this.g)e:{const c=tl(this.g);var t=this.g.Ia();this.g.da();if(!(3>c)&&(3!=c||gs||this.g&&(this.h.h||this.g.ja()||nl(this.g)))){this.J||4!=c||7==t||Ta(),Ya(this);var n=this.g.da();this.ca=n;t:if(Ga(this)){var r=nl(this.g);e="";var i=r.length,s=4==tl(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){eo(this),Za(this);var a="";break t}this.h.i=new qi.TextDecoder}for(t=0;t<i;t++)this.h.h=!0,e+=this.h.i.decode(r[t],{stream:s&&t==i-1});r.length=0,this.h.g+=e,this.o=0,a=this.h.g}else a=this.g.ja();if(this.i=200==n,function(e,t,n,r,i,s,a){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+s+" "+a}))}(this.j,this.v,this.B,this.m,this.W,c,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var o,l=this.g;if((o=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!os(o)){var u=o;break t}}u=null}if(!(n=u)){this.i=!1,this.s=3,Ca(12),eo(this),Za(this);break e}wa(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,to(this,n)}this.S?(Qa(this,c,a),gs&&this.i&&3==c&&(ya(this.U,this.V,"tick",this.mb),this.V.start())):(wa(this.j,this.m,a,null),to(this,a)),4==c&&eo(this),this.i&&!this.J&&(4==c?bl(this.l,this):(this.i=!1,Ja(this)))}else(function(e){const t={};e=(e.g&&2<=tl(e)&&e.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<e.length;r++){if(os(e[r]))continue;var n=ra(e[r]);const i=n[0];if("string"!==typeof(n=n[1]))continue;n=n.trim();const s=t[i]||[];t[i]=s,s.push(n)}!function(e,t){for(const n in e)t.call(void 0,e[n],n,e)}(t,(function(e){return e.join(", ")}))})(this.g),400==n&&0<a.indexOf("Unknown SID")?(this.s=3,Ca(12)):(this.s=0,Ca(13)),eo(this),Za(this)}}}catch(h){}},Bi.mb=function(){if(this.g){var e=tl(this.g),t=this.g.ja();this.o<t.length&&(Ya(this),Qa(this,e,t),this.i&&4!=e&&Ja(this))}},Bi.cancel=function(){this.J=!0,eo(this)},Bi.lb=function(){this.C=null;const e=Date.now();0<=e-this.Y?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.j,this.B),2!=this.L&&(Ta(),Ca(17)),eo(this),this.s=2,Za(this)):$a(this,this.Y-e)};var ro=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function io(e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,e instanceof io){this.h=e.h,ao(this,e.j),this.s=e.s,this.g=e.g,oo(this,e.m),this.l=e.l;var t=e.i,n=new wo;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),lo(this,n),this.o=e.o}else e&&(t=String(e).match(ro))?(this.h=!1,ao(this,t[1]||"",!0),this.s=ho(t[2]||""),this.g=ho(t[3]||"",!0),oo(this,t[4]),this.l=ho(t[5]||"",!0),lo(this,t[6]||"",!0),this.o=ho(t[7]||"")):(this.h=!1,this.i=new wo(null,this.h))}function so(e){return new io(e)}function ao(e,t,n){e.j=n?ho(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function oo(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function lo(e,t,n){t instanceof wo?(e.i=t,function(e,t){t&&!e.j&&(_o(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(Eo(this,t),So(this,n,e))}),e)),e.j=t}(e.i,e.h)):(n||(t=fo(t,vo)),e.i=new wo(t,e.h))}function uo(e,t,n){e.i.set(t,n)}function co(e){return uo(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function ho(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function fo(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,po),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function po(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}io.prototype.toString=function(){var e=[],t=this.j;t&&e.push(fo(t,mo,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(fo(t,mo,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(fo(n,"/"==n.charAt(0)?yo:go,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.o)&&e.push("#",fo(n,bo)),e.join("")};var mo=/[#\/\?@]/g,go=/[#\?:]/g,yo=/[#\?]/g,vo=/[#\?@]/g,bo=/#/g;function wo(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function _o(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var s=e[n].substring(0,r);i=e[n].substring(r+1)}else s=e[n];t(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function Eo(e,t){_o(e),t=To(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function ko(e,t){return _o(e),t=To(e,t),e.g.has(t)}function So(e,t,n){Eo(e,t),0<n.length&&(e.i=null,e.g.set(To(e,t),rs(n)),e.h+=n.length)}function To(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(Bi=wo.prototype).add=function(e,t){_o(this),this.i=null,e=To(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},Bi.forEach=function(e,t){_o(this),this.g.forEach((function(n,r){n.forEach((function(n){e.call(t,n,r,this)}),this)}),this)},Bi.ta=function(){_o(this);const e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[];for(let r=0;r<t.length;r++){const i=e[r];for(let e=0;e<i.length;e++)n.push(t[r])}return n},Bi.Z=function(e){_o(this);let t=[];if("string"===typeof e)ko(this,e)&&(t=t.concat(this.g.get(To(this,e))));else{e=Array.from(this.g.values());for(let n=0;n<e.length;n++)t=t.concat(e[n])}return t},Bi.set=function(e,t){return _o(this),this.i=null,ko(this,e=To(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},Bi.get=function(e,t){return e&&0<(e=this.Z(e)).length?String(e[0]):t},Bi.toString=function(){if(this.i)return this.i;if(!this.g)return"";const e=[],t=Array.from(this.g.keys());for(var n=0;n<t.length;n++){var r=t[n];const s=encodeURIComponent(String(r)),a=this.Z(r);for(r=0;r<a.length;r++){var i=s;""!==a[r]&&(i+="="+encodeURIComponent(String(a[r]))),e.push(i)}}return this.i=e.join("&")};var Io=class{constructor(e,t){this.g=e,this.map=t}};function Co(e){this.l=e||xo,qi.PerformanceNavigationTiming?e=0<(e=qi.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(qi.g&&qi.g.Ka&&qi.g.Ka()&&qi.g.Ka().dc),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var xo=10;function No(e){return!!e.h||!!e.g&&e.g.size>=e.j}function Ao(e){return e.h?1:e.g?e.g.size:0}function Po(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function Oo(e,t){e.g?e.g.add(t):e.h=t}function Do(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function Ro(e){if(null!=e.h)return e.i.concat(e.h.F);if(null!=e.g&&0!==e.g.size){let t=e.i;for(const n of e.g.values())t=t.concat(n.F);return t}return rs(e.i)}Co.prototype.cancel=function(){if(this.i=Ro(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const e of this.g.values())e.cancel();this.g.clear()}};var Lo=class{stringify(e){return qi.JSON.stringify(e,void 0)}parse(e){return qi.JSON.parse(e,void 0)}};function Mo(){this.g=new Lo}function jo(e,t,n){const i=n||"";try{no(e,(function(e,n){let r=e;Gi(e)&&(r=Zs(e)),t.push(i+n+"="+encodeURIComponent(r))}))}catch(r){throw t.push(i+"type="+encodeURIComponent("_badmap")),r}}function Fo(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(g){}}function Uo(e){this.l=e.ec||null,this.j=e.ob||!1}function Vo(e,t){Js.call(this),this.F=e,this.u=t,this.m=void 0,this.readyState=Bo,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}es(Uo,Oa),Uo.prototype.g=function(){return new Vo(this.l,this.j)},Uo.prototype.i=function(e){return function(){return e}}({}),es(Vo,Js);var Bo=0;function zo(e){e.j.read().then(e.Xa.bind(e)).catch(e.ka.bind(e))}function Ko(e){e.readyState=4,e.l=null,e.j=null,e.A=null,Ho(e)}function Ho(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(Bi=Vo.prototype).open=function(e,t){if(this.readyState!=Bo)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,Ho(this)},Bi.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.F||qi).fetch(new Request(this.B,t)).then(this.$a.bind(this),this.ka.bind(this))},Bi.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch((()=>{})),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Ko(this)),this.readyState=Bo},Bi.$a=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Ho(this)),this.g&&(this.readyState=3,Ho(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if("undefined"!==typeof qi.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;zo(this)}else e.text().then(this.Za.bind(this),this.ka.bind(this))},Bi.Xa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Ko(this):Ho(this),3==this.readyState&&zo(this)}},Bi.Za=function(e){this.g&&(this.response=this.responseText=e,Ko(this))},Bi.Ya=function(e){this.g&&(this.response=e,Ko(this))},Bi.ka=function(){this.g&&Ko(this)},Bi.setRequestHeader=function(e,t){this.v.append(e,t)},Bi.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},Bi.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(Vo.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var qo=qi.JSON.parse;function Wo(e){Js.call(this),this.headers=new Map,this.u=e||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=Go,this.L=this.M=!1}es(Wo,Js);var Go="",Qo=/^https?$/i,Xo=["POST","PUT"];function Jo(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,$o(e),Zo(e)}function $o(e){e.F||(e.F=!0,$s(e,"complete"),$s(e,"error"))}function Yo(e){if(e.h&&"undefined"!=typeof Hi&&(!e.C[1]||4!=tl(e)||2!=e.da()))if(e.v&&4==tl(e))da(e.La,0,e);else if($s(e,"readystatechange"),4==tl(e)){e.h=!1;try{const o=e.da();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var n;if(!(n=t)){var r;if(r=0===o){var i=String(e.I).match(ro)[1]||null;!i&&qi.self&&qi.self.location&&(i=qi.self.location.protocol.slice(0,-1)),r=!Qo.test(i?i.toLowerCase():"")}n=r}if(n)$s(e,"complete"),$s(e,"success");else{e.m=6;try{var a=2<tl(e)?e.g.statusText:""}catch(s){a=""}e.j=a+" ["+e.da()+"]",$o(e)}}finally{Zo(e)}}}function Zo(e,t){if(e.g){el(e);const n=e.g,i=e.C[0]?()=>{}:null;e.g=null,e.C=null,t||$s(e,"ready");try{n.onreadystatechange=i}catch(r){}}}function el(e){e.g&&e.L&&(e.g.ontimeout=null),e.A&&(qi.clearTimeout(e.A),e.A=null)}function tl(e){return e.g?e.g.readyState:0}function nl(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.K){case Go:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(E){return null}}function rl(e){let t="";return Ps(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}function il(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=rl(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):uo(e,t,n))}function sl(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function al(e){this.Ga=0,this.j=[],this.l=new ba,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=sl("failFast",!1,e),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=sl("baseRetryDelayMs",5e3,e),this.hb=sl("retryDelaySeedMs",1e4,e),this.eb=sl("forwardChannelMaxRetries",2,e),this.xa=sl("forwardChannelRequestTimeoutMs",2e4,e),this.va=e&&e.xmlHttpFactory||void 0,this.Ha=e&&e.useFetchStreams||!1,this.L=void 0,this.J=e&&e.supportsCrossDomainXhr||!1,this.K="",this.i=new Co(e&&e.concurrentRequestLimit),this.Ja=new Mo,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=e&&e.bc||!1,e&&e.Ea&&this.l.Ea(),e&&e.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&e&&e.detectBufferingProxy||!1,this.qa=void 0,e&&e.longPollingTimeout&&0<e.longPollingTimeout&&(this.qa=e.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function ol(e){if(ul(e),3==e.H){var t=e.W++,n=so(e.I);if(uo(n,"SID",e.K),uo(n,"RID",t),uo(n,"TYPE","terminate"),dl(e,n),(t=new Va(e,e.l,t)).L=2,t.A=co(so(n)),n=!1,qi.navigator&&qi.navigator.sendBeacon)try{n=qi.navigator.sendBeacon(t.A.toString(),"")}catch(m){}!n&&qi.Image&&((new Image).src=t.A,n=!0),n||(t.g=Sl(t.l,null),t.g.ha(t.A)),t.G=Date.now(),Ja(t)}El(e)}function ll(e){e.g&&(gl(e),e.g.cancel(),e.g=null)}function ul(e){ll(e),e.u&&(qi.clearTimeout(e.u),e.u=null),vl(e),e.i.cancel(),e.m&&("number"===typeof e.m&&qi.clearTimeout(e.m),e.m=null)}function cl(e){if(!No(e.i)&&!e.m){e.m=!0;var t=e.Na;sa||la(),aa||(sa(),aa=!0),oa.add(t,e),e.C=0}}function hl(e,t){var n;n=t?t.m:e.W++;const r=so(e.I);uo(r,"SID",e.K),uo(r,"RID",n),uo(r,"AID",e.V),dl(e,r),e.o&&e.s&&il(r,e.o,e.s),n=new Va(e,e.l,n,e.C+1),null===e.o&&(n.I=e.s),t&&(e.j=t.F.concat(e.j)),t=fl(e,n,1e3),n.setTimeout(Math.round(.5*e.xa)+Math.round(.5*e.xa*Math.random())),Oo(e.i,n),qa(n,r,t)}function dl(e,t){e.na&&Ps(e.na,(function(e,n){uo(t,n,e)})),e.h&&no({},(function(e,n){uo(t,n,e)}))}function fl(e,t,n){n=Math.min(e.j.length,n);var r=e.h?Yi(e.h.Va,e.h,e):null;e:{var i=e.j;let t=-1;for(;;){const e=["count="+n];-1==t?0<n?(t=i[0].g,e.push("ofs="+t)):t=0:e.push("ofs="+t);let s=!0;for(let a=0;a<n;a++){let n=i[a].g;const o=i[a].map;if(n-=t,0>n)t=Math.max(0,i[a].g-100),s=!1;else try{jo(o,e,"req"+n+"_")}catch(W){r&&r(o)}}if(s){r=e.join("&");break e}}}return e=e.j.splice(0,n),t.F=e,r}function pl(e){if(!e.g&&!e.u){e.ba=1;var t=e.Ma;sa||la(),aa||(sa(),aa=!0),oa.add(t,e),e.A=0}}function ml(e){return!(e.g||e.u||3<=e.A)&&(e.ba++,e.u=Na(Yi(e.Ma,e),wl(e,e.A)),e.A++,!0)}function gl(e){null!=e.B&&(qi.clearTimeout(e.B),e.B=null)}function yl(e){e.g=new Va(e,e.l,"rpc",e.ba),null===e.o&&(e.g.I=e.s),e.g.O=0;var t=so(e.wa);uo(t,"RID","rpc"),uo(t,"SID",e.K),uo(t,"AID",e.V),uo(t,"CI",e.G?"0":"1"),!e.G&&e.qa&&uo(t,"TO",e.qa),uo(t,"TYPE","xmlhttp"),dl(e,t),e.o&&e.s&&il(t,e.o,e.s),e.L&&e.g.setTimeout(e.L);var n=e.g;e=e.pa,n.L=1,n.A=co(so(t)),n.u=null,n.S=!0,Wa(n,e)}function vl(e){null!=e.v&&(qi.clearTimeout(e.v),e.v=null)}function bl(e,t){var n=null;if(e.g==t){vl(e),gl(e),e.g=null;var r=2}else{if(!Po(e.i,t))return;n=t.F,Do(e.i,t),r=1}if(0!=e.H)if(t.i)if(1==r){n=t.u?t.u.length:0,t=Date.now()-t.G;var i=e.C;$s(r=ka(),new xa(r,n)),cl(e)}else pl(e);else if(3==(i=t.s)||0==i&&0<t.ca||!(1==r&&function(e,t){return!(Ao(e.i)>=e.i.j-(e.m?1:0))&&(e.m?(e.j=t.F.concat(e.j),!0):!(1==e.H||2==e.H||e.C>=(e.cb?0:e.eb))&&(e.m=Na(Yi(e.Na,e,t),wl(e,e.C)),e.C++,!0))}(e,t)||2==r&&ml(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:_l(e,5);break;case 4:_l(e,10);break;case 3:_l(e,6);break;default:_l(e,2)}}function wl(e,t){let n=e.ab+Math.floor(Math.random()*e.hb);return e.isActive()||(n*=2),n*t}function _l(e,t){if(e.l.info("Error code "+t),2==t){var n=null;e.h&&(n=null);var r=Yi(e.pb,e);n||(n=new io("//www.google.com/images/cleardot.gif"),qi.location&&"http"==qi.location.protocol||ao(n,"https"),co(n)),function(e,t){const n=new ba;if(qi.Image){const r=new Image;r.onload=Zi(Fo,n,r,"TestLoadImage: loaded",!0,t),r.onerror=Zi(Fo,n,r,"TestLoadImage: error",!1,t),r.onabort=Zi(Fo,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=Zi(Fo,n,r,"TestLoadImage: timeout",!1,t),qi.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else Ca(2);e.H=0,e.h&&e.h.za(t),El(e),ul(e)}function El(e){if(e.H=0,e.ma=[],e.h){const t=Ro(e.i);0==t.length&&0==e.j.length||(is(e.ma,t),is(e.ma,e.j),e.i.i.length=0,rs(e.j),e.j.length=0),e.h.ya()}}function kl(e,t,n){var r=n instanceof io?so(n):new io(n);if(""!=r.g)t&&(r.g=t+"."+r.g),oo(r,r.m);else{var i=qi.location;r=i.protocol,t=t?t+"."+i.hostname:i.hostname,i=+i.port;var s=new io(null);r&&ao(s,r),t&&(s.g=t),i&&oo(s,i),n&&(s.l=n),r=s}return n=e.F,t=e.Da,n&&t&&uo(r,n,t),uo(r,"VER",e.ra),dl(e,r),r}function Sl(e,t,n){if(t&&!e.J)throw Error("Can't create secondary domain capable XhrIo object.");return(t=e.Ha&&!e.va?new Wo(new Uo({ob:n})):new Wo(e.va)).Oa(e.J),t}function Tl(){}function Il(){if(ps&&!(10<=Number(Ss)))throw Error("Environmental error: no available transport.")}function Cl(e,t){Js.call(this),this.g=new al(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.Ca&&(e?e["X-WebChannel-Client-Profile"]=t.Ca:e={"X-WebChannel-Client-Profile":t.Ca}),this.g.U=e,(e=t&&t.cc)&&!os(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!os(t)&&(this.g.F=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new Al(this)}function xl(e){ja.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(const n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function Nl(){Fa.call(this),this.status=1}function Al(e){this.g=e}function Pl(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function Ol(e,t,n){n||(n=0);var r=Array(16);if("string"===typeof t)for(var i=0;16>i;++i)r[i]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],i=e.g[2];var s=e.g[3],a=t+(s^n&(i^s))+r[0]+3614090360&4294967295;a=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=n+(a<<7&4294967295|a>>>25))+((a=s+(i^t&(n^i))+r[1]+3905402710&4294967295)<<12&4294967295|a>>>20))+((a=i+(n^s&(t^n))+r[2]+606105819&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^i&(s^t))+r[3]+3250441966&4294967295)<<22&4294967295|a>>>10))+((a=t+(s^n&(i^s))+r[4]+4118548399&4294967295)<<7&4294967295|a>>>25))+((a=s+(i^t&(n^i))+r[5]+1200080426&4294967295)<<12&4294967295|a>>>20))+((a=i+(n^s&(t^n))+r[6]+2821735955&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^i&(s^t))+r[7]+4249261313&4294967295)<<22&4294967295|a>>>10))+((a=t+(s^n&(i^s))+r[8]+1770035416&4294967295)<<7&4294967295|a>>>25))+((a=s+(i^t&(n^i))+r[9]+2336552879&4294967295)<<12&4294967295|a>>>20))+((a=i+(n^s&(t^n))+r[10]+4294925233&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^i&(s^t))+r[11]+2304563134&4294967295)<<22&4294967295|a>>>10))+((a=t+(s^n&(i^s))+r[12]+1804603682&4294967295)<<7&4294967295|a>>>25))+((a=s+(i^t&(n^i))+r[13]+4254626195&4294967295)<<12&4294967295|a>>>20))+((a=i+(n^s&(t^n))+r[14]+2792965006&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^i&(s^t))+r[15]+1236535329&4294967295)<<22&4294967295|a>>>10))+((a=t+(i^s&(n^i))+r[1]+4129170786&4294967295)<<5&4294967295|a>>>27))+((a=s+(n^i&(t^n))+r[6]+3225465664&4294967295)<<9&4294967295|a>>>23))+((a=i+(t^n&(s^t))+r[11]+643717713&4294967295)<<14&4294967295|a>>>18))+((a=n+(s^t&(i^s))+r[0]+3921069994&4294967295)<<20&4294967295|a>>>12))+((a=t+(i^s&(n^i))+r[5]+3593408605&4294967295)<<5&4294967295|a>>>27))+((a=s+(n^i&(t^n))+r[10]+38016083&4294967295)<<9&4294967295|a>>>23))+((a=i+(t^n&(s^t))+r[15]+3634488961&4294967295)<<14&4294967295|a>>>18))+((a=n+(s^t&(i^s))+r[4]+3889429448&4294967295)<<20&4294967295|a>>>12))+((a=t+(i^s&(n^i))+r[9]+568446438&4294967295)<<5&4294967295|a>>>27))+((a=s+(n^i&(t^n))+r[14]+3275163606&4294967295)<<9&4294967295|a>>>23))+((a=i+(t^n&(s^t))+r[3]+4107603335&4294967295)<<14&4294967295|a>>>18))+((a=n+(s^t&(i^s))+r[8]+1163531501&4294967295)<<20&4294967295|a>>>12))+((a=t+(i^s&(n^i))+r[13]+2850285829&4294967295)<<5&4294967295|a>>>27))+((a=s+(n^i&(t^n))+r[2]+4243563512&4294967295)<<9&4294967295|a>>>23))+((a=i+(t^n&(s^t))+r[7]+1735328473&4294967295)<<14&4294967295|a>>>18))+((a=n+(s^t&(i^s))+r[12]+2368359562&4294967295)<<20&4294967295|a>>>12))+((a=t+(n^i^s)+r[5]+4294588738&4294967295)<<4&4294967295|a>>>28))+((a=s+(t^n^i)+r[8]+2272392833&4294967295)<<11&4294967295|a>>>21))+((a=i+(s^t^n)+r[11]+1839030562&4294967295)<<16&4294967295|a>>>16))+((a=n+(i^s^t)+r[14]+4259657740&4294967295)<<23&4294967295|a>>>9))+((a=t+(n^i^s)+r[1]+2763975236&4294967295)<<4&4294967295|a>>>28))+((a=s+(t^n^i)+r[4]+1272893353&4294967295)<<11&4294967295|a>>>21))+((a=i+(s^t^n)+r[7]+4139469664&4294967295)<<16&4294967295|a>>>16))+((a=n+(i^s^t)+r[10]+3200236656&4294967295)<<23&4294967295|a>>>9))+((a=t+(n^i^s)+r[13]+681279174&4294967295)<<4&4294967295|a>>>28))+((a=s+(t^n^i)+r[0]+3936430074&4294967295)<<11&4294967295|a>>>21))+((a=i+(s^t^n)+r[3]+3572445317&4294967295)<<16&4294967295|a>>>16))+((a=n+(i^s^t)+r[6]+76029189&4294967295)<<23&4294967295|a>>>9))+((a=t+(n^i^s)+r[9]+3654602809&4294967295)<<4&4294967295|a>>>28))+((a=s+(t^n^i)+r[12]+3873151461&4294967295)<<11&4294967295|a>>>21))+((a=i+(s^t^n)+r[15]+530742520&4294967295)<<16&4294967295|a>>>16))+((a=n+(i^s^t)+r[2]+3299628645&4294967295)<<23&4294967295|a>>>9))+((a=t+(i^(n|~s))+r[0]+4096336452&4294967295)<<6&4294967295|a>>>26))+((a=s+(n^(t|~i))+r[7]+1126891415&4294967295)<<10&4294967295|a>>>22))+((a=i+(t^(s|~n))+r[14]+2878612391&4294967295)<<15&4294967295|a>>>17))+((a=n+(s^(i|~t))+r[5]+4237533241&4294967295)<<21&4294967295|a>>>11))+((a=t+(i^(n|~s))+r[12]+1700485571&4294967295)<<6&4294967295|a>>>26))+((a=s+(n^(t|~i))+r[3]+2399980690&4294967295)<<10&4294967295|a>>>22))+((a=i+(t^(s|~n))+r[10]+4293915773&4294967295)<<15&4294967295|a>>>17))+((a=n+(s^(i|~t))+r[1]+2240044497&4294967295)<<21&4294967295|a>>>11))+((a=t+(i^(n|~s))+r[8]+1873313359&4294967295)<<6&4294967295|a>>>26))+((a=s+(n^(t|~i))+r[15]+4264355552&4294967295)<<10&4294967295|a>>>22))+((a=i+(t^(s|~n))+r[6]+2734768916&4294967295)<<15&4294967295|a>>>17))+((a=n+(s^(i|~t))+r[13]+1309151649&4294967295)<<21&4294967295|a>>>11))+((s=(t=n+((a=t+(i^(n|~s))+r[4]+4149444226&4294967295)<<6&4294967295|a>>>26))+((a=s+(n^(t|~i))+r[11]+3174756917&4294967295)<<10&4294967295|a>>>22))^((i=s+((a=i+(t^(s|~n))+r[2]+718787259&4294967295)<<15&4294967295|a>>>17))|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(i+(a<<21&4294967295|a>>>11))&4294967295,e.g[2]=e.g[2]+i&4294967295,e.g[3]=e.g[3]+s&4294967295}function Dl(e,t){this.h=t;for(var n=[],r=!0,i=e.length-1;0<=i;i--){var s=0|e[i];r&&s==t||(n[i]=s,r=!1)}this.g=n}(Bi=Wo.prototype).Oa=function(e){this.M=e},Bi.ha=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+e);t=t?t.toUpperCase():"GET",this.I=e,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():La.g(),this.C=this.u?Da(this.u):Da(La),this.g.onreadystatechange=Yi(this.La,this);try{this.G=!0,this.g.open(t,String(e),!0),this.G=!1}catch(g){return void Jo(this,g)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!==typeof r.keys||"function"!==typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const e of r.keys())n.set(e,r.get(e))}r=Array.from(n.keys()).find((e=>"content-type"==e.toLowerCase())),i=qi.FormData&&e instanceof qi.FormData,!(0<=ns(Xo,t))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,a]of n)this.g.setRequestHeader(s,a);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{el(this),0<this.B&&((this.L=function(e){return ps&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Yi(this.ua,this)):this.A=da(this.ua,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(g){Jo(this,g)}},Bi.ua=function(){"undefined"!=typeof Hi&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,$s(this,"timeout"),this.abort(8))},Bi.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,$s(this,"complete"),$s(this,"abort"),Zo(this))},Bi.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Zo(this,!0)),Wo.$.N.call(this)},Bi.La=function(){this.s||(this.G||this.v||this.l?Yo(this):this.kb())},Bi.kb=function(){Yo(this)},Bi.isActive=function(){return!!this.g},Bi.da=function(){try{return 2<tl(this)?this.g.status:-1}catch(c){return-1}},Bi.ja=function(){try{return this.g?this.g.responseText:""}catch(c){return""}},Bi.Wa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),qo(t)}},Bi.Ia=function(){return this.m},Bi.Sa=function(){return"string"===typeof this.j?this.j:String(this.j)},(Bi=al.prototype).ra=8,Bi.H=1,Bi.Na=function(e){if(this.m)if(this.m=null,1==this.H){if(!e){this.W=Math.floor(1e5*Math.random()),e=this.W++;const i=new Va(this,this.l,e);let s=this.s;if(this.U&&(s?(s=Os(s),Rs(s,this.U)):s=this.U),null!==this.o||this.O||(i.I=s,s=null),this.P)e:{for(var t=0,n=0;n<this.j.length;n++){var r=this.j[n];if(void 0===(r="__data__"in r.map&&"string"===typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(t+=r)){t=n;break e}if(4096===t||n===this.j.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=fl(this,i,t),uo(n=so(this.I),"RID",e),uo(n,"CVER",22),this.F&&uo(n,"X-HTTP-Session-Id",this.F),dl(this,n),s&&(this.O?t="headers="+encodeURIComponent(String(rl(s)))+"&"+t:this.o&&il(n,this.o,s)),Oo(this.i,i),this.bb&&uo(n,"TYPE","init"),this.P?(uo(n,"$req",t),uo(n,"SID","null"),i.aa=!0,qa(i,n,null)):qa(i,n,t),this.H=2}}else 3==this.H&&(e?hl(this,e):0==this.j.length||No(this.i)||hl(this))},Bi.Ma=function(){if(this.u=null,yl(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var e=2*this.S;this.l.info("BP detection timer enabled: "+e),this.B=Na(Yi(this.jb,this),e)}},Bi.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Ca(10),ll(this),yl(this))},Bi.ib=function(){null!=this.v&&(this.v=null,ll(this),ml(this),Ca(19))},Bi.pb=function(e){e?(this.l.info("Successfully pinged google.com"),Ca(2)):(this.l.info("Failed to ping google.com"),Ca(1))},Bi.isActive=function(){return!!this.h&&this.h.isActive(this)},(Bi=Tl.prototype).Ba=function(){},Bi.Aa=function(){},Bi.za=function(){},Bi.ya=function(){},Bi.isActive=function(){return!0},Bi.Va=function(){},Il.prototype.g=function(e,t){return new Cl(e,t)},es(Cl,Js),Cl.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var e=this.g,t=this.l,n=this.h||void 0;Ca(0),e.Y=t,e.na=n||{},e.G=e.aa,e.I=kl(e,null,e.Y),cl(e)},Cl.prototype.close=function(){ol(this.g)},Cl.prototype.u=function(e){var t=this.g;if("string"===typeof e){var n={};n.__data__=e,e=n}else this.v&&((n={}).__data__=Zs(e),e=n);t.j.push(new Io(t.fb++,e)),3==t.H&&cl(t)},Cl.prototype.N=function(){this.g.h=null,delete this.j,ol(this.g),delete this.g,Cl.$.N.call(this)},es(xl,ja),es(Nl,Fa),es(Al,Tl),Al.prototype.Ba=function(){$s(this.g,"a")},Al.prototype.Aa=function(e){$s(this.g,new xl(e))},Al.prototype.za=function(e){$s(this.g,new Nl)},Al.prototype.ya=function(){$s(this.g,"b")},es(Pl,(function(){this.blockSize=-1})),Pl.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},Pl.prototype.j=function(e,t){void 0===t&&(t=e.length);for(var n=t-this.blockSize,r=this.m,i=this.h,s=0;s<t;){if(0==i)for(;s<=n;)Ol(this,e,s),s+=this.blockSize;if("string"===typeof e){for(;s<t;)if(r[i++]=e.charCodeAt(s++),i==this.blockSize){Ol(this,r),i=0;break}}else for(;s<t;)if(r[i++]=e[s++],i==this.blockSize){Ol(this,r),i=0;break}}this.h=i,this.i+=t},Pl.prototype.l=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var n=8*this.i;for(t=e.length-8;t<e.length;++t)e[t]=255&n,n/=256;for(this.j(e),e=Array(16),t=n=0;4>t;++t)for(var r=0;32>r;r+=8)e[n++]=this.g[t]>>>r&255;return e};var Rl={};function Ll(e){return-128<=e&&128>e?function(e,t){var n=Rl;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}(e,(function(e){return new Dl([0|e],0>e?-1:0)})):new Dl([0|e],0>e?-1:0)}function Ml(e){if(isNaN(e)||!isFinite(e))return Fl;if(0>e)return Kl(Ml(-e));for(var t=[],n=1,r=0;e>=n;r++)t[r]=e/n|0,n*=jl;return new Dl(t,0)}var jl=4294967296,Fl=Ll(0),Ul=Ll(1),Vl=Ll(16777216);function Bl(e){if(0!=e.h)return!1;for(var t=0;t<e.g.length;t++)if(0!=e.g[t])return!1;return!0}function zl(e){return-1==e.h}function Kl(e){for(var t=e.g.length,n=[],r=0;r<t;r++)n[r]=~e.g[r];return new Dl(n,~e.h).add(Ul)}function Hl(e,t){return e.add(Kl(t))}function ql(e,t){for(;(65535&e[t])!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function Wl(e,t){this.g=e,this.h=t}function Gl(e,t){if(Bl(t))throw Error("division by zero");if(Bl(e))return new Wl(Fl,Fl);if(zl(e))return t=Gl(Kl(e),t),new Wl(Kl(t.g),Kl(t.h));if(zl(t))return t=Gl(e,Kl(t)),new Wl(Kl(t.g),t.h);if(30<e.g.length){if(zl(e)||zl(t))throw Error("slowDivide_ only works with positive integers.");for(var n=Ul,r=t;0>=r.X(e);)n=Ql(n),r=Ql(r);var i=Xl(n,1),s=Xl(r,1);for(r=Xl(r,2),n=Xl(n,2);!Bl(r);){var a=s.add(r);0>=a.X(e)&&(i=i.add(n),s=a),r=Xl(r,1),n=Xl(n,1)}return t=Hl(e,i.R(t)),new Wl(i,t)}for(i=Fl;0<=e.X(t);){for(n=Math.max(1,Math.floor(e.ea()/t.ea())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),a=(s=Ml(n)).R(t);zl(a)||0<a.X(e);)a=(s=Ml(n-=r)).R(t);Bl(s)&&(s=Ul),i=i.add(s),e=Hl(e,a)}return new Wl(i,e)}function Ql(e){for(var t=e.g.length+1,n=[],r=0;r<t;r++)n[r]=e.D(r)<<1|e.D(r-1)>>>31;return new Dl(n,e.h)}function Xl(e,t){var n=t>>5;t%=32;for(var r=e.g.length-n,i=[],s=0;s<r;s++)i[s]=0<t?e.D(s+n)>>>t|e.D(s+n+1)<<32-t:e.D(s+n);return new Dl(i,e.h)}(Bi=Dl.prototype).ea=function(){if(zl(this))return-Kl(this).ea();for(var e=0,t=1,n=0;n<this.g.length;n++){var r=this.D(n);e+=(0<=r?r:jl+r)*t,t*=jl}return e},Bi.toString=function(e){if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if(Bl(this))return"0";if(zl(this))return"-"+Kl(this).toString(e);for(var t=Ml(Math.pow(e,6)),n=this,r="";;){var i=Gl(n,t).g,s=((0<(n=Hl(n,i.R(t))).g.length?n.g[0]:n.h)>>>0).toString(e);if(Bl(n=i))return s+r;for(;6>s.length;)s="0"+s;r=s+r}},Bi.D=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h},Bi.X=function(e){return zl(e=Hl(this,e))?-1:Bl(e)?0:1},Bi.abs=function(){return zl(this)?Kl(this):this},Bi.add=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0,i=0;i<=t;i++){var s=r+(65535&this.D(i))+(65535&e.D(i)),a=(s>>>16)+(this.D(i)>>>16)+(e.D(i)>>>16);r=a>>>16,s&=65535,a&=65535,n[i]=a<<16|s}return new Dl(n,-2147483648&n[n.length-1]?-1:0)},Bi.R=function(e){if(Bl(this)||Bl(e))return Fl;if(zl(this))return zl(e)?Kl(this).R(Kl(e)):Kl(Kl(this).R(e));if(zl(e))return Kl(this.R(Kl(e)));if(0>this.X(Vl)&&0>e.X(Vl))return Ml(this.ea()*e.ea());for(var t=this.g.length+e.g.length,n=[],r=0;r<2*t;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<e.g.length;i++){var s=this.D(r)>>>16,a=65535&this.D(r),o=e.D(i)>>>16,l=65535&e.D(i);n[2*r+2*i]+=a*l,ql(n,2*r+2*i),n[2*r+2*i+1]+=s*l,ql(n,2*r+2*i+1),n[2*r+2*i+1]+=a*o,ql(n,2*r+2*i+1),n[2*r+2*i+2]+=s*o,ql(n,2*r+2*i+2)}for(r=0;r<t;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=t;r<2*t;r++)n[r]=0;return new Dl(n,0)},Bi.gb=function(e){return Gl(this,e).h},Bi.and=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)&e.D(r);return new Dl(n,this.h&e.h)},Bi.or=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)|e.D(r);return new Dl(n,this.h|e.h)},Bi.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)^e.D(r);return new Dl(n,this.h^e.h)},Il.prototype.createWebChannel=Il.prototype.g,Cl.prototype.send=Cl.prototype.u,Cl.prototype.open=Cl.prototype.m,Cl.prototype.close=Cl.prototype.close,Aa.NO_ERROR=0,Aa.TIMEOUT=8,Aa.HTTP_ERROR=6,Pa.COMPLETE="complete",Ra.EventType=Ma,Ma.OPEN="a",Ma.CLOSE="b",Ma.ERROR="c",Ma.MESSAGE="d",Js.prototype.listen=Js.prototype.O,Wo.prototype.listenOnce=Wo.prototype.P,Wo.prototype.getLastError=Wo.prototype.Sa,Wo.prototype.getLastErrorCode=Wo.prototype.Ia,Wo.prototype.getStatus=Wo.prototype.da,Wo.prototype.getResponseJson=Wo.prototype.Wa,Wo.prototype.getResponseText=Wo.prototype.ja,Wo.prototype.send=Wo.prototype.ha,Wo.prototype.setWithCredentials=Wo.prototype.Oa,Pl.prototype.digest=Pl.prototype.l,Pl.prototype.reset=Pl.prototype.reset,Pl.prototype.update=Pl.prototype.j,Dl.prototype.add=Dl.prototype.add,Dl.prototype.multiply=Dl.prototype.R,Dl.prototype.modulo=Dl.prototype.gb,Dl.prototype.compare=Dl.prototype.X,Dl.prototype.toNumber=Dl.prototype.ea,Dl.prototype.toString=Dl.prototype.toString,Dl.prototype.getBits=Dl.prototype.D,Dl.fromNumber=Ml,Dl.fromString=function e(t,n){if(0==t.length)throw Error("number format error: empty string");if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if("-"==t.charAt(0))return Kl(e(t.substring(1),n));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var r=Ml(Math.pow(n,8)),i=Fl,s=0;s<t.length;s+=8){var a=Math.min(8,t.length-s),o=parseInt(t.substring(s,s+a),n);8>a?(a=Ml(Math.pow(n,a)),i=i.R(a).add(Ml(o))):i=(i=i.R(r)).add(Ml(o))}return i};var Jl=Ki.createWebChannelTransport=function(){return new Il},$l=Ki.getStatEventTarget=function(){return ka()},Yl=Ki.ErrorCode=Aa,Zl=Ki.EventType=Pa,eu=Ki.Event=_a,tu=Ki.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},nu=(Ki.FetchXmlHttpFactory=Uo,Ki.WebChannel=Ra),ru=Ki.XhrIo=Wo,iu=(Ki.Md5=Pl,Ki.Integer=Dl);const su="@firebase/firestore";class au{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}au.UNAUTHENTICATED=new au(null),au.GOOGLE_CREDENTIALS=new au("google-credentials-uid"),au.FIRST_PARTY=new au("first-party-uid"),au.MOCK_USER=new au("mock-user");let ou="10.8.0";const lu=new Qr("@firebase/firestore");function uu(){return lu.logLevel}function cu(e){if(lu.logLevel<=Kr.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(fu);lu.debug("Firestore (".concat(ou,"): ").concat(e),...i)}}function hu(e){if(lu.logLevel<=Kr.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(fu);lu.error("Firestore (".concat(ou,"): ").concat(e),...i)}}function du(e){if(lu.logLevel<=Kr.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(fu);lu.warn("Firestore (".concat(ou,"): ").concat(e),...i)}}function fu(e){if("string"==typeof e)return e;try{return function(e){return JSON.stringify(e)}(e)}catch(i){return e}}function pu(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state";const t="FIRESTORE (".concat(ou,") INTERNAL ASSERTION FAILED: ")+e;throw hu(t),new Error(t)}function mu(e,t){e||pu()}function gu(e,t){return e}const yu={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class vu extends Cr{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>"".concat(this.name,": [code=").concat(this.code,"]: ").concat(this.message)}}class bu{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}class wu{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(e))}}class _u{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(au.UNAUTHENTICATED)))}shutdown(){}}class Eu{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class ku{constructor(e){this.t=e,this.currentUser=au.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){let n=this.i;const r=e=>this.i!==n?(n=this.i,t(e)):Promise.resolve();let i=new bu;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new bu,e.enqueueRetryable((()=>r(this.currentUser)))};const s=()=>{const t=i;e.enqueueRetryable((async()=>{await t.promise,await r(this.currentUser)}))},a=e=>{cu("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=e,this.auth.addAuthTokenListener(this.o),s()};this.t.onInit((e=>a(e))),setTimeout((()=>{if(!this.auth){const e=this.t.getImmediate({optional:!0});e?a(e):(cu("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new bu)}}),0),s()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((t=>this.i!==e?(cu("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):t?(mu("string"==typeof t.accessToken),new wu(t.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return mu(null===e||"string"==typeof e),new au(e)}}class Su{constructor(e,t,n){this.l=e,this.h=t,this.P=n,this.type="FirstParty",this.user=au.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class Tu{constructor(e,t,n){this.l=e,this.h=t,this.P=n}getToken(){return Promise.resolve(new Su(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable((()=>t(au.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Iu{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Cu{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){const n=e=>{null!=e.error&&cu("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));const n=e.token!==this.R;return this.R=e.token,cu("FirebaseAppCheckTokenProvider","Received ".concat(n?"new":"existing"," token.")),n?t(e.token):Promise.resolve()};this.o=t=>{e.enqueueRetryable((()=>n(t)))};const r=e=>{cu("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=e,this.appCheck.addTokenListener(this.o)};this.A.onInit((e=>r(e))),setTimeout((()=>{if(!this.appCheck){const e=this.A.getImmediate({optional:!0});e?r(e):cu("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((e=>e?(mu("string"==typeof e.token),this.R=e.token,new Iu(e.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function xu(e){const t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}class Nu{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(256/62);let n="";for(;n.length<20;){const r=xu(40);for(let i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%62))}return n}}function Au(e,t){return e<t?-1:e>t?1:0}function Pu(e,t,n){return e.length===t.length&&e.every(((e,r)=>n(e,t[r])))}class Ou{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new vu(yu.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new vu(yu.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new vu(yu.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new vu(yu.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Ou.fromMillis(Date.now())}static fromDate(e){return Ou.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor(1e6*(e-1e3*t));return new Ou(t,n)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Au(this.nanoseconds,e.nanoseconds):Au(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Du{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Du(e)}static min(){return new Du(new Ou(0,0))}static max(){return new Du(new Ou(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Ru{constructor(e,t,n){void 0===t?t=0:t>e.length&&pu(),void 0===n?n=e.length-t:n>e.length-t&&pu(),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return 0===Ru.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Ru?e.forEach((e=>{t.push(e)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const n=e.get(r),i=t.get(r);if(n<i)return-1;if(n>i)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class Lu extends Ru{construct(e,t,n){return new Lu(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(){const e=[];for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n){if(i.indexOf("//")>=0)throw new vu(yu.INVALID_ARGUMENT,"Invalid segment (".concat(i,"). Paths must not contain // in them."));e.push(...i.split("/").filter((e=>e.length>0)))}return new Lu(e)}static emptyPath(){return new Lu([])}}const Mu=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ju extends Ru{construct(e,t,n){return new ju(e,t,n)}static isValidIdentifier(e){return Mu.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ju.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new ju(["__name__"])}static fromServerFormat(e){const t=[];let n="",r=0;const i=()=>{if(0===n.length)throw new vu(yu.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(n),n=""};let s=!1;for(;r<e.length;){const t=e[r];if("\\"===t){if(r+1===e.length)throw new vu(yu.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const t=e[r+1];if("\\"!==t&&"."!==t&&"`"!==t)throw new vu(yu.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=t,r+=2}else"`"===t?(s=!s,r++):"."!==t||s?(n+=t,r++):(i(),r++)}if(i(),s)throw new vu(yu.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new ju(t)}static emptyPath(){return new ju([])}}class Fu{constructor(e){this.path=e}static fromPath(e){return new Fu(Lu.fromString(e))}static fromName(e){return new Fu(Lu.fromString(e).popFirst(5))}static empty(){return new Fu(Lu.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Lu.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Lu.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Fu(new Lu(e.slice()))}}class Uu{constructor(e,t,n,r){this.indexId=e,this.collectionGroup=t,this.fields=n,this.indexState=r}}Uu.UNKNOWN_ID=-1;function Vu(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=Du.fromTimestamp(1e9===r?new Ou(n+1,0):new Ou(n,r));return new zu(i,Fu.empty(),t)}function Bu(e){return new zu(e.readTime,e.key,-1)}class zu{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new zu(Du.min(),Fu.empty(),-1)}static max(){return new zu(Du.max(),Fu.empty(),-1)}}function Ku(e,t){let n=e.readTime.compareTo(t.readTime);return 0!==n?n:(n=Fu.comparator(e.documentKey,t.documentKey),0!==n?n:Au(e.largestBatchId,t.largestBatchId))}const Hu="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class qu{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function Wu(e){if(e.code!==yu.FAILED_PRECONDITION||e.message!==Hu)throw e;cu("LocalStore","Unexpectedly lost primary lease")}class Gu{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)}),(e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&pu(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Gu(((n,r)=>{this.nextCallback=t=>{this.wrapSuccess(e,t).next(n,r)},this.catchCallback=e=>{this.wrapFailure(t,e).next(n,r)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof Gu?t:Gu.resolve(t)}catch(e){return Gu.reject(e)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):Gu.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):Gu.reject(t)}static resolve(e){return new Gu(((t,n)=>{t(e)}))}static reject(e){return new Gu(((t,n)=>{n(e)}))}static waitFor(e){return new Gu(((t,n)=>{let r=0,i=0,s=!1;e.forEach((e=>{++r,e.next((()=>{++i,s&&i===r&&t()}),(e=>n(e)))})),s=!0,i===r&&t()}))}static or(e){let t=Gu.resolve(!1);for(const n of e)t=t.next((e=>e?Gu.resolve(e):n()));return t}static forEach(e,t){const n=[];return e.forEach(((e,r)=>{n.push(t.call(this,e,r))})),this.waitFor(n)}static mapArray(e,t){return new Gu(((n,r)=>{const i=e.length,s=new Array(i);let a=0;for(let o=0;o<i;o++){const l=o;t(e[l]).next((e=>{s[l]=e,++a,a===i&&n(s)}),(e=>r(e)))}}))}static doWhile(e,t){return new Gu(((n,r)=>{const i=()=>{!0===e()?t().next((()=>{i()}),r):n()};i()}))}}class Qu{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.V=new bu,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{t.error?this.V.reject(new $u(e,t.error)):this.V.resolve()},this.transaction.onerror=t=>{const n=nc(t.target.error);this.V.reject(new $u(e,n))}}static open(e,t,n,r){try{return new Qu(t,e.transaction(r,n))}catch(e){throw new $u(t,e)}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||(cu("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new Zu(t)}}class Xu{constructor(e,t,n){this.name=e,this.version=t,this.p=n,12.2===Xu.S(Sr())&&hu("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return cu("SimpleDb","Removing database:",e),ec(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!Ir())return!1;if(Xu.C())return!0;const e=Sr(),t=Xu.S(e),n=0<t&&t<10,r=Xu.v(e),i=0<r&&r<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||n||i)}static C(){var e;return"undefined"!=typeof process&&"YES"===(null===(e=process.__PRIVATE_env)||void 0===e?void 0:e.F)}static M(e,t){return e.store(t)}static S(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)}static v(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}async O(e){return this.db||(cu("SimpleDb","Opening database:",this.name),this.db=await new Promise(((t,n)=>{const r=indexedDB.open(this.name,this.version);r.onsuccess=e=>{const n=e.target.result;t(n)},r.onblocked=()=>{n(new $u(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},r.onerror=t=>{const r=t.target.error;"VersionError"===r.name?n(new vu(yu.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):"InvalidStateError"===r.name?n(new vu(yu.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+r)):n(new $u(e,r))},r.onupgradeneeded=e=>{cu("SimpleDb",'Database "'+this.name+'" requires upgrade from version:',e.oldVersion);const t=e.target.result;this.p.N(t,r.transaction,e.oldVersion,this.version).next((()=>{cu("SimpleDb","Database upgrade to version "+this.version+" complete")}))}}))),this.B&&(this.db.onversionchange=e=>this.B(e)),this.db}L(e){this.B=e,this.db&&(this.db.onversionchange=t=>e(t))}async runTransaction(e,t,n,r){const i="readonly"===t;let s=0;for(;;){++s;try{this.db=await this.O(e);const t=Qu.open(this.db,e,i?"readonly":"readwrite",n),s=r(t).next((e=>(t.g(),e))).catch((e=>(t.abort(e),Gu.reject(e)))).toPromise();return s.catch((()=>{})),await t.m,s}catch(e){const t=e,n="FirebaseError"!==t.name&&s<3;if(cu("SimpleDb","Transaction failed with error:",t.message,"Retrying:",n),this.close(),!n)return Promise.reject(t)}}}close(){this.db&&this.db.close(),this.db=void 0}}class Ju{constructor(e){this.k=e,this.q=!1,this.K=null}get isDone(){return this.q}get $(){return this.K}set cursor(e){this.k=e}done(){this.q=!0}U(e){this.K=e}delete(){return ec(this.k.delete())}}class $u extends vu{constructor(e,t){super(yu.UNAVAILABLE,"IndexedDB transaction '".concat(e,"' failed: ").concat(t)),this.name="IndexedDbTransactionError"}}function Yu(e){return"IndexedDbTransactionError"===e.name}class Zu{constructor(e){this.store=e}put(e,t){let n;return void 0!==t?(cu("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):(cu("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),ec(n)}add(e){return cu("SimpleDb","ADD",this.store.name,e,e),ec(this.store.add(e))}get(e){return ec(this.store.get(e)).next((t=>(void 0===t&&(t=null),cu("SimpleDb","GET",this.store.name,e,t),t)))}delete(e){return cu("SimpleDb","DELETE",this.store.name,e),ec(this.store.delete(e))}count(){return cu("SimpleDb","COUNT",this.store.name),ec(this.store.count())}W(e,t){const n=this.options(e,t),r=n.index?this.store.index(n.index):this.store;if("function"==typeof r.getAll){const e=r.getAll(n.range);return new Gu(((t,n)=>{e.onerror=e=>{n(e.target.error)},e.onsuccess=e=>{t(e.target.result)}}))}{const e=this.cursor(n),t=[];return this.G(e,((e,n)=>{t.push(n)})).next((()=>t))}}j(e,t){const n=this.store.getAll(e,null===t?void 0:t);return new Gu(((e,t)=>{n.onerror=e=>{t(e.target.error)},n.onsuccess=t=>{e(t.target.result)}}))}H(e,t){cu("SimpleDb","DELETE ALL",this.store.name);const n=this.options(e,t);n.J=!1;const r=this.cursor(n);return this.G(r,((e,t,n)=>n.delete()))}Y(e,t){let n;t?n=e:(n={},t=e);const r=this.cursor(n);return this.G(r,t)}Z(e){const t=this.cursor({});return new Gu(((n,r)=>{t.onerror=e=>{const t=nc(e.target.error);r(t)},t.onsuccess=t=>{const r=t.target.result;r?e(r.primaryKey,r.value).next((e=>{e?r.continue():n()})):n()}}))}G(e,t){const n=[];return new Gu(((r,i)=>{e.onerror=e=>{i(e.target.error)},e.onsuccess=e=>{const i=e.target.result;if(!i)return void r();const s=new Ju(i),a=t(i.primaryKey,i.value,s);if(a instanceof Gu){const e=a.catch((e=>(s.done(),Gu.reject(e))));n.push(e)}s.isDone?r():null===s.$?i.continue():i.continue(s.$)}})).next((()=>Gu.waitFor(n)))}options(e,t){let n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const n=this.store.index(e.index);return e.J?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function ec(e){return new Gu(((t,n)=>{e.onsuccess=e=>{const n=e.target.result;t(n)},e.onerror=e=>{const t=nc(e.target.error);n(t)}}))}let tc=!1;function nc(e){const t=Xu.S(Sr());if(t>=12.2&&t<13){const t="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(t)>=0){const e=new vu("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '".concat(t,"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround."));return tc||(tc=!0,setTimeout((()=>{throw e}),0)),e}}return e}class rc{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=e=>this.se(e),this.oe=e=>t.writeSequenceNumber(e))}se(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.oe&&this.oe(e),e}}function ic(e){return null==e}function sc(e){return 0===e&&1/e==-1/0}function ac(e){return"number"==typeof e&&Number.isInteger(e)&&!sc(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}rc._e=-1;const oc=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],lc=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],uc=lc;function cc(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function hc(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function dc(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}class fc{constructor(e,t){this.comparator=e,this.root=t||mc.EMPTY}insert(e,t){return new fc(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,mc.BLACK,null,null))}remove(e){return new fc(this.comparator,this.root.remove(e,this.comparator).copy(null,null,mc.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,n)=>(e(t,n),!1)))}toString(){const e=[];return this.inorderTraversal(((t,n)=>(e.push("".concat(t,":").concat(n)),!1))),"{".concat(e.join(", "),"}")}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new pc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new pc(this.root,e,this.comparator,!1)}getReverseIterator(){return new pc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new pc(this.root,e,this.comparator,!0)}}class pc{constructor(e,t,n,r){this.isReverse=r,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=t?n(e.key,t):1,t&&r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(0===i){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class mc{constructor(e,t,n,r,i){this.key=e,this.value=t,this.color=null!=n?n:mc.RED,this.left=null!=r?r:mc.EMPTY,this.right=null!=i?i:mc.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,r,i){return new mc(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this;const i=n(e,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp()}removeMin(){if(this.left.isEmpty())return mc.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return mc.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,mc.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,mc.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw pu();if(this.right.isRed())throw pu();const e=this.left.check();if(e!==this.right.check())throw pu();return e+(this.isRed()?0:1)}}mc.EMPTY=null,mc.RED=!0,mc.BLACK=!1,mc.EMPTY=new class{constructor(){this.size=0}get key(){throw pu()}get value(){throw pu()}get color(){throw pu()}get left(){throw pu()}get right(){throw pu()}copy(e,t,n,r,i){return this}insert(e,t,n){return new mc(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class gc{constructor(e){this.comparator=e,this.data=new fc(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,n)=>(e(t),!1)))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new yc(this.data.getIterator())}getIteratorFrom(e){return new yc(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((e=>{t=t.add(e)})),t}isEqual(e){if(!(e instanceof gc))return!1;if(this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(0!==this.comparator(e,r))return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new gc(this.comparator);return t.data=e,t}}class yc{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class vc{constructor(e){this.fields=e,e.sort(ju.comparator)}static empty(){return new vc([])}unionWith(e){let t=new gc(ju.comparator);for(const n of this.fields)t=t.add(n);for(const n of e)t=t.add(n);return new vc(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Pu(this.fields,e.fields,((e,t)=>e.isEqual(t)))}}class bc extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class wc{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(e){try{return atob(e)}catch(e){throw"undefined"!=typeof DOMException&&e instanceof DOMException?new bc("Invalid base64 string: "+e):e}}(e);return new wc(t)}static fromUint8Array(e){const t=function(e){let t="";for(let n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new wc(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(e){return btoa(e)}(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Au(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}wc.EMPTY_BYTE_STRING=new wc("");const _c=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ec(e){if(mu(!!e),"string"==typeof e){let t=0;const n=_c.exec(e);if(mu(!!n),n[1]){let e=n[1];e=(e+"000000000").substr(0,9),t=Number(e)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:kc(e.seconds),nanos:kc(e.nanos)}}function kc(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function Sc(e){return"string"==typeof e?wc.fromBase64String(e):wc.fromUint8Array(e)}function Tc(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Ic(e){const t=e.mapValue.fields.__previous_value__;return Tc(t)?Ic(t):t}function Cc(e){const t=Ec(e.mapValue.fields.__local_write_time__.timestampValue);return new Ou(t.seconds,t.nanos)}class xc{constructor(e,t,n,r,i,s,a,o,l){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=o,this.useFetchStreams=l}}class Nc{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Nc("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Nc&&e.projectId===this.projectId&&e.database===this.database}}const Ac={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Pc(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?Tc(e)?4:zc(e)?9007199254740991:10:pu()}function Oc(e,t){if(e===t)return!0;const n=Pc(e);if(n!==Pc(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Cc(e).isEqual(Cc(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;const n=Ec(e.timestampValue),r=Ec(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return Sc(e.bytesValue).isEqual(Sc(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return kc(e.geoPointValue.latitude)===kc(t.geoPointValue.latitude)&&kc(e.geoPointValue.longitude)===kc(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return kc(e.integerValue)===kc(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){const n=kc(e.doubleValue),r=kc(t.doubleValue);return n===r?sc(n)===sc(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return Pu(e.arrayValue.values||[],t.arrayValue.values||[],Oc);case 10:return function(e,t){const n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(cc(n)!==cc(r))return!1;for(const i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!Oc(n[i],r[i])))return!1;return!0}(e,t);default:return pu()}}function Dc(e,t){return void 0!==(e.values||[]).find((e=>Oc(e,t)))}function Rc(e,t){if(e===t)return 0;const n=Pc(e),r=Pc(t);if(n!==r)return Au(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Au(e.booleanValue,t.booleanValue);case 2:return function(e,t){const n=kc(e.integerValue||e.doubleValue),r=kc(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return Lc(e.timestampValue,t.timestampValue);case 4:return Lc(Cc(e),Cc(t));case 5:return Au(e.stringValue,t.stringValue);case 6:return function(e,t){const n=Sc(e),r=Sc(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){const n=e.split("/"),r=t.split("/");for(let i=0;i<n.length&&i<r.length;i++){const e=Au(n[i],r[i]);if(0!==e)return e}return Au(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){const n=Au(kc(e.latitude),kc(t.latitude));return 0!==n?n:Au(kc(e.longitude),kc(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){const n=e.values||[],r=t.values||[];for(let i=0;i<n.length&&i<r.length;++i){const e=Rc(n[i],r[i]);if(e)return e}return Au(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){if(e===Ac.mapValue&&t===Ac.mapValue)return 0;if(e===Ac.mapValue)return 1;if(t===Ac.mapValue)return-1;const n=e.fields||{},r=Object.keys(n),i=t.fields||{},s=Object.keys(i);r.sort(),s.sort();for(let a=0;a<r.length&&a<s.length;++a){const e=Au(r[a],s[a]);if(0!==e)return e;const t=Rc(n[r[a]],i[s[a]]);if(0!==t)return t}return Au(r.length,s.length)}(e.mapValue,t.mapValue);default:throw pu()}}function Lc(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return Au(e,t);const n=Ec(e),r=Ec(t),i=Au(n.seconds,r.seconds);return 0!==i?i:Au(n.nanos,r.nanos)}function Mc(e){return jc(e)}function jc(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){const t=Ec(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(e){return Sc(e).toBase64()}(e.bytesValue):"referenceValue"in e?function(e){return Fu.fromName(e).toString()}(e.referenceValue):"geoPointValue"in e?function(e){return"geo(".concat(e.latitude,",").concat(e.longitude,")")}(e.geoPointValue):"arrayValue"in e?function(e){let t="[",n=!0;for(const r of e.values||[])n?n=!1:t+=",",t+=jc(r);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){const t=Object.keys(e.fields||{}).sort();let n="{",r=!0;for(const i of t)r?r=!1:n+=",",n+="".concat(i,":").concat(jc(e.fields[i]));return n+"}"}(e.mapValue):pu()}function Fc(e){return!!e&&"integerValue"in e}function Uc(e){return!!e&&"arrayValue"in e}function Vc(e){return!!e&&"mapValue"in e}function Bc(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return hc(e.mapValue.fields,((e,n)=>t.mapValue.fields[e]=Bc(n))),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=Bc(e.arrayValue.values[n]);return t}return Object.assign({},e)}function zc(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}class Kc{constructor(e){this.value=e}static empty(){return new Kc({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!Vc(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Bc(t)}setAll(e){let t=ju.emptyPath(),n={},r=[];e.forEach(((e,i)=>{if(!t.isImmediateParentOf(i)){const e=this.getFieldsMap(t);this.applyChanges(e,n,r),n={},r=[],t=i.popLast()}e?n[i.lastSegment()]=Bc(e):r.push(i.lastSegment())}));const i=this.getFieldsMap(t);this.applyChanges(i,n,r)}delete(e){const t=this.field(e.popLast());Vc(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Oc(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let r=t.mapValue.fields[e.get(n)];Vc(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,n){hc(t,((t,n)=>e[t]=n));for(const r of n)delete e[r]}clone(){return new Kc(Bc(this.value))}}function Hc(e){const t=[];return hc(e.fields,((e,n)=>{const r=new ju([e]);if(Vc(n)){const e=Hc(n.mapValue).fields;if(0===e.length)t.push(r);else for(const n of e)t.push(r.child(n))}else t.push(r)})),new vc(t)}class qc{constructor(e,t,n,r,i,s,a){this.key=e,this.documentType=t,this.version=n,this.readTime=r,this.createTime=i,this.data=s,this.documentState=a}static newInvalidDocument(e){return new qc(e,0,Du.min(),Du.min(),Du.min(),Kc.empty(),0)}static newFoundDocument(e,t,n,r){return new qc(e,1,t,Du.min(),n,r,0)}static newNoDocument(e,t){return new qc(e,2,t,Du.min(),Du.min(),Kc.empty(),0)}static newUnknownDocument(e,t){return new qc(e,3,t,Du.min(),Du.min(),Kc.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Du.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Kc.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Kc.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Du.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof qc&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new qc(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {createTime: ").concat(this.createTime,"}), {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}class Wc{constructor(e,t){this.position=e,this.inclusive=t}}function Gc(e,t,n){let r=0;for(let i=0;i<e.position.length;i++){const s=t[i],a=e.position[i];if(r=s.field.isKeyField()?Fu.comparator(Fu.fromName(a.referenceValue),n.key):Rc(a,n.data.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return r}function Qc(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!Oc(e.position[n],t.position[n]))return!1;return!0}class Xc{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";this.field=e,this.dir=t}}function Jc(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}class $c{}class Yc extends $c{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,n):new ah(e,t,n):"array-contains"===t?new ch(e,n):"in"===t?new hh(e,n):"not-in"===t?new dh(e,n):"array-contains-any"===t?new fh(e,n):new Yc(e,t,n)}static createKeyFieldInFilter(e,t,n){return"in"===t?new oh(e,n):new lh(e,n)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(Rc(t,this.value)):null!==t&&Pc(this.value)===Pc(t)&&this.matchesComparison(Rc(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return pu()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Zc extends $c{constructor(e,t){super(),this.filters=e,this.op=t,this.ue=null}static create(e,t){return new Zc(e,t)}matches(e){return eh(this)?void 0===this.filters.find((t=>!t.matches(e))):void 0!==this.filters.find((t=>t.matches(e)))}getFlattenedFilters(){return null!==this.ue||(this.ue=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.ue}getFilters(){return Object.assign([],this.filters)}}function eh(e){return"and"===e.op}function th(e){return nh(e)&&eh(e)}function nh(e){for(const t of e.filters)if(t instanceof Zc)return!1;return!0}function rh(e){if(e instanceof Yc)return e.field.canonicalString()+e.op.toString()+Mc(e.value);if(th(e))return e.filters.map((e=>rh(e))).join(",");{const t=e.filters.map((e=>rh(e))).join(",");return"".concat(e.op,"(").concat(t,")")}}function ih(e,t){return e instanceof Yc?function(e,t){return t instanceof Yc&&e.op===t.op&&e.field.isEqual(t.field)&&Oc(e.value,t.value)}(e,t):e instanceof Zc?function(e,t){return t instanceof Zc&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce(((e,n,r)=>e&&ih(n,t.filters[r])),!0)}(e,t):void pu()}function sh(e){return e instanceof Yc?function(e){return"".concat(e.field.canonicalString()," ").concat(e.op," ").concat(Mc(e.value))}(e):e instanceof Zc?function(e){return e.op.toString()+" {"+e.getFilters().map(sh).join(" ,")+"}"}(e):"Filter"}class ah extends Yc{constructor(e,t,n){super(e,t,n),this.key=Fu.fromName(n.referenceValue)}matches(e){const t=Fu.comparator(e.key,this.key);return this.matchesComparison(t)}}class oh extends Yc{constructor(e,t){super(e,"in",t),this.keys=uh("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class lh extends Yc{constructor(e,t){super(e,"not-in",t),this.keys=uh("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function uh(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((e=>Fu.fromName(e.referenceValue)))}class ch extends Yc{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Uc(t)&&Dc(t.arrayValue,this.value)}}class hh extends Yc{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Dc(this.value.arrayValue,t)}}class dh extends Yc{constructor(e,t){super(e,"not-in",t)}matches(e){if(Dc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!Dc(this.value.arrayValue,t)}}class fh extends Yc{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Uc(t)||!t.arrayValue.values)&&t.arrayValue.values.some((e=>Dc(this.value.arrayValue,e)))}}class ph{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=s,this.endAt=a,this.ce=null}}function mh(e){return new ph(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null)}function gh(e){const t=gu(e);if(null===t.ce){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map((e=>rh(e))).join(","),e+="|ob:",e+=t.orderBy.map((e=>function(e){return e.field.canonicalString()+e.dir}(e))).join(","),ic(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map((e=>Mc(e))).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map((e=>Mc(e))).join(",")),t.ce=e}return t.ce}function yh(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!Jc(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!ih(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!Qc(e.startAt,t.startAt)&&Qc(e.endAt,t.endAt)}class vh{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,o=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=s,this.startAt=a,this.endAt=o,this.le=null,this.he=null,this.Pe=null,this.startAt,this.endAt}}function bh(e,t,n,r,i,s,a,o){return new vh(e,t,n,r,i,s,a,o)}function wh(e){return new vh(e)}function _h(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function Eh(e){return null!==e.collectionGroup}function kh(e){const t=gu(e);if(null===t.le){t.le=[];const e=new Set;for(const i of t.explicitOrderBy)t.le.push(i),e.add(i.field.canonicalString());const n=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc",r=function(e){let t=new gc(ju.comparator);return e.filters.forEach((e=>{e.getFlattenedFilters().forEach((e=>{e.isInequality()&&(t=t.add(e.field))}))})),t}(t);r.forEach((r=>{e.has(r.canonicalString())||r.isKeyField()||t.le.push(new Xc(r,n))})),e.has(ju.keyField().canonicalString())||t.le.push(new Xc(ju.keyField(),n))}return t.le}function Sh(e){const t=gu(e);return t.he||(t.he=Th(t,kh(e))),t.he}function Th(e,t){if("F"===e.limitType)return mh(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map((e=>{const t="desc"===e.dir?"asc":"desc";return new Xc(e.field,t)}));const n=e.endAt?new Wc(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new Wc(e.startAt.position,e.startAt.inclusive):null;return mh(e.path,e.collectionGroup,t,e.filters,e.limit,n,r)}}function Ih(e,t,n){return new vh(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Ch(e,t){return yh(Sh(e),Sh(t))&&e.limitType===t.limitType}function xh(e){return"".concat(gh(Sh(e)),"|lt:").concat(e.limitType)}function Nh(e){return"Query(target=".concat(function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map((e=>sh(e))).join(", "),"]")),ic(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map((e=>function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e))).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((e=>Mc(e))).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((e=>Mc(e))).join(",")),"Target(".concat(t,")")}(Sh(e)),"; limitType=").concat(e.limitType,")")}function Ah(e,t){return t.isFoundDocument()&&function(e,t){const n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):Fu.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){for(const n of kh(e))if(!n.field.isKeyField()&&null===t.data.field(n.field))return!1;return!0}(e,t)&&function(e,t){for(const n of e.filters)if(!n.matches(t))return!1;return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){const r=Gc(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,kh(e),t))&&!(e.endAt&&!function(e,t,n){const r=Gc(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,kh(e),t))}(e,t)}function Ph(e){return(t,n)=>{let r=!1;for(const i of kh(e)){const e=Oh(i,t,n);if(0!==e)return e;r=r||i.field.isKeyField()}return 0}}function Oh(e,t,n){const r=e.field.isKeyField()?Fu.comparator(t.key,n.key):function(e,t,n){const r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?Rc(r,i):pu()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return pu()}}class Dh{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(const[r,i]of n)if(this.equalsFn(r,e))return i}has(e){return void 0!==this.get(e)}set(e,t){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(let r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}forEach(e){hc(this.inner,((t,n)=>{for(const[r,i]of n)e(r,i)}))}isEmpty(){return dc(this.inner)}size(){return this.innerSize}}const Rh=new fc(Fu.comparator);function Lh(){return Rh}const Mh=new fc(Fu.comparator);function jh(){let e=Mh;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.insert(i.key,i);return e}function Fh(e){let t=Mh;return e.forEach(((e,n)=>t=t.insert(e,n.overlayedDocument))),t}function Uh(){return Bh()}function Vh(){return Bh()}function Bh(){return new Dh((e=>e.toString()),((e,t)=>e.isEqual(t)))}const zh=new fc(Fu.comparator),Kh=new gc(Fu.comparator);function Hh(){let e=Kh;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.add(i);return e}const qh=new gc(Au);function Wh(){return qh}function Gh(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:sc(t)?"-0":t}}function Qh(e){return{integerValue:""+e}}function Xh(e,t){return ac(t)?Qh(t):Gh(e,t)}class Jh{constructor(){this._=void 0}}function $h(e,t,n){return e instanceof ed?function(e,t){const n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&Tc(t)&&(t=Ic(t)),t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof td?nd(e,t):e instanceof rd?id(e,t):function(e,t){const n=Zh(e,t),r=ad(n)+ad(e.Ie);return Fc(n)&&Fc(e.Ie)?Qh(r):Gh(e.serializer,r)}(e,t)}function Yh(e,t,n){return e instanceof td?nd(e,t):e instanceof rd?id(e,t):n}function Zh(e,t){return e instanceof sd?function(e){return Fc(e)||function(e){return!!e&&"doubleValue"in e}(e)}(t)?t:{integerValue:0}:null}class ed extends Jh{}class td extends Jh{constructor(e){super(),this.elements=e}}function nd(e,t){const n=od(t);for(const r of e.elements)n.some((e=>Oc(e,r)))||n.push(r);return{arrayValue:{values:n}}}class rd extends Jh{constructor(e){super(),this.elements=e}}function id(e,t){let n=od(t);for(const r of e.elements)n=n.filter((e=>!Oc(e,r)));return{arrayValue:{values:n}}}class sd extends Jh{constructor(e,t){super(),this.serializer=e,this.Ie=t}}function ad(e){return kc(e.integerValue||e.doubleValue)}function od(e){return Uc(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}class ld{constructor(e,t){this.version=e,this.transformResults=t}}class ud{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new ud}static exists(e){return new ud(void 0,e)}static updateTime(e){return new ud(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function cd(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}class hd{}function dd(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new Ed(e.key,ud.none()):new yd(e.key,e.data,ud.none());{const n=e.data,r=Kc.empty();let i=new gc(ju.comparator);for(let e of t.fields)if(!i.has(e)){let t=n.field(e);null===t&&e.length>1&&(e=e.popLast(),t=n.field(e)),null===t?r.delete(e):r.set(e,t),i=i.add(e)}return new vd(e.key,r,new vc(i.toArray()),ud.none())}}function fd(e,t,n){e instanceof yd?function(e,t,n){const r=e.value.clone(),i=wd(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof vd?function(e,t,n){if(!cd(e.precondition,t))return void t.convertToUnknownDocument(n.version);const r=wd(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(bd(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function pd(e,t,n,r){return e instanceof yd?function(e,t,n,r){if(!cd(e.precondition,t))return n;const i=e.value.clone(),s=_d(e.fieldTransforms,r,t);return i.setAll(s),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof vd?function(e,t,n,r){if(!cd(e.precondition,t))return n;const i=_d(e.fieldTransforms,r,t),s=t.data;return s.setAll(bd(e)),s.setAll(i),t.convertToFoundDocument(t.version,s).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map((e=>e.field)))}(e,t,n,r):function(e,t,n){return cd(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function md(e,t){let n=null;for(const r of e.fieldTransforms){const e=t.data.field(r.field),i=Zh(r.transform,e||null);null!=i&&(null===n&&(n=Kc.empty()),n.set(r.field,i))}return n||null}function gd(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&Pu(e,t,((e,t)=>function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof td&&t instanceof td||e instanceof rd&&t instanceof rd?Pu(e.elements,t.elements,Oc):e instanceof sd&&t instanceof sd?Oc(e.Ie,t.Ie):e instanceof ed&&t instanceof ed}(e.transform,t.transform)}(e,t)))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class yd extends hd{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class vd extends hd{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=r,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function bd(e){const t=new Map;return e.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}})),t}function wd(e,t,n){const r=new Map;mu(e.length===n.length);for(let i=0;i<n.length;i++){const s=e[i],a=s.transform,o=t.data.field(s.field);r.set(s.field,Yh(a,o,n[i]))}return r}function _d(e,t,n){const r=new Map;for(const i of e){const e=i.transform,s=n.data.field(i.field);r.set(i.field,$h(e,s,t))}return r}class Ed extends hd{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class kd extends hd{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Sd{constructor(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const t=this.mutations[r];t.key.isEqual(e.key)&&fd(t,e,n[r])}}applyToLocalView(e,t){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(t=pd(n,e,t,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(t=pd(n,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const n=Vh();return this.mutations.forEach((r=>{const i=e.get(r.key),s=i.overlayedDocument;let a=this.applyToLocalView(s,i.mutatedFields);a=t.has(r.key)?null:a;const o=dd(s,a);null!==o&&n.set(r.key,o),s.isValidDocument()||s.convertToNoDocument(Du.min())})),n}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),Hh())}isEqual(e){return this.batchId===e.batchId&&Pu(this.mutations,e.mutations,((e,t)=>gd(e,t)))&&Pu(this.baseMutations,e.baseMutations,((e,t)=>gd(e,t)))}}class Td{constructor(e,t,n,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}static from(e,t,n){mu(e.mutations.length===n.length);let r=zh;const i=e.mutations;for(let s=0;s<i.length;s++)r=r.insert(i[s].key,n[s].version);return new Td(e,t,n,r)}}class Id{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}var Cd,xd;function Nd(e){switch(e){default:return pu();case yu.CANCELLED:case yu.UNKNOWN:case yu.DEADLINE_EXCEEDED:case yu.RESOURCE_EXHAUSTED:case yu.INTERNAL:case yu.UNAVAILABLE:case yu.UNAUTHENTICATED:return!1;case yu.INVALID_ARGUMENT:case yu.NOT_FOUND:case yu.ALREADY_EXISTS:case yu.PERMISSION_DENIED:case yu.FAILED_PRECONDITION:case yu.ABORTED:case yu.OUT_OF_RANGE:case yu.UNIMPLEMENTED:case yu.DATA_LOSS:return!0}}function Ad(e){if(void 0===e)return hu("GRPC error has no .code"),yu.UNKNOWN;switch(e){case Cd.OK:return yu.OK;case Cd.CANCELLED:return yu.CANCELLED;case Cd.UNKNOWN:return yu.UNKNOWN;case Cd.DEADLINE_EXCEEDED:return yu.DEADLINE_EXCEEDED;case Cd.RESOURCE_EXHAUSTED:return yu.RESOURCE_EXHAUSTED;case Cd.INTERNAL:return yu.INTERNAL;case Cd.UNAVAILABLE:return yu.UNAVAILABLE;case Cd.UNAUTHENTICATED:return yu.UNAUTHENTICATED;case Cd.INVALID_ARGUMENT:return yu.INVALID_ARGUMENT;case Cd.NOT_FOUND:return yu.NOT_FOUND;case Cd.ALREADY_EXISTS:return yu.ALREADY_EXISTS;case Cd.PERMISSION_DENIED:return yu.PERMISSION_DENIED;case Cd.FAILED_PRECONDITION:return yu.FAILED_PRECONDITION;case Cd.ABORTED:return yu.ABORTED;case Cd.OUT_OF_RANGE:return yu.OUT_OF_RANGE;case Cd.UNIMPLEMENTED:return yu.UNIMPLEMENTED;case Cd.DATA_LOSS:return yu.DATA_LOSS;default:return pu()}}(xd=Cd||(Cd={}))[xd.OK=0]="OK",xd[xd.CANCELLED=1]="CANCELLED",xd[xd.UNKNOWN=2]="UNKNOWN",xd[xd.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",xd[xd.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",xd[xd.NOT_FOUND=5]="NOT_FOUND",xd[xd.ALREADY_EXISTS=6]="ALREADY_EXISTS",xd[xd.PERMISSION_DENIED=7]="PERMISSION_DENIED",xd[xd.UNAUTHENTICATED=16]="UNAUTHENTICATED",xd[xd.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",xd[xd.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",xd[xd.ABORTED=10]="ABORTED",xd[xd.OUT_OF_RANGE=11]="OUT_OF_RANGE",xd[xd.UNIMPLEMENTED=12]="UNIMPLEMENTED",xd[xd.INTERNAL=13]="INTERNAL",xd[xd.UNAVAILABLE=14]="UNAVAILABLE",xd[xd.DATA_LOSS=15]="DATA_LOSS";new iu([4294967295,4294967295],0);Error;class Pd{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Od(e,t){return e.useProto3Json?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function Dd(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function Rd(e,t){return Od(e,t.toTimestamp())}function Ld(e){return mu(!!e),Du.fromTimestamp(function(e){const t=Ec(e);return new Ou(t.seconds,t.nanos)}(e))}function Md(e,t){return jd(e,t).canonicalString()}function jd(e,t){const n=function(e){return new Lu(["projects",e.projectId,"databases",e.database])}(e).child("documents");return void 0===t?n:n.child(t)}function Fd(e){const t=Lu.fromString(e);return mu(Xd(t)),t}function Ud(e,t){return Md(e.databaseId,t.path)}function Vd(e){const t=Fd(e);return 4===t.length?Lu.emptyPath():zd(t)}function Bd(e){return new Lu(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function zd(e){return mu(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function Kd(e,t,n){return{name:Ud(e,t),fields:n.value.mapValue.fields}}function Hd(e,t){let n;if(t instanceof yd)n={update:Kd(e,t.key,t.value)};else if(t instanceof Ed)n={delete:Ud(e,t.key)};else if(t instanceof vd)n={update:Kd(e,t.key,t.data),updateMask:Qd(t.fieldMask)};else{if(!(t instanceof kd))return pu();n={verify:Ud(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((e=>function(e,t){const n=t.transform;if(n instanceof ed)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof td)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof rd)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof sd)return{fieldPath:t.field.canonicalString(),increment:n.Ie};throw pu()}(0,e)))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:Rd(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:pu()}(e,t.precondition)),n}function qd(e){let t=Vd(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){mu(1===r);const e=n.from[0];e.allDescendants?i=e.collectionId:t=t.child(e.collectionId)}let s=[];n.where&&(s=function(e){const t=Wd(e);return t instanceof Zc&&th(t)?t.getFilters():[t]}(n.where));let a=[];n.orderBy&&(a=function(e){return e.map((e=>function(e){return new Xc(Gd(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)))}(n.orderBy));let o=null;n.limit&&(o=function(e){let t;return t="object"==typeof e?e.value:e,ic(t)?null:t}(n.limit));let l=null;n.startAt&&(l=function(e){const t=!!e.before,n=e.values||[];return new Wc(n,t)}(n.startAt));let u=null;return n.endAt&&(u=function(e){const t=!e.before,n=e.values||[];return new Wc(n,t)}(n.endAt)),bh(t,i,a,s,o,"F",l,u)}function Wd(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=Gd(e.unaryFilter.field);return Yc.create(t,"==",{doubleValue:NaN});case"IS_NULL":const n=Gd(e.unaryFilter.field);return Yc.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=Gd(e.unaryFilter.field);return Yc.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=Gd(e.unaryFilter.field);return Yc.create(i,"!=",{nullValue:"NULL_VALUE"});default:return pu()}}(e):void 0!==e.fieldFilter?function(e){return Yc.create(Gd(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return pu()}}(e.fieldFilter.op),e.fieldFilter.value)}(e):void 0!==e.compositeFilter?function(e){return Zc.create(e.compositeFilter.filters.map((e=>Wd(e))),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return pu()}}(e.compositeFilter.op))}(e):pu()}function Gd(e){return ju.fromServerFormat(e.fieldPath)}function Qd(e){const t=[];return e.fields.forEach((e=>t.push(e.canonicalString()))),{fieldPaths:t}}function Xd(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}class Jd{constructor(e){this.ct=e}}function $d(e){const t=qd({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?Ih(t,t.limit,"L"):t}class Yd{constructor(){}Pt(e,t){this.It(e,t),t.Tt()}It(e,t){if("nullValue"in e)this.Et(t,5);else if("booleanValue"in e)this.Et(t,10),t.dt(e.booleanValue?1:0);else if("integerValue"in e)this.Et(t,15),t.dt(kc(e.integerValue));else if("doubleValue"in e){const n=kc(e.doubleValue);isNaN(n)?this.Et(t,13):(this.Et(t,15),sc(n)?t.dt(0):t.dt(n))}else if("timestampValue"in e){const n=e.timestampValue;this.Et(t,20),"string"==typeof n?t.At(n):(t.At("".concat(n.seconds||"")),t.dt(n.nanos||0))}else if("stringValue"in e)this.Rt(e.stringValue,t),this.Vt(t);else if("bytesValue"in e)this.Et(t,30),t.ft(Sc(e.bytesValue)),this.Vt(t);else if("referenceValue"in e)this.gt(e.referenceValue,t);else if("geoPointValue"in e){const n=e.geoPointValue;this.Et(t,45),t.dt(n.latitude||0),t.dt(n.longitude||0)}else"mapValue"in e?zc(e)?this.Et(t,Number.MAX_SAFE_INTEGER):(this.yt(e.mapValue,t),this.Vt(t)):"arrayValue"in e?(this.wt(e.arrayValue,t),this.Vt(t)):pu()}Rt(e,t){this.Et(t,25),this.St(e,t)}St(e,t){t.At(e)}yt(e,t){const n=e.fields||{};this.Et(t,55);for(const r of Object.keys(n))this.Rt(r,t),this.It(n[r],t)}wt(e,t){const n=e.values||[];this.Et(t,50);for(const r of n)this.It(r,t)}gt(e,t){this.Et(t,37),Fu.fromName(e).path.forEach((e=>{this.Et(t,60),this.St(e,t)}))}Et(e,t){e.dt(t)}Vt(e){e.dt(2)}}Yd.bt=new Yd;class Zd{constructor(){this._n=new ef}addToCollectionParentIndex(e,t){return this._n.add(t),Gu.resolve()}getCollectionParents(e,t){return Gu.resolve(this._n.getEntries(t))}addFieldIndex(e,t){return Gu.resolve()}deleteFieldIndex(e,t){return Gu.resolve()}deleteAllFieldIndexes(e){return Gu.resolve()}createTargetIndexes(e,t){return Gu.resolve()}getDocumentsMatchingTarget(e,t){return Gu.resolve(null)}getIndexType(e,t){return Gu.resolve(0)}getFieldIndexes(e,t){return Gu.resolve([])}getNextCollectionGroupToUpdate(e){return Gu.resolve(null)}getMinOffset(e,t){return Gu.resolve(zu.min())}getMinOffsetFromCollectionGroup(e,t){return Gu.resolve(zu.min())}updateCollectionGroup(e,t,n){return Gu.resolve()}updateIndexEntries(e,t){return Gu.resolve()}}class ef{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new gc(Lu.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}has(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}getEntries(e){return(this.index[e]||new gc(Lu.comparator)).toArray()}}new Uint8Array(0);class tf{constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}static withCacheSize(e){return new tf(e,tf.DEFAULT_COLLECTION_PERCENTILE,tf.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}tf.DEFAULT_COLLECTION_PERCENTILE=10,tf.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,tf.DEFAULT=new tf(41943040,tf.DEFAULT_COLLECTION_PERCENTILE,tf.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),tf.DISABLED=new tf(-1,0,0);class nf{constructor(e){this.On=e}next(){return this.On+=2,this.On}static Nn(){return new nf(0)}static Bn(){return new nf(-1)}}class rf{constructor(){this.changes=new Dh((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,qc.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return void 0!==n?Gu.resolve(n):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class sf{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class af{constructor(e,t,n,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=n,this.indexManager=r}getDocument(e,t){let n=null;return this.documentOverlayCache.getOverlay(e,t).next((r=>(n=r,this.remoteDocumentCache.getEntry(e,t)))).next((e=>(null!==n&&pd(n.mutation,e,vc.empty(),Ou.now()),e)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((t=>this.getLocalViewOfDocuments(e,t,Hh()).next((()=>t))))}getLocalViewOfDocuments(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Hh();const r=Uh();return this.populateOverlays(e,r,t).next((()=>this.computeViews(e,t,r,n).next((e=>{let t=jh();return e.forEach(((e,n)=>{t=t.insert(e,n.overlayedDocument)})),t}))))}getOverlayedDocuments(e,t){const n=Uh();return this.populateOverlays(e,n,t).next((()=>this.computeViews(e,t,n,Hh())))}populateOverlays(e,t,n){const r=[];return n.forEach((e=>{t.has(e)||r.push(e)})),this.documentOverlayCache.getOverlays(e,r).next((e=>{e.forEach(((e,n)=>{t.set(e,n)}))}))}computeViews(e,t,n,r){let i=Lh();const s=Bh(),a=Bh();return t.forEach(((e,t)=>{const a=n.get(t.key);r.has(t.key)&&(void 0===a||a.mutation instanceof vd)?i=i.insert(t.key,t):void 0!==a?(s.set(t.key,a.mutation.getFieldMask()),pd(a.mutation,t,a.mutation.getFieldMask(),Ou.now())):s.set(t.key,vc.empty())})),this.recalculateAndSaveOverlays(e,i).next((e=>(e.forEach(((e,t)=>s.set(e,t))),t.forEach(((e,t)=>{var n;return a.set(e,new sf(t,null!==(n=s.get(e))&&void 0!==n?n:null))})),a)))}recalculateAndSaveOverlays(e,t){const n=Bh();let r=new fc(((e,t)=>e-t)),i=Hh();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((e=>{for(const i of e)i.keys().forEach((e=>{const s=t.get(e);if(null===s)return;let a=n.get(e)||vc.empty();a=i.applyToLocalView(s,a),n.set(e,a);const o=(r.get(i.batchId)||Hh()).add(e);r=r.insert(i.batchId,o)}))})).next((()=>{const s=[],a=r.getReverseIterator();for(;a.hasNext();){const r=a.getNext(),o=r.key,l=r.value,u=Vh();l.forEach((e=>{if(!i.has(e)){const r=dd(t.get(e),n.get(e));null!==r&&u.set(e,r),i=i.add(e)}})),s.push(this.documentOverlayCache.saveOverlays(e,o,u))}return Gu.waitFor(s)})).next((()=>n))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((t=>this.recalculateAndSaveOverlays(e,t)))}getDocumentsMatchingQuery(e,t,n,r){return function(e){return Fu.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):Eh(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n,r):this.getDocumentsMatchingCollectionQuery(e,t,n,r)}getNextDocuments(e,t,n,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next((i=>{const s=r-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-i.size):Gu.resolve(Uh());let a=-1,o=i;return s.next((t=>Gu.forEach(t,((t,n)=>(a<n.largestBatchId&&(a=n.largestBatchId),i.get(t)?Gu.resolve():this.remoteDocumentCache.getEntry(e,t).next((e=>{o=o.insert(t,e)}))))).next((()=>this.populateOverlays(e,t,i))).next((()=>this.computeViews(e,o,t,Hh()))).next((e=>({batchId:a,changes:Fh(e)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Fu(t)).next((e=>{let t=jh();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}getDocumentsMatchingCollectionGroupQuery(e,t,n,r){const i=t.collectionGroup;let s=jh();return this.indexManager.getCollectionParents(e,i).next((a=>Gu.forEach(a,(a=>{const o=function(e,t){return new vh(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,a.child(i));return this.getDocumentsMatchingCollectionQuery(e,o,n,r).next((e=>{e.forEach(((e,t)=>{s=s.insert(e,t)}))}))})).next((()=>s))))}getDocumentsMatchingCollectionQuery(e,t,n,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next((s=>(i=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,i,r)))).next((e=>{i.forEach(((t,n)=>{const r=n.getKey();null===e.get(r)&&(e=e.insert(r,qc.newInvalidDocument(r)))}));let n=jh();return e.forEach(((e,r)=>{const s=i.get(e);void 0!==s&&pd(s.mutation,r,vc.empty(),Ou.now()),Ah(t,r)&&(n=n.insert(e,r))})),n}))}}class of{constructor(e){this.serializer=e,this.cr=new Map,this.lr=new Map}getBundleMetadata(e,t){return Gu.resolve(this.cr.get(t))}saveBundleMetadata(e,t){return this.cr.set(t.id,function(e){return{id:e.id,version:e.version,createTime:Ld(e.createTime)}}(t)),Gu.resolve()}getNamedQuery(e,t){return Gu.resolve(this.lr.get(t))}saveNamedQuery(e,t){return this.lr.set(t.name,function(e){return{name:e.name,query:$d(e.bundledQuery),readTime:Ld(e.readTime)}}(t)),Gu.resolve()}}class lf{constructor(){this.overlays=new fc(Fu.comparator),this.hr=new Map}getOverlay(e,t){return Gu.resolve(this.overlays.get(t))}getOverlays(e,t){const n=Uh();return Gu.forEach(t,(t=>this.getOverlay(e,t).next((e=>{null!==e&&n.set(t,e)})))).next((()=>n))}saveOverlays(e,t,n){return n.forEach(((n,r)=>{this.ht(e,t,r)})),Gu.resolve()}removeOverlaysForBatchId(e,t,n){const r=this.hr.get(n);return void 0!==r&&(r.forEach((e=>this.overlays=this.overlays.remove(e))),this.hr.delete(n)),Gu.resolve()}getOverlaysForCollection(e,t,n){const r=Uh(),i=t.length+1,s=new Fu(t.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){const e=a.getNext().value,s=e.getKey();if(!t.isPrefixOf(s.path))break;s.path.length===i&&e.largestBatchId>n&&r.set(e.getKey(),e)}return Gu.resolve(r)}getOverlaysForCollectionGroup(e,t,n,r){let i=new fc(((e,t)=>e-t));const s=this.overlays.getIterator();for(;s.hasNext();){const e=s.getNext().value;if(e.getKey().getCollectionGroup()===t&&e.largestBatchId>n){let t=i.get(e.largestBatchId);null===t&&(t=Uh(),i=i.insert(e.largestBatchId,t)),t.set(e.getKey(),e)}}const a=Uh(),o=i.getIterator();for(;o.hasNext()&&(o.getNext().value.forEach(((e,t)=>a.set(e,t))),!(a.size()>=r)););return Gu.resolve(a)}ht(e,t,n){const r=this.overlays.get(n.key);if(null!==r){const e=this.hr.get(r.largestBatchId).delete(n.key);this.hr.set(r.largestBatchId,e)}this.overlays=this.overlays.insert(n.key,new Id(t,n));let i=this.hr.get(t);void 0===i&&(i=Hh(),this.hr.set(t,i)),this.hr.set(t,i.add(n.key))}}class uf{constructor(){this.Pr=new gc(cf.Ir),this.Tr=new gc(cf.Er)}isEmpty(){return this.Pr.isEmpty()}addReference(e,t){const n=new cf(e,t);this.Pr=this.Pr.add(n),this.Tr=this.Tr.add(n)}dr(e,t){e.forEach((e=>this.addReference(e,t)))}removeReference(e,t){this.Ar(new cf(e,t))}Rr(e,t){e.forEach((e=>this.removeReference(e,t)))}Vr(e){const t=new Fu(new Lu([])),n=new cf(t,e),r=new cf(t,e+1),i=[];return this.Tr.forEachInRange([n,r],(e=>{this.Ar(e),i.push(e.key)})),i}mr(){this.Pr.forEach((e=>this.Ar(e)))}Ar(e){this.Pr=this.Pr.delete(e),this.Tr=this.Tr.delete(e)}gr(e){const t=new Fu(new Lu([])),n=new cf(t,e),r=new cf(t,e+1);let i=Hh();return this.Tr.forEachInRange([n,r],(e=>{i=i.add(e.key)})),i}containsKey(e){const t=new cf(e,0),n=this.Pr.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}class cf{constructor(e,t){this.key=e,this.pr=t}static Ir(e,t){return Fu.comparator(e.key,t.key)||Au(e.pr,t.pr)}static Er(e,t){return Au(e.pr,t.pr)||Fu.comparator(e.key,t.key)}}class hf{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.yr=1,this.wr=new gc(cf.Ir)}checkEmpty(e){return Gu.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,n,r){const i=this.yr;this.yr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new Sd(i,t,n,r);this.mutationQueue.push(s);for(const a of r)this.wr=this.wr.add(new cf(a.key,i)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return Gu.resolve(s)}lookupMutationBatch(e,t){return Gu.resolve(this.Sr(t))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=this.br(n),i=r<0?0:r;return Gu.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return Gu.resolve(0===this.mutationQueue.length?-1:this.yr-1)}getAllMutationBatches(e){return Gu.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new cf(t,0),r=new cf(t,Number.POSITIVE_INFINITY),i=[];return this.wr.forEachInRange([n,r],(e=>{const t=this.Sr(e.pr);i.push(t)})),Gu.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new gc(Au);return t.forEach((e=>{const t=new cf(e,0),r=new cf(e,Number.POSITIVE_INFINITY);this.wr.forEachInRange([t,r],(e=>{n=n.add(e.pr)}))})),Gu.resolve(this.Dr(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1;let i=n;Fu.isDocumentKey(i)||(i=i.child(""));const s=new cf(new Fu(i),0);let a=new gc(Au);return this.wr.forEachWhile((e=>{const t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(a=a.add(e.pr)),!0)}),s),Gu.resolve(this.Dr(a))}Dr(e){const t=[];return e.forEach((e=>{const n=this.Sr(e);null!==n&&t.push(n)})),t}removeMutationBatch(e,t){mu(0===this.Cr(t.batchId,"removed")),this.mutationQueue.shift();let n=this.wr;return Gu.forEach(t.mutations,(r=>{const i=new cf(r.key,t.batchId);return n=n.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)})).next((()=>{this.wr=n}))}Mn(e){}containsKey(e,t){const n=new cf(t,0),r=this.wr.firstAfterOrEqual(n);return Gu.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,Gu.resolve()}Cr(e,t){return this.br(e)}br(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Sr(e){const t=this.br(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class df{constructor(e){this.vr=e,this.docs=new fc(Fu.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const n=t.key,r=this.docs.get(n),i=r?r.size:0,s=this.vr(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:s}),this.size+=s-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return Gu.resolve(n?n.document.mutableCopy():qc.newInvalidDocument(t))}getEntries(e,t){let n=Lh();return t.forEach((e=>{const t=this.docs.get(e);n=n.insert(e,t?t.document.mutableCopy():qc.newInvalidDocument(e))})),Gu.resolve(n)}getDocumentsMatchingQuery(e,t,n,r){let i=Lh();const s=t.path,a=new Fu(s.child("")),o=this.docs.getIteratorFrom(a);for(;o.hasNext();){const{key:e,value:{document:a}}=o.getNext();if(!s.isPrefixOf(e.path))break;e.path.length>s.length+1||Ku(Bu(a),n)<=0||(r.has(a.key)||Ah(t,a))&&(i=i.insert(a.key,a.mutableCopy()))}return Gu.resolve(i)}getAllFromCollectionGroup(e,t,n,r){pu()}Fr(e,t){return Gu.forEach(this.docs,(e=>t(e)))}newChangeBuffer(e){return new ff(this)}getSize(e){return Gu.resolve(this.size)}}class ff extends rf{constructor(e){super(),this.ar=e}applyChanges(e){const t=[];return this.changes.forEach(((n,r)=>{r.isValidDocument()?t.push(this.ar.addEntry(e,r)):this.ar.removeEntry(n)})),Gu.waitFor(t)}getFromCache(e,t){return this.ar.getEntry(e,t)}getAllFromCache(e,t){return this.ar.getEntries(e,t)}}class pf{constructor(e){this.persistence=e,this.Mr=new Dh((e=>gh(e)),yh),this.lastRemoteSnapshotVersion=Du.min(),this.highestTargetId=0,this.Or=0,this.Nr=new uf,this.targetCount=0,this.Br=nf.Nn()}forEachTarget(e,t){return this.Mr.forEach(((e,n)=>t(n))),Gu.resolve()}getLastRemoteSnapshotVersion(e){return Gu.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Gu.resolve(this.Or)}allocateTargetId(e){return this.highestTargetId=this.Br.next(),Gu.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.Or&&(this.Or=t),Gu.resolve()}qn(e){this.Mr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Br=new nf(t),this.highestTargetId=t),e.sequenceNumber>this.Or&&(this.Or=e.sequenceNumber)}addTargetData(e,t){return this.qn(t),this.targetCount+=1,Gu.resolve()}updateTargetData(e,t){return this.qn(t),Gu.resolve()}removeTargetData(e,t){return this.Mr.delete(t.target),this.Nr.Vr(t.targetId),this.targetCount-=1,Gu.resolve()}removeTargets(e,t,n){let r=0;const i=[];return this.Mr.forEach(((s,a)=>{a.sequenceNumber<=t&&null===n.get(a.targetId)&&(this.Mr.delete(s),i.push(this.removeMatchingKeysForTargetId(e,a.targetId)),r++)})),Gu.waitFor(i).next((()=>r))}getTargetCount(e){return Gu.resolve(this.targetCount)}getTargetData(e,t){const n=this.Mr.get(t)||null;return Gu.resolve(n)}addMatchingKeys(e,t,n){return this.Nr.dr(t,n),Gu.resolve()}removeMatchingKeys(e,t,n){this.Nr.Rr(t,n);const r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((t=>{i.push(r.markPotentiallyOrphaned(e,t))})),Gu.waitFor(i)}removeMatchingKeysForTargetId(e,t){return this.Nr.Vr(t),Gu.resolve()}getMatchingKeysForTargetId(e,t){const n=this.Nr.gr(t);return Gu.resolve(n)}containsKey(e,t){return Gu.resolve(this.Nr.containsKey(t))}}class mf{constructor(e,t){this.Lr={},this.overlays={},this.kr=new rc(0),this.qr=!1,this.qr=!0,this.referenceDelegate=e(this),this.Qr=new pf(this),this.indexManager=new Zd,this.remoteDocumentCache=function(e){return new df(e)}((e=>this.referenceDelegate.Kr(e))),this.serializer=new Jd(t),this.$r=new of(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.qr=!1,Promise.resolve()}get started(){return this.qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new lf,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this.Lr[e.toKey()];return n||(n=new hf(t,this.referenceDelegate),this.Lr[e.toKey()]=n),n}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.$r}runTransaction(e,t,n){cu("MemoryPersistence","Starting transaction:",e);const r=new gf(this.kr.next());return this.referenceDelegate.Ur(),n(r).next((e=>this.referenceDelegate.Wr(r).next((()=>e)))).toPromise().then((e=>(r.raiseOnCommittedEvent(),e)))}Gr(e,t){return Gu.or(Object.values(this.Lr).map((n=>()=>n.containsKey(e,t))))}}class gf extends qu{constructor(e){super(),this.currentSequenceNumber=e}}class yf{constructor(e){this.persistence=e,this.zr=new uf,this.jr=null}static Hr(e){return new yf(e)}get Jr(){if(this.jr)return this.jr;throw pu()}addReference(e,t,n){return this.zr.addReference(n,t),this.Jr.delete(n.toString()),Gu.resolve()}removeReference(e,t,n){return this.zr.removeReference(n,t),this.Jr.add(n.toString()),Gu.resolve()}markPotentiallyOrphaned(e,t){return this.Jr.add(t.toString()),Gu.resolve()}removeTarget(e,t){this.zr.Vr(t.targetId).forEach((e=>this.Jr.add(e.toString())));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next((e=>{e.forEach((e=>this.Jr.add(e.toString())))})).next((()=>n.removeTargetData(e,t)))}Ur(){this.jr=new Set}Wr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Gu.forEach(this.Jr,(n=>{const r=Fu.fromPath(n);return this.Yr(e,r).next((e=>{e||t.removeEntry(r,Du.min())}))})).next((()=>(this.jr=null,t.apply(e))))}updateLimboDocument(e,t){return this.Yr(e,t).next((e=>{e?this.Jr.delete(t.toString()):this.Jr.add(t.toString())}))}Kr(e){return 0}Yr(e,t){return Gu.or([()=>Gu.resolve(this.zr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Gr(e,t)])}}class vf{constructor(e,t,n,r){this.targetId=e,this.fromCache=t,this.qi=n,this.Qi=r}static Ki(e,t){let n=Hh(),r=Hh();for(const i of t.docChanges)switch(i.type){case 0:n=n.add(i.doc.key);break;case 1:r=r.add(i.doc.key)}return new vf(e,t.fromCache,n,r)}}class bf{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class wf{constructor(){this.$i=!1,this.Ui=!1,this.Wi=100,this.Gi=Tr()?8:Xu.v(Sr())>0?6:4}initialize(e,t){this.zi=e,this.indexManager=t,this.$i=!0}getDocumentsMatchingQuery(e,t,n,r){const i={result:null};return this.ji(e,t).next((e=>{i.result=e})).next((()=>{if(!i.result)return this.Hi(e,t,r,n).next((e=>{i.result=e}))})).next((()=>{if(i.result)return;const n=new bf;return this.Ji(e,t,n).next((r=>{if(i.result=r,this.Ui)return this.Yi(e,t,n,r.size)}))})).next((()=>i.result))}Yi(e,t,n,r){return n.documentReadCount<this.Wi?(uu()<=Kr.DEBUG&&cu("QueryEngine","SDK will not create cache indexes for query:",Nh(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Wi,"documents"),Gu.resolve()):(uu()<=Kr.DEBUG&&cu("QueryEngine","Query:",Nh(t),"scans",n.documentReadCount,"local documents and returns",r,"documents as results."),n.documentReadCount>this.Gi*r?(uu()<=Kr.DEBUG&&cu("QueryEngine","The SDK decides to create cache indexes for query:",Nh(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Sh(t))):Gu.resolve())}ji(e,t){if(_h(t))return Gu.resolve(null);let n=Sh(t);return this.indexManager.getIndexType(e,n).next((r=>0===r?null:(null!==t.limit&&1===r&&(t=Ih(t,null,"F"),n=Sh(t)),this.indexManager.getDocumentsMatchingTarget(e,n).next((r=>{const i=Hh(...r);return this.zi.getDocuments(e,i).next((r=>this.indexManager.getMinOffset(e,n).next((n=>{const s=this.Zi(t,r);return this.Xi(t,s,i,n.readTime)?this.ji(e,Ih(t,null,"F")):this.es(e,s,t,n)}))))})))))}Hi(e,t,n,r){return _h(t)||r.isEqual(Du.min())?Gu.resolve(null):this.zi.getDocuments(e,n).next((i=>{const s=this.Zi(t,i);return this.Xi(t,s,n,r)?Gu.resolve(null):(uu()<=Kr.DEBUG&&cu("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Nh(t)),this.es(e,s,t,Vu(r,-1)).next((e=>e)))}))}Zi(e,t){let n=new gc(Ph(e));return t.forEach(((t,r)=>{Ah(e,r)&&(n=n.add(r))})),n}Xi(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;const i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}Ji(e,t,n){return uu()<=Kr.DEBUG&&cu("QueryEngine","Using full collection scan to execute query:",Nh(t)),this.zi.getDocumentsMatchingQuery(e,t,zu.min(),n)}es(e,t,n,r){return this.zi.getDocumentsMatchingQuery(e,n,r).next((e=>(t.forEach((t=>{e=e.insert(t.key,t)})),e)))}}class _f{constructor(e,t,n,r){this.persistence=e,this.ts=t,this.serializer=r,this.ns=new fc(Au),this.rs=new Dh((e=>gh(e)),yh),this.ss=new Map,this.os=e.getRemoteDocumentCache(),this.Qr=e.getTargetCache(),this.$r=e.getBundleCache(),this._s(n)}_s(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new af(this.os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.os.setIndexManager(this.indexManager),this.ts.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.ns)))}}function Ef(e,t,n,r){return new _f(e,t,n,r)}async function kf(e,t){const n=gu(e);return await n.persistence.runTransaction("Handle user change","readonly",(e=>{let r;return n.mutationQueue.getAllMutationBatches(e).next((i=>(r=i,n._s(t),n.mutationQueue.getAllMutationBatches(e)))).next((t=>{const i=[],s=[];let a=Hh();for(const e of r){i.push(e.batchId);for(const t of e.mutations)a=a.add(t.key)}for(const e of t){s.push(e.batchId);for(const t of e.mutations)a=a.add(t.key)}return n.localDocuments.getDocuments(e,a).next((e=>({us:e,removedBatchIds:i,addedBatchIds:s})))}))}))}function Sf(e){const t=gu(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(e=>t.Qr.getLastRemoteSnapshotVersion(e)))}function Tf(e,t){const n=gu(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(e=>(void 0===t&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t))))}class If{constructor(){this.activeTargetIds=Wh()}As(e){this.activeTargetIds=this.activeTargetIds.add(e)}Rs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}ds(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Cf{constructor(){this.no=new If,this.ro={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e){return this.no.As(e),this.ro[e]||"not-current"}updateQueryState(e,t,n){this.ro[e]=t}removeLocalQueryTarget(e){this.no.Rs(e)}isLocalQueryTarget(e){return this.no.activeTargetIds.has(e)}clearQueryState(e){delete this.ro[e]}getAllActiveQueryTargets(){return this.no.activeTargetIds}isActiveQueryTarget(e){return this.no.activeTargetIds.has(e)}start(){return this.no=new If,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class xf{io(e){}shutdown(){}}class Nf{constructor(){this.so=()=>this.oo(),this._o=()=>this.ao(),this.uo=[],this.co()}io(e){this.uo.push(e)}shutdown(){window.removeEventListener("online",this.so),window.removeEventListener("offline",this._o)}co(){window.addEventListener("online",this.so),window.addEventListener("offline",this._o)}oo(){cu("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.uo)e(0)}ao(){cu("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.uo)e(1)}static D(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let Af=null;function Pf(){return null===Af?Af=268435456+Math.round(2147483648*Math.random()):Af++,"0x"+Af.toString(16)}const Of={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Df{constructor(e){this.lo=e.lo,this.ho=e.ho}Po(e){this.Io=e}To(e){this.Eo=e}onMessage(e){this.Ao=e}close(){this.ho()}send(e){this.lo(e)}Ro(){this.Io()}Vo(e){this.Eo(e)}mo(e){this.Ao(e)}}const Rf="WebChannelConnection";class Lf extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.fo=t+"://"+e.host,this.po="projects/".concat(n,"/databases/").concat(r),this.yo="(default)"===this.databaseId.database?"project_id=".concat(n):"project_id=".concat(n,"&database_id=").concat(r)}get wo(){return!1}So(e,t,n,r,i){const s=Pf(),a=this.bo(e,t.toUriEncodedString());cu("RestConnection","Sending RPC '".concat(e,"' ").concat(s,":"),a,n);const o={"google-cloud-resource-prefix":this.po,"x-goog-request-params":this.yo};return this.Do(o,r,i),this.Co(e,a,o,n).then((t=>(cu("RestConnection","Received RPC '".concat(e,"' ").concat(s,": "),t),t)),(t=>{throw du("RestConnection","RPC '".concat(e,"' ").concat(s," failed with error: "),t,"url: ",a,"request:",n),t}))}vo(e,t,n,r,i,s){return this.So(e,t,n,r,i)}Do(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+ou,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((t,n)=>e[n]=t)),n&&n.headers.forEach(((t,n)=>e[n]=t))}bo(e,t){const n=Of[e];return"".concat(this.fo,"/v1/").concat(t,":").concat(n)}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Co(e,t,n,r){const i=Pf();return new Promise(((s,a)=>{const o=new ru;o.setWithCredentials(!0),o.listenOnce(Zl.COMPLETE,(()=>{try{switch(o.getLastErrorCode()){case Yl.NO_ERROR:const t=o.getResponseJson();cu(Rf,"XHR for RPC '".concat(e,"' ").concat(i," received:"),JSON.stringify(t)),s(t);break;case Yl.TIMEOUT:cu(Rf,"RPC '".concat(e,"' ").concat(i," timed out")),a(new vu(yu.DEADLINE_EXCEEDED,"Request time out"));break;case Yl.HTTP_ERROR:const n=o.getStatus();if(cu(Rf,"RPC '".concat(e,"' ").concat(i," failed with status:"),n,"response text:",o.getResponseText()),n>0){let e=o.getResponseJson();Array.isArray(e)&&(e=e[0]);const t=null==e?void 0:e.error;if(t&&t.status&&t.message){const e=function(e){const t=e.toLowerCase().replace(/_/g,"-");return Object.values(yu).indexOf(t)>=0?t:yu.UNKNOWN}(t.status);a(new vu(e,t.message))}else a(new vu(yu.UNKNOWN,"Server responded with status "+o.getStatus()))}else a(new vu(yu.UNAVAILABLE,"Connection failed."));break;default:pu()}}finally{cu(Rf,"RPC '".concat(e,"' ").concat(i," completed."))}}));const l=JSON.stringify(r);cu(Rf,"RPC '".concat(e,"' ").concat(i," sending request:"),r),o.send(t,"POST",l,n,15)}))}Fo(e,t,n){const r=Pf(),i=[this.fo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=Jl(),a=$l(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;void 0!==l&&(o.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(o.useFetchStreams=!0),this.Do(o.initMessageHeaders,t,n),o.encodeInitMessageHeaders=!0;const u=i.join("");cu(Rf,"Creating RPC '".concat(e,"' stream ").concat(r,": ").concat(u),o);const c=s.createWebChannel(u,o);let h=!1,d=!1;const f=new Df({lo:t=>{d?cu(Rf,"Not sending because RPC '".concat(e,"' stream ").concat(r," is closed:"),t):(h||(cu(Rf,"Opening RPC '".concat(e,"' stream ").concat(r," transport.")),c.open(),h=!0),cu(Rf,"RPC '".concat(e,"' stream ").concat(r," sending:"),t),c.send(t))},ho:()=>c.close()}),p=(e,t,n)=>{e.listen(t,(e=>{try{n(e)}catch(e){setTimeout((()=>{throw e}),0)}}))};return p(c,nu.EventType.OPEN,(()=>{d||cu(Rf,"RPC '".concat(e,"' stream ").concat(r," transport opened."))})),p(c,nu.EventType.CLOSE,(()=>{d||(d=!0,cu(Rf,"RPC '".concat(e,"' stream ").concat(r," transport closed")),f.Vo())})),p(c,nu.EventType.ERROR,(t=>{d||(d=!0,du(Rf,"RPC '".concat(e,"' stream ").concat(r," transport errored:"),t),f.Vo(new vu(yu.UNAVAILABLE,"The operation could not be completed")))})),p(c,nu.EventType.MESSAGE,(t=>{var n;if(!d){const i=t.data[0];mu(!!i);const s=i,a=s.error||(null===(n=s[0])||void 0===n?void 0:n.error);if(a){cu(Rf,"RPC '".concat(e,"' stream ").concat(r," received error:"),a);const t=a.status;let n=function(e){const t=Cd[e];if(void 0!==t)return Ad(t)}(t),i=a.message;void 0===n&&(n=yu.INTERNAL,i="Unknown error status: "+t+" with message "+a.message),d=!0,f.Vo(new vu(n,i)),c.close()}else cu(Rf,"RPC '".concat(e,"' stream ").concat(r," received:"),i),f.mo(i)}})),p(a,eu.STAT_EVENT,(t=>{t.stat===tu.PROXY?cu(Rf,"RPC '".concat(e,"' stream ").concat(r," detected buffering proxy")):t.stat===tu.NOPROXY&&cu(Rf,"RPC '".concat(e,"' stream ").concat(r," detected no buffering proxy"))})),setTimeout((()=>{f.Ro()}),0),f}}function Mf(){return"undefined"!=typeof document?document:null}function jf(e){return new Pd(e,!0)}class Ff{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;this.oi=e,this.timerId=t,this.Mo=n,this.xo=r,this.Oo=i,this.No=0,this.Bo=null,this.Lo=Date.now(),this.reset()}reset(){this.No=0}ko(){this.No=this.Oo}qo(e){this.cancel();const t=Math.floor(this.No+this.Qo()),n=Math.max(0,Date.now()-this.Lo),r=Math.max(0,t-n);r>0&&cu("ExponentialBackoff","Backing off for ".concat(r," ms (base delay: ").concat(this.No," ms, delay with jitter: ").concat(t," ms, last attempt: ").concat(n," ms ago)")),this.Bo=this.oi.enqueueAfterDelay(this.timerId,r,(()=>(this.Lo=Date.now(),e()))),this.No*=this.xo,this.No<this.Mo&&(this.No=this.Mo),this.No>this.Oo&&(this.No=this.Oo)}Ko(){null!==this.Bo&&(this.Bo.skipDelay(),this.Bo=null)}cancel(){null!==this.Bo&&(this.Bo.cancel(),this.Bo=null)}Qo(){return(Math.random()-.5)*this.No}}class Uf{constructor(e,t,n,r,i,s,a,o){this.oi=e,this.$o=n,this.Uo=r,this.connection=i,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=o,this.state=0,this.Wo=0,this.Go=null,this.zo=null,this.stream=null,this.jo=new Ff(e,t)}Ho(){return 1===this.state||5===this.state||this.Jo()}Jo(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Yo()}async stop(){this.Ho()&&await this.close(0)}Zo(){this.state=0,this.jo.reset()}Xo(){this.Jo()&&null===this.Go&&(this.Go=this.oi.enqueueAfterDelay(this.$o,6e4,(()=>this.e_())))}t_(e){this.n_(),this.stream.send(e)}async e_(){if(this.Jo())return this.close(0)}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}r_(){this.zo&&(this.zo.cancel(),this.zo=null)}async close(e,t){this.n_(),this.r_(),this.jo.cancel(),this.Wo++,4!==e?this.jo.reset():t&&t.code===yu.RESOURCE_EXHAUSTED?(hu(t.toString()),hu("Using maximum backoff delay to prevent overloading the backend."),this.jo.ko()):t&&t.code===yu.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.i_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.To(t)}i_(){}auth(){this.state=1;const e=this.s_(this.Wo),t=this.Wo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((e=>{let[n,r]=e;this.Wo===t&&this.o_(n,r)}),(t=>{e((()=>{const e=new vu(yu.UNKNOWN,"Fetching auth token failed: "+t.message);return this.__(e)}))}))}o_(e,t){const n=this.s_(this.Wo);this.stream=this.a_(e,t),this.stream.Po((()=>{n((()=>(this.state=2,this.zo=this.oi.enqueueAfterDelay(this.Uo,1e4,(()=>(this.Jo()&&(this.state=3),Promise.resolve()))),this.listener.Po())))})),this.stream.To((e=>{n((()=>this.__(e)))})),this.stream.onMessage((e=>{n((()=>this.onMessage(e)))}))}Yo(){this.state=5,this.jo.qo((async()=>{this.state=0,this.start()}))}__(e){return cu("PersistentStream","close with error: ".concat(e)),this.stream=null,this.close(4,e)}s_(e){return t=>{this.oi.enqueueAndForget((()=>this.Wo===e?t():(cu("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class Vf extends Uf{constructor(e,t,n,r,i,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,r,s),this.serializer=i,this.h_=!1}get P_(){return this.h_}start(){this.h_=!1,this.lastStreamToken=void 0,super.start()}i_(){this.h_&&this.I_([])}a_(e,t){return this.connection.Fo("Write",e,t)}onMessage(e){if(mu(!!e.streamToken),this.lastStreamToken=e.streamToken,this.h_){this.jo.reset();const t=function(e,t){return e&&e.length>0?(mu(void 0!==t),e.map((e=>function(e,t){let n=e.updateTime?Ld(e.updateTime):Ld(t);return n.isEqual(Du.min())&&(n=Ld(t)),new ld(n,e.transformResults||[])}(e,t)))):[]}(e.writeResults,e.commitTime),n=Ld(e.commitTime);return this.listener.T_(n,t)}return mu(!e.writeResults||0===e.writeResults.length),this.h_=!0,this.listener.E_()}d_(){const e={};e.database=Bd(this.serializer),this.t_(e)}I_(e){const t={streamToken:this.lastStreamToken,writes:e.map((e=>Hd(this.serializer,e)))};this.t_(t)}}class Bf extends class{}{constructor(e,t,n,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=n,this.serializer=r,this.A_=!1}R_(){if(this.A_)throw new vu(yu.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,t,n,r){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((i=>{let[s,a]=i;return this.connection.So(e,jd(t,n),r,s,a)})).catch((e=>{throw"FirebaseError"===e.name?(e.code===yu.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new vu(yu.UNKNOWN,e.toString())}))}vo(e,t,n,r,i){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((s=>{let[a,o]=s;return this.connection.vo(e,jd(t,n),r,a,o,i)})).catch((e=>{throw"FirebaseError"===e.name?(e.code===yu.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new vu(yu.UNKNOWN,e.toString())}))}terminate(){this.A_=!0,this.connection.terminate()}}class zf{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.m_=0,this.f_=null,this.g_=!0}p_(){0===this.m_&&(this.y_("Unknown"),this.f_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this.f_=null,this.w_("Backend didn't respond within 10 seconds."),this.y_("Offline"),Promise.resolve()))))}S_(e){"Online"===this.state?this.y_("Unknown"):(this.m_++,this.m_>=1&&(this.b_(),this.w_("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.y_("Offline")))}set(e){this.b_(),this.m_=0,"Online"===e&&(this.g_=!1),this.y_(e)}y_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}w_(e){const t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.g_?(hu(t),this.g_=!1):cu("OnlineStateTracker",t)}b_(){null!==this.f_&&(this.f_.cancel(),this.f_=null)}}class Kf{constructor(e,t,n,r,i){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.D_=[],this.C_=new Map,this.v_=new Set,this.F_=[],this.M_=i,this.M_.io((e=>{n.enqueueAndForget((async()=>{Wf(this)&&(cu("RemoteStore","Restarting streams for network reachability change."),await async function(e){const t=gu(e);t.v_.add(4),await qf(t),t.x_.set("Unknown"),t.v_.delete(4),await Hf(t)}(this))}))})),this.x_=new zf(n,r)}}async function Hf(e){if(Wf(e))for(const t of e.F_)await t(!0)}async function qf(e){for(const t of e.F_)await t(!1)}function Wf(e){return 0===gu(e).v_.size}async function Gf(e,t,n){if(!Yu(t))throw t;e.v_.add(1),await qf(e),e.x_.set("Offline"),n||(n=()=>Sf(e.localStore)),e.asyncQueue.enqueueRetryable((async()=>{cu("RemoteStore","Retrying IndexedDB access"),await n(),e.v_.delete(1),await Hf(e)}))}function Qf(e,t){return t().catch((n=>Gf(e,n,t)))}async function Xf(e){const t=gu(e),n=ap(t);let r=t.D_.length>0?t.D_[t.D_.length-1].batchId:-1;for(;Jf(t);)try{const e=await Tf(t.localStore,r);if(null===e){0===t.D_.length&&n.Xo();break}r=e.batchId,$f(t,e)}catch(e){await Gf(t,e)}Yf(t)&&Zf(t)}function Jf(e){return Wf(e)&&e.D_.length<10}function $f(e,t){e.D_.push(t);const n=ap(e);n.Jo()&&n.P_&&n.I_(t.mutations)}function Yf(e){return Wf(e)&&!ap(e).Ho()&&e.D_.length>0}function Zf(e){ap(e).start()}async function ep(e){ap(e).d_()}async function tp(e){const t=ap(e);for(const n of e.D_)t.I_(n.mutations)}async function np(e,t,n){const r=e.D_.shift(),i=Td.from(r,t,n);await Qf(e,(()=>e.remoteSyncer.applySuccessfulWrite(i))),await Xf(e)}async function rp(e,t){t&&ap(e).P_&&await async function(e,t){if(function(e){return Nd(e)&&e!==yu.ABORTED}(t.code)){const n=e.D_.shift();ap(e).Zo(),await Qf(e,(()=>e.remoteSyncer.rejectFailedWrite(n.batchId,t))),await Xf(e)}}(e,t),Yf(e)&&Zf(e)}async function ip(e,t){const n=gu(e);n.asyncQueue.verifyOperationInProgress(),cu("RemoteStore","RemoteStore received new credentials");const r=Wf(n);n.v_.add(3),await qf(n),r&&n.x_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.v_.delete(3),await Hf(n)}async function sp(e,t){const n=gu(e);t?(n.v_.delete(2),await Hf(n)):t||(n.v_.add(2),await qf(n),n.x_.set("Unknown"))}function ap(e){return e.B_||(e.B_=function(e,t,n){const r=gu(e);return r.R_(),new Vf(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{Po:ep.bind(null,e),To:rp.bind(null,e),E_:tp.bind(null,e),T_:np.bind(null,e)}),e.F_.push((async t=>{t?(e.B_.Zo(),await Xf(e)):(await e.B_.stop(),e.D_.length>0&&(cu("RemoteStore","Stopping write stream with ".concat(e.D_.length," pending writes")),e.D_=[]))}))),e.B_}class op{constructor(e,t,n,r,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new bu,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((e=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,n,r,i){const s=Date.now()+n,a=new op(e,t,s,r,i);return a.start(n),a}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new vu(yu.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function lp(e,t){if(hu("AsyncQueue","".concat(t,": ").concat(e)),Yu(e))return new vu(yu.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}class up{constructor(){this.queries=new Dh((e=>xh(e)),Ch),this.onlineState="Unknown",this.K_=new Set}}function cp(e){e.K_.forEach((e=>{e.next()}))}class hp{constructor(e,t,n,r,i,s){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=s,this.fa={},this.ga=new Dh((e=>xh(e)),Ch),this.pa=new Map,this.ya=new Set,this.wa=new fc(Fu.comparator),this.Sa=new Map,this.ba=new uf,this.Da={},this.Ca=new Map,this.va=nf.Bn(),this.onlineState="Unknown",this.Fa=void 0}get isPrimaryClient(){return!0===this.Fa}}function dp(e,t,n){const r=gu(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const e=[];r.ga.forEach(((n,r)=>{const i=r.view.U_(t);i.snapshot&&e.push(i.snapshot)})),function(e,t){const n=gu(e);n.onlineState=t;let r=!1;n.queries.forEach(((e,n)=>{for(const i of n.Q_)i.U_(t)&&(r=!0)})),r&&cp(n)}(r.eventManager,t),e.length&&r.fa.u_(e),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function fp(e,t){const n=gu(e),r=t.batch.batchId;try{const e=await function(e,t){const n=gu(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(e=>{const r=t.batch.keys(),i=n.os.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){const i=n.batch,s=i.keys();let a=Gu.resolve();return s.forEach((e=>{a=a.next((()=>r.getEntry(t,e))).next((t=>{const s=n.docVersions.get(e);mu(null!==s),t.version.compareTo(s)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),a.next((()=>e.mutationQueue.removeMutationBatch(t,i)))}(n,e,t,i).next((()=>i.apply(e))).next((()=>n.mutationQueue.performConsistencyCheck(e))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){let t=Hh();for(let n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t)))).next((()=>n.localDocuments.getDocuments(e,r)))}))}(n.localStore,t);gp(n,r,null),mp(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await yp(n,e)}catch(e){await Wu(e)}}async function pp(e,t,n){const r=gu(e);try{const e=await function(e,t){const n=gu(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(e=>{let r;return n.mutationQueue.lookupMutationBatch(e,t).next((t=>(mu(null!==t),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t)))).next((()=>n.mutationQueue.performConsistencyCheck(e))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r))).next((()=>n.localDocuments.getDocuments(e,r)))}))}(r.localStore,t);gp(r,t,n),mp(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await yp(r,e)}catch(n){await Wu(n)}}function mp(e,t){(e.Ca.get(t)||[]).forEach((e=>{e.resolve()})),e.Ca.delete(t)}function gp(e,t,n){const r=gu(e);let i=r.Da[r.currentUser.toKey()];if(i){const e=i.get(t);e&&(n?e.reject(n):e.resolve(),i=i.remove(t)),r.Da[r.currentUser.toKey()]=i}}async function yp(e,t,n){const r=gu(e),i=[],s=[],a=[];r.ga.isEmpty()||(r.ga.forEach(((e,o)=>{a.push(r.Ma(o,t,n).then((e=>{if((e||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(o.targetId,(null==e?void 0:e.fromCache)?"not-current":"current"),e){i.push(e);const t=vf.Ki(o.targetId,e);s.push(t)}})))})),await Promise.all(a),r.fa.u_(i),await async function(e,t){const n=gu(e);try{await n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(e=>Gu.forEach(t,(t=>Gu.forEach(t.qi,(r=>n.persistence.referenceDelegate.addReference(e,t.targetId,r))).next((()=>Gu.forEach(t.Qi,(r=>n.persistence.referenceDelegate.removeReference(e,t.targetId,r)))))))))}catch(e){if(!Yu(e))throw e;cu("LocalStore","Failed to update sequence numbers: "+e)}for(const r of t){const e=r.targetId;if(!r.fromCache){const t=n.ns.get(e),r=t.snapshotVersion,i=t.withLastLimboFreeSnapshotVersion(r);n.ns=n.ns.insert(e,i)}}}(r.localStore,s))}async function vp(e,t){const n=gu(e);if(!n.currentUser.isEqual(t)){cu("SyncEngine","User change. New user:",t.toKey());const e=await kf(n.localStore,t);n.currentUser=t,function(e,t){e.Ca.forEach((e=>{e.forEach((e=>{e.reject(new vu(yu.CANCELLED,t))}))})),e.Ca.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,e.removedBatchIds,e.addedBatchIds),await yp(n,e.us)}}function bp(e){const t=gu(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=fp.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=pp.bind(null,t),t}class wp{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=jf(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return Ef(this.persistence,new wf,e.initialUser,this.serializer)}createPersistence(e){return new mf(yf.Hr,this.serializer)}createSharedClientState(e){return new Cf}async terminate(){var e,t;null===(e=this.gcScheduler)||void 0===e||e.stop(),null===(t=this.indexBackfillerScheduler)||void 0===t||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class _p{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=e=>dp(this.syncEngine,e,1),this.remoteStore.remoteSyncer.handleCredentialChange=vp.bind(null,this.syncEngine),await sp(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new up}createDatastore(e){const t=jf(e.databaseInfo.databaseId),n=function(e){return new Lf(e)}(e.databaseInfo);return function(e,t,n,r){return new Bf(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return function(e,t,n,r,i){return new Kf(e,t,n,r,i)}(this.localStore,this.datastore,e.asyncQueue,(e=>dp(this.syncEngine,e,0)),Nf.D()?new Nf:new xf)}createSyncEngine(e,t){return function(e,t,n,r,i,s,a){const o=new hp(e,t,n,r,i,s);return a&&(o.Fa=!0),o}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e;await async function(e){const t=gu(e);cu("RemoteStore","RemoteStore shutting down."),t.v_.add(5),await qf(t),t.M_.shutdown(),t.x_.set("Unknown")}(this.remoteStore),null===(e=this.datastore)||void 0===e||e.terminate()}}class Ep{constructor(e,t,n,r){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=r,this.user=au.UNAUTHENTICATED,this.clientId=Nu.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(n,(async e=>{cu("FirestoreClient","Received user=",e.uid),await this.authCredentialListener(e),this.user=e})),this.appCheckCredentials.start(n,(e=>(cu("FirestoreClient","Received new app check token=",e),this.appCheckCredentialListener(e,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new vu(yu.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new bu;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(i){const n=lp(i,"Failed to shutdown persistence");e.reject(n)}})),e.promise}}async function kp(e,t){e.asyncQueue.verifyOperationInProgress(),cu("FirestoreClient","Initializing OfflineComponentProvider");const n=e.configuration;await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener((async e=>{r.isEqual(e)||(await kf(t.localStore,e),r=e)})),t.persistence.setDatabaseDeletedListener((()=>e.terminate())),e._offlineComponents=t}async function Sp(e,t){e.asyncQueue.verifyOperationInProgress();const n=await Ip(e);cu("FirestoreClient","Initializing OnlineComponentProvider"),await t.initialize(n,e.configuration),e.setCredentialChangeListener((e=>ip(t.remoteStore,e))),e.setAppCheckTokenChangeListener(((e,n)=>ip(t.remoteStore,n))),e._onlineComponents=t}function Tp(e){return"FirebaseError"===e.name?e.code===yu.FAILED_PRECONDITION||e.code===yu.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}async function Ip(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){cu("FirestoreClient","Using user provided OfflineComponentProvider");try{await kp(e,e._uninitializedComponentsProvider._offline)}catch(i){const n=i;if(!Tp(n))throw n;du("Error using user provided cache. Falling back to memory cache: "+n),await kp(e,new wp)}}else cu("FirestoreClient","Using default OfflineComponentProvider"),await kp(e,new wp);return e._offlineComponents}async function Cp(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(cu("FirestoreClient","Using user provided OnlineComponentProvider"),await Sp(e,e._uninitializedComponentsProvider._online)):(cu("FirestoreClient","Using default OnlineComponentProvider"),await Sp(e,new _p))),e._onlineComponents}function xp(e){return Cp(e).then((e=>e.syncEngine))}function Np(e){const t={};return void 0!==e.timeoutSeconds&&(t.timeoutSeconds=e.timeoutSeconds),t}const Ap=new Map;function Pp(e,t,n){if(!n)throw new vu(yu.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function Op(e){if(!Fu.isDocumentKey(e))throw new vu(yu.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function Dp(e){if(Fu.isDocumentKey(e))throw new vu(yu.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function Rp(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";{const t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}}return"function"==typeof e?"a function":pu()}function Lp(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new vu(yu.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Rp(e);throw new vu(yu.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}}return e}class Mp{constructor(e){var t,n;if(void 0===e.host){if(void 0!==e.ssl)throw new vu(yu.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new vu(yu.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function(e,t,n,r){if(!0===t&&!0===r)throw new vu(yu.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===e.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Np(null!==(n=e.experimentalLongPollingOptions)&&void 0!==n?n:{}),function(e){if(void 0!==e.timeoutSeconds){if(isNaN(e.timeoutSeconds))throw new vu(yu.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (must not be NaN)"));if(e.timeoutSeconds<5)throw new vu(yu.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (minimum allowed value is 5)"));if(e.timeoutSeconds>30)throw new vu(yu.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (maximum allowed value is 30)"))}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(e,t){return e.timeoutSeconds===t.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class jp{constructor(e,t,n,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=n,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Mp({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new vu(yu.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new vu(yu.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Mp(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new _u;switch(e.type){case"firstParty":return new Tu(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new vu(yu.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=Ap.get(e);t&&(cu("ComponentProvider","Removing Datastore"),Ap.delete(e),t.terminate())}(this),Promise.resolve()}}function Fp(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};var i;const s=(e=Lp(e,jp))._getSettings(),a="".concat(t,":").concat(n);if("firestore.googleapis.com"!==s.host&&s.host!==a&&du("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),e._setSettings(Object.assign(Object.assign({},s),{host:a,ssl:!1})),r.mockUserToken){let t,n;if("string"==typeof r.mockUserToken)t=r.mockUserToken,n=au.MOCK_USER;else{t=function(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[gr(JSON.stringify({alg:"none",type:"JWT"})),gr(JSON.stringify(s)),""].join(".")}(r.mockUserToken,null===(i=e._app)||void 0===i?void 0:i.options.projectId);const s=r.mockUserToken.sub||r.mockUserToken.user_id;if(!s)throw new vu(yu.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");n=new au(s)}e._authCredentials=new Eu(new wu(t,n))}}class Up{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new Up(this.firestore,e,this._query)}}class Vp{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Bp(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Vp(this.firestore,e,this._key)}}class Bp extends Up{constructor(e,t,n){super(e,t,wh(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Vp(this.firestore,null,new Fu(e))}withConverter(e){return new Bp(this.firestore,e,this._path)}}class zp{constructor(){this.Xa=Promise.resolve(),this.eu=[],this.tu=!1,this.nu=[],this.ru=null,this.iu=!1,this.su=!1,this.ou=[],this.jo=new Ff(this,"async_queue_retry"),this._u=()=>{const e=Mf();e&&cu("AsyncQueue","Visibility state changed to "+e.visibilityState),this.jo.Ko()};const e=Mf();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this._u)}get isShuttingDown(){return this.tu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.au(),this.uu(e)}enterRestrictedMode(e){if(!this.tu){this.tu=!0,this.su=e||!1;const t=Mf();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this._u)}}enqueue(e){if(this.au(),this.tu)return new Promise((()=>{}));const t=new bu;return this.uu((()=>this.tu&&this.su?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.eu.push(e),this.cu())))}async cu(){if(0!==this.eu.length){try{await this.eu[0](),this.eu.shift(),this.jo.reset()}catch(r){if(!Yu(r))throw r;cu("AsyncQueue","Operation failed with retryable error: "+r)}this.eu.length>0&&this.jo.qo((()=>this.cu()))}}uu(e){const t=this.Xa.then((()=>(this.iu=!0,e().catch((e=>{this.ru=e,this.iu=!1;const t=function(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw hu("INTERNAL UNHANDLED ERROR: ",t),e})).then((e=>(this.iu=!1,e))))));return this.Xa=t,t}enqueueAfterDelay(e,t,n){this.au(),this.ou.indexOf(e)>-1&&(t=0);const r=op.createAndSchedule(this,e,t,n,(e=>this.lu(e)));return this.nu.push(r),r}au(){this.ru&&pu()}verifyOperationInProgress(){}async hu(){let e;do{e=this.Xa,await e}while(e!==this.Xa)}Pu(e){for(const t of this.nu)if(t.timerId===e)return!0;return!1}Iu(e){return this.hu().then((()=>{this.nu.sort(((e,t)=>e.targetTimeMs-t.targetTimeMs));for(const t of this.nu)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.hu()}))}Tu(e){this.ou.push(e)}lu(e){const t=this.nu.indexOf(e);this.nu.splice(t,1)}}class Kp extends jp{constructor(e,t,n,r){super(e,t,n,r),this.type="firestore",this._queue=new zp,this._persistenceKey=(null==r?void 0:r.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||qp(this),this._firestoreClient.terminate()}}function Hp(e){return e._firestoreClient||qp(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function qp(e){var t,n,r;const i=e._freezeSettings(),s=function(e,t,n,r){return new xc(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,Np(r.experimentalLongPollingOptions),r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,i);e._firestoreClient=new Ep(e._authCredentials,e._appCheckCredentials,e._queue,s),(null===(n=i.localCache)||void 0===n?void 0:n._offlineComponentProvider)&&(null===(r=i.localCache)||void 0===r?void 0:r._onlineComponentProvider)&&(e._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}class Wp{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Wp(wc.fromBase64String(e))}catch(e){throw new vu(yu.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(e){return new Wp(wc.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Gp{constructor(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(let r=0;r<t.length;++r)if(0===t[r].length)throw new vu(yu.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ju(t)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Qp{constructor(e){this._methodName=e}}class Xp{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new vu(yu.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new vu(yu.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Au(this._lat,e._lat)||Au(this._long,e._long)}}const Jp=/^__.*__$/;class $p{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return null!==this.fieldMask?new vd(e,this.data,this.fieldMask,t,this.fieldTransforms):new yd(e,this.data,t,this.fieldTransforms)}}function Yp(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw pu()}}class Zp{constructor(e,t,n,r,i,s){this.settings=e,this.databaseId=t,this.serializer=n,this.ignoreUndefinedProperties=r,void 0===i&&this.Eu(),this.fieldTransforms=i||[],this.fieldMask=s||[]}get path(){return this.settings.path}get du(){return this.settings.du}Au(e){return new Zp(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ru(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Au({path:n,Vu:!1});return r.mu(e),r}fu(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Au({path:n,Vu:!1});return r.Eu(),r}gu(e){return this.Au({path:void 0,Vu:!0})}pu(e){return cm(e,this.settings.methodName,this.settings.yu||!1,this.path,this.settings.wu)}contains(e){return void 0!==this.fieldMask.find((t=>e.isPrefixOf(t)))||void 0!==this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))}Eu(){if(this.path)for(let e=0;e<this.path.length;e++)this.mu(this.path.get(e))}mu(e){if(0===e.length)throw this.pu("Document fields must not be empty");if(Yp(this.du)&&Jp.test(e))throw this.pu('Document fields cannot begin and end with "__"')}}class em{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=n||jf(e)}Su(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new Zp({du:e,methodName:t,wu:n,path:ju.emptyPath(),Vu:!1,yu:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function tm(e){const t=e._freezeSettings(),n=jf(e._databaseId);return new em(e._databaseId,!!t.ignoreUndefinedProperties,n)}function nm(e,t,n,r,i){let s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};const a=e.Su(s.merge||s.mergeFields?2:0,t,n,i);am("Data must be an object, but it was:",a,r);const o=im(r,a);let l,u;if(s.merge)l=new vc(a.fieldMask),u=a.fieldTransforms;else if(s.mergeFields){const e=[];for(const r of s.mergeFields){const i=om(t,r,n);if(!a.contains(i))throw new vu(yu.INVALID_ARGUMENT,"Field '".concat(i,"' is specified in your field mask but missing from your input data."));hm(e,i)||e.push(i)}l=new vc(e),u=a.fieldTransforms.filter((e=>l.covers(e.field)))}else l=null,u=a.fieldTransforms;return new $p(new Kc(o),l,u)}function rm(e,t){if(sm(e=jr(e)))return am("Unsupported field value:",t,e),im(e,t);if(e instanceof Qp)return function(e,t){if(!Yp(t.du))throw t.pu("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t.pu("".concat(e._methodName,"() is not currently supported inside arrays"));const n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.Vu&&4!==t.du)throw t.pu("Nested arrays are not supported");return function(e,t){const n=[];let r=0;for(const i of e){let e=rm(i,t.gu(r));null==e&&(e={nullValue:"NULL_VALUE"}),n.push(e),r++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(null===(e=jr(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return Xh(t.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const n=Ou.fromDate(e);return{timestampValue:Od(t.serializer,n)}}if(e instanceof Ou){const n=new Ou(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:Od(t.serializer,n)}}if(e instanceof Xp)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof Wp)return{bytesValue:Dd(t.serializer,e._byteString)};if(e instanceof Vp){const n=t.databaseId,r=e.firestore._databaseId;if(!r.isEqual(n))throw t.pu("Document reference is for database ".concat(r.projectId,"/").concat(r.database," but should be for database ").concat(n.projectId,"/").concat(n.database));return{referenceValue:Md(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.pu("Unsupported field value: ".concat(Rp(e)))}(e,t)}function im(e,t){const n={};return dc(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):hc(e,((e,r)=>{const i=rm(r,t.Ru(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function sm(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof Ou||e instanceof Xp||e instanceof Wp||e instanceof Vp||e instanceof Qp)}function am(e,t,n){if(!sm(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){const r=Rp(n);throw"an object"===r?t.pu(e+" a custom object"):t.pu(e+" "+r)}}function om(e,t,n){if((t=jr(t))instanceof Gp)return t._internalPath;if("string"==typeof t)return um(e,t);throw cm("Field path arguments must be of type string or ",e,!1,void 0,n)}const lm=new RegExp("[~\\*/\\[\\]]");function um(e,t,n){if(t.search(lm)>=0)throw cm("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return new Gp(...t.split("."))._internalPath}catch(a){throw cm("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function cm(e,t,n,r,i){const s=r&&!r.isEmpty(),a=void 0!==i;let o="Function ".concat(t,"() called with invalid data");n&&(o+=" (via `toFirestore()`)"),o+=". ";let l="";return(s||a)&&(l+=" (found",s&&(l+=" in field ".concat(r)),a&&(l+=" in document ".concat(i)),l+=")"),new vu(yu.INVALID_ARGUMENT,o+e+l)}function hm(e,t){return e.some((e=>e.isEqual(t)))}function dm(e,t,n){let r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r}function fm(e,t){const n=Lp(e.firestore,Kp),r=function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=jr(e),1===arguments.length&&(t=Nu.newId()),Pp("doc","path",t),e instanceof jp){const n=Lu.fromString(t,...r);return Op(n),new Vp(e,null,new Fu(n))}{if(!(e instanceof Vp||e instanceof Bp))throw new vu(yu.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(Lu.fromString(t,...r));return Op(n),new Vp(e.firestore,e instanceof Bp?e.converter:null,new Fu(n))}}(e),i=dm(e.converter,t);return pm(n,[nm(tm(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,ud.exists(!1))]).then((()=>r))}function pm(e,t){return function(e,t){const n=new bu;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t,n){const r=bp(e);try{const e=await function(e,t){const n=gu(e),r=Ou.now(),i=t.reduce(((e,t)=>e.add(t.key)),Hh());let s,a;return n.persistence.runTransaction("Locally write mutations","readwrite",(e=>{let o=Lh(),l=Hh();return n.os.getEntries(e,i).next((e=>{o=e,o.forEach(((e,t)=>{t.isValidDocument()||(l=l.add(e))}))})).next((()=>n.localDocuments.getOverlayedDocuments(e,o))).next((i=>{s=i;const a=[];for(const e of t){const t=md(e,s.get(e.key).overlayedDocument);null!=t&&a.push(new vd(e.key,t,Hc(t.value.mapValue),ud.exists(!0)))}return n.mutationQueue.addMutationBatch(e,r,a,t)})).next((t=>{a=t;const r=t.applyToLocalDocumentSet(s,l);return n.documentOverlayCache.saveOverlays(e,t.batchId,r)}))})).then((()=>({batchId:a.batchId,changes:Fh(s)})))}(r.localStore,t);r.sharedClientState.addPendingMutation(e.batchId),function(e,t,n){let r=e.Da[e.currentUser.toKey()];r||(r=new fc(Au)),r=r.insert(t,n),e.Da[e.currentUser.toKey()]=r}(r,e.batchId,n),await yp(r,e.changes),await Xf(r.remoteStore)}catch(e){const t=lp(e,"Failed to persist write");n.reject(t)}}(await xp(e),t,n))),n.promise}(Hp(e),t)}new WeakMap;!function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){ou=e}(Ti),_i(new Fr("firestore",((e,n)=>{let{instanceIdentifier:r,options:i}=n;const s=e.getProvider("app").getImmediate(),a=new Kp(new ku(e.getProvider("auth-internal")),new Cu(e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new vu(yu.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Nc(e.options.projectId,t)}(s,r),s);return i=Object.assign({useFetchStreams:t},i),a._setSettings(i),a}),"PUBLIC").setMultipleInstances(!0)),xi(su,"4.4.2",e),xi(su,"4.4.2","esm2017")}();xi("firebase","10.8.0","app");function mm(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;Object.create;"function"===typeof SuppressedError&&SuppressedError;function gm(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const ym=gm,vm=new xr("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),bm=new Qr("@firebase/auth");function wm(e){if(bm.logLevel<=Kr.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];bm.error("Auth (".concat(Ti,"): ").concat(e),...n)}}function _m(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw Sm(e,...n)}function Em(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return Sm(e,...n)}function km(e,t,n){const r=Object.assign(Object.assign({},ym()),{[t]:n});return new xr("auth","Firebase",r).create(t,{appName:e.name})}function Sm(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){const t=n[0],r=[...n.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(t,...r)}return vm.create(e,...n)}function Tm(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw Sm(t,...r)}}function Im(e){const t="INTERNAL ASSERTION FAILED: "+e;throw wm(t),new Error(t)}function Cm(e,t){e||Im(t)}function xm(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function Nm(){return"http:"===Am()||"https:"===Am()}function Am(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}function Pm(){return!("undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(Nm()||function(){const e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}()||"connection"in navigator))||navigator.onLine}class Om{constructor(e,t){this.shortDelay=e,this.longDelay=t,Cm(t>e,"Short delay should be less than long delay!"),this.isMobile="undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Sr())||"object"===typeof navigator&&"ReactNative"===navigator.product}get(){return Pm()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Dm(e,t){Cm(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}class Rm{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:"undefined"!==typeof globalThis&&globalThis.fetch?globalThis.fetch:"undefined"!==typeof fetch?fetch:void Im("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:"undefined"!==typeof globalThis&&globalThis.Headers?globalThis.Headers:"undefined"!==typeof Headers?Headers:void Im("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:"undefined"!==typeof globalThis&&globalThis.Response?globalThis.Response:"undefined"!==typeof Response?Response:void Im("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Lm={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},Mm=new Om(3e4,6e4);function jm(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function Fm(e,t,n,r){return Um(e,arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},(async()=>{let i={},s={};r&&("GET"===t?s=r:i={body:JSON.stringify(r)});const a=Or(Object.assign({key:e.config.apiKey},s)).slice(1),o=await e._getAdditionalHeaders();return o["Content-Type"]="application/json",e.languageCode&&(o["X-Firebase-Locale"]=e.languageCode),Rm.fetch()(Bm(e,e.config.apiHost,n,a),Object.assign({method:t,headers:o,referrerPolicy:"no-referrer"},i))}))}async function Um(e,t,n){e._canInitEmulator=!1;const i=Object.assign(Object.assign({},Lm),t);try{const t=new Km(e),r=await Promise.race([n(),t.promise]);t.clearNetworkTimeout();const s=await r.json();if("needConfirmation"in s)throw Hm(e,"account-exists-with-different-credential",s);if(r.ok&&!("errorMessage"in s))return s;{const t=r.ok?s.errorMessage:s.error.message,[n,a]=t.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===n)throw Hm(e,"credential-already-in-use",s);if("EMAIL_EXISTS"===n)throw Hm(e,"email-already-in-use",s);if("USER_DISABLED"===n)throw Hm(e,"user-disabled",s);const o=i[n]||n.toLowerCase().replace(/[_\s]+/g,"-");if(a)throw km(e,o,a);_m(e,o)}}catch(r){if(r instanceof Cr)throw r;_m(e,"network-request-failed",{message:String(r)})}}async function Vm(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};const s=await Fm(e,t,n,r,i);return"mfaPendingCredential"in s&&_m(e,"multi-factor-auth-required",{_serverResponse:s}),s}function Bm(e,t,n,r){const i="".concat(t).concat(n,"?").concat(r);return e.config.emulator?Dm(e.config,i):"".concat(e.config.apiScheme,"://").concat(i)}function zm(e){switch(e){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Km{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise(((e,t)=>{this.timer=setTimeout((()=>t(Em(this.auth,"network-request-failed"))),Mm.get())}))}clearNetworkTimeout(){clearTimeout(this.timer)}}function Hm(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Em(e,t,r);return i.customData._tokenResponse=n,i}function qm(e){return void 0!==e&&void 0!==e.enterprise}class Wm{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return zm(t.enforcementState);return null}isProviderEnabled(e){return"ENFORCE"===this.getProviderEnforcementState(e)||"AUDIT"===this.getProviderEnforcementState(e)}}async function Gm(e,t){return Fm(e,"GET","/v2/recaptchaConfig",jm(e,t))}function Qm(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(r){}}function Xm(e){return 1e3*Number(e)}function Jm(e){const[t,n,i]=e.split(".");if(void 0===t||void 0===n||void 0===i)return wm("JWT malformed, contained fewer than 3 sections"),null;try{const e=yr(n);return e?JSON.parse(e):(wm("Failed to decode base64 JWT payload"),null)}catch(r){return wm("Caught error parsing JWT payload as JSON",null===r||void 0===r?void 0:r.toString()),null}}async function $m(e,t){if(arguments.length>2&&void 0!==arguments[2]&&arguments[2])return t;try{return await t}catch(r){throw r instanceof Cr&&function(e){let{code:t}=e;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}(r)&&e.auth.currentUser===e&&await e.auth.signOut(),r}}class Ym{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const e=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),e}{this.errorBackoff=3e4;const e=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,e)}}schedule(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout((async()=>{await this.iteration()}),t)}async iteration(){try{await this.user.getIdToken(!0)}catch(r){return void((null===r||void 0===r?void 0:r.code)==="auth/".concat("network-request-failed")&&this.schedule(!0))}this.schedule()}}class Zm{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Qm(this.lastLoginAt),this.creationTime=Qm(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function eg(e){var t;const n=e.auth,r=await e.getIdToken(),i=await $m(e,async function(e,t){return Fm(e,"POST","/v1/accounts:lookup",t)}(n,{idToken:r}));Tm(null===i||void 0===i?void 0:i.users.length,n,"internal-error");const s=i.users[0];e._notifyReloadListener(s);const a=(null===(t=s.providerUserInfo)||void 0===t?void 0:t.length)?s.providerUserInfo.map((e=>{var{providerId:t}=e,n=mm(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})):[];const o=function(e,t){const n=e.filter((e=>!t.some((t=>t.providerId===e.providerId))));return[...n,...t]}(e.providerData,a),l=e.isAnonymous,u=!(e.email&&s.passwordHash)&&!(null===o||void 0===o?void 0:o.length),c=!!l&&u,h={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:o,metadata:new Zm(s.createdAt,s.lastLoginAt),isAnonymous:c};Object.assign(e,h)}class tg{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Tm(e.idToken,"internal-error"),Tm("undefined"!==typeof e.idToken,"internal-error"),Tm("undefined"!==typeof e.refreshToken,"internal-error");const t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):function(e){const t=Jm(e);return Tm(t,"internal-error"),Tm("undefined"!==typeof t.exp,"internal-error"),Tm("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}async getToken(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return Tm(!this.accessToken||this.refreshToken,e,"user-token-expired"),t||!this.accessToken||this.isExpired?this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null:this.accessToken}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:n,refreshToken:r,expiresIn:i}=await async function(e,t){const n=await Um(e,{},(async()=>{const n=Or({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:i}=e.config,s=Bm(e,r,"/v1/token","key=".concat(i)),a=await e._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",Rm.fetch()(s,{method:"POST",headers:a,body:n})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}(e,t);this.updateTokensAndExpiration(n,r,Number(i))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}static fromJSON(e,t){const{refreshToken:n,accessToken:r,expirationTime:i}=t,s=new tg;return n&&(Tm("string"===typeof n,"internal-error",{appName:e}),s.refreshToken=n),r&&(Tm("string"===typeof r,"internal-error",{appName:e}),s.accessToken=r),i&&(Tm("number"===typeof i,"internal-error",{appName:e}),s.expirationTime=i),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new tg,this.toJSON())}_performRefresh(){return Im("not implemented")}}function ng(e,t){Tm("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}class rg{constructor(e){var{uid:t,auth:n,stsTokenManager:r}=e,i=mm(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Ym(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new Zm(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const t=await $m(this,this.stsTokenManager.getToken(this.auth,e));return Tm(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return async function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=jr(e),r=await n.getIdToken(t),i=Jm(r);Tm(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s="object"===typeof i.firebase?i.firebase:void 0,a=null===s||void 0===s?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:Qm(Xm(i.auth_time)),issuedAtTime:Qm(Xm(i.iat)),expirationTime:Qm(Xm(i.exp)),signInProvider:a||null,signInSecondFactor:(null===s||void 0===s?void 0:s.sign_in_second_factor)||null}}(this,e)}reload(){return async function(e){const t=jr(e);await eg(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}(this)}_assign(e){this!==e&&(Tm(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((e=>Object.assign({},e))),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new rg(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Tm(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await eg(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await $m(this,async function(e,t){return Fm(e,"POST","/v1/accounts:delete",t)}(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((e=>Object.assign({},e))),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var n,r,i,s,a,o,l,u;const c=null!==(n=t.displayName)&&void 0!==n?n:void 0,h=null!==(r=t.email)&&void 0!==r?r:void 0,d=null!==(i=t.phoneNumber)&&void 0!==i?i:void 0,f=null!==(s=t.photoURL)&&void 0!==s?s:void 0,p=null!==(a=t.tenantId)&&void 0!==a?a:void 0,m=null!==(o=t._redirectEventId)&&void 0!==o?o:void 0,g=null!==(l=t.createdAt)&&void 0!==l?l:void 0,y=null!==(u=t.lastLoginAt)&&void 0!==u?u:void 0,{uid:v,emailVerified:b,isAnonymous:w,providerData:_,stsTokenManager:E}=t;Tm(v&&E,e,"internal-error");const k=tg.fromJSON(this.name,E);Tm("string"===typeof v,e,"internal-error"),ng(c,e.name),ng(h,e.name),Tm("boolean"===typeof b,e,"internal-error"),Tm("boolean"===typeof w,e,"internal-error"),ng(d,e.name),ng(f,e.name),ng(p,e.name),ng(m,e.name),ng(g,e.name),ng(y,e.name);const S=new rg({uid:v,auth:e,email:h,emailVerified:b,displayName:c,isAnonymous:w,photoURL:f,phoneNumber:d,tenantId:p,stsTokenManager:k,createdAt:g,lastLoginAt:y});return _&&Array.isArray(_)&&(S.providerData=_.map((e=>Object.assign({},e)))),m&&(S._redirectEventId=m),S}static async _fromIdTokenResponse(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=new tg;r.updateFromServerResponse(t);const i=new rg({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:n});return await eg(i),i}}const ig=new Map;function sg(e){Cm(e instanceof Function,"Expected a class definition");let t=ig.get(e);return t?(Cm(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,ig.set(e,t),t)}class ag{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return void 0===t?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}ag.type="NONE";const og=ag;function lg(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}class ug{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;const{config:r,name:i}=this.auth;this.fullUserKey=lg(this.userKey,r.apiKey,i),this.fullPersistenceKey=lg("persistence",r.apiKey,i),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?rg._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();return await this.removeCurrentUser(),this.persistence=e,t?this.setCurrentUser(t):void 0}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"authUser";if(!t.length)return new ug(sg(og),e,n);const r=(await Promise.all(t.map((async e=>{if(await e._isAvailable())return e})))).filter((e=>e));let i=r[0]||sg(og);const s=lg(n,e.config.apiKey,e.name);let a=null;for(const u of t)try{const t=await u._get(s);if(t){const n=rg._fromJSON(e,t);u!==i&&(a=n),i=u;break}}catch(l){}const o=r.filter((e=>e._shouldAllowMigration));return i._shouldAllowMigration&&o.length?(i=o[0],a&&await i._set(s,a.toJSON()),await Promise.all(t.map((async e=>{if(e!==i)try{await e._remove(s)}catch(l){}}))),new ug(i,e,n)):new ug(i,e,n)}}function cg(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(pg(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(hg(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(gg(t))return"Blackberry";if(yg(t))return"Webos";if(dg(t))return"Safari";if((t.includes("chrome/")||fg(t))&&!t.includes("edge/"))return"Chrome";if(mg(t))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=e.match(t);if(2===(null===n||void 0===n?void 0:n.length))return n[1]}return"Other"}function hg(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Sr();return/firefox\//i.test(e)}function dg(){const e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:Sr()).toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function fg(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Sr();return/crios\//i.test(e)}function pg(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Sr();return/iemobile/i.test(e)}function mg(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Sr();return/android/i.test(e)}function gg(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Sr();return/blackberry/i.test(e)}function yg(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Sr();return/webos/i.test(e)}function vg(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Sr();return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function bg(){return function(){const e=Sr();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}()&&10===document.documentMode}function wg(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Sr();return vg(e)||mg(e)||yg(e)||gg(e)||/windows phone/i.test(e)||pg(e)}function _g(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=cg(Sr());break;case"Worker":t="".concat(cg(Sr()),"-").concat(e);break;default:t=e}const r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(Ti,"/").concat(r)}class Eg{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const n=t=>new Promise(((n,i)=>{try{n(e(t))}catch(r){i(r)}}));n.onAbort=t,this.queue.push(n);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const n of this.queue)await n(e),n.onAbort&&t.push(n.onAbort)}catch(r){t.reverse();for(const n of t)try{n()}catch(k){}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===r||void 0===r?void 0:r.message})}}}class kg{constructor(e){var t,n,r,i;const s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(t=s.minPasswordLength)&&void 0!==t?t:6,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),void 0!==s.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),void 0!==s.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),void 0!==s.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),void 0!==s.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(r=null===(n=e.allowedNonAlphanumericCharacters)||void 0===n?void 0:n.join(""))&&void 0!==r?r:"",this.forceUpgradeOnSignin=null!==(i=e.forceUpgradeOnSignin)&&void 0!==i&&i,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,n,r,i,s,a;const o={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,o),this.validatePasswordCharacterOptions(e,o),o.isValid&&(o.isValid=null===(t=o.meetsMinPasswordLength)||void 0===t||t),o.isValid&&(o.isValid=null===(n=o.meetsMaxPasswordLength)||void 0===n||n),o.isValid&&(o.isValid=null===(r=o.containsLowercaseLetter)||void 0===r||r),o.isValid&&(o.isValid=null===(i=o.containsUppercaseLetter)||void 0===i||i),o.isValid&&(o.isValid=null===(s=o.containsNumericCharacter)||void 0===s||s),o.isValid&&(o.isValid=null===(a=o.containsNonAlphanumericCharacter)||void 0===a||a),o}validatePasswordLengthOptions(e,t){const n=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;n&&(t.meetsMinPasswordLength=e.length>=n),r&&(t.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,t){let n;this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);for(let r=0;r<e.length;r++)n=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(t,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,t,n,r,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}class Sg{constructor(e,t,n,r){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Ig(this),this.idTokenSubscription=new Ig(this),this.beforeStateQueue=new Eg(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=vm,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=sg(t)),this._initializationPromise=this.queue((async()=>{var n,i;if(!this._deleted&&(this.persistenceManager=await ug.create(this,e),!this._deleted)){if(null===(n=this._popupRedirectResolver)||void 0===n?void 0:n._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch(r){}await this.initializeCurrentUser(t),this.lastNotifiedUid=(null===(i=this.currentUser)||void 0===i?void 0:i.uid)||null,this._deleted||(this._isInitialized=!0)}})),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();return this.currentUser||e?this.currentUser&&e&&this.currentUser.uid===e.uid?(this._currentUser._assign(e),void await this.currentUser.getIdToken()):void await this._updateCurrentUser(e,!0):void 0}async initializeCurrentUser(e){var t;const n=await this.assertedPersistence.getCurrentUser();let i=n,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const n=null===(t=this.redirectUser)||void 0===t?void 0:t._redirectEventId,r=null===i||void 0===i?void 0:i._redirectEventId,a=await this.tryRedirectSignIn(e);n&&n!==r||!(null===a||void 0===a?void 0:a.user)||(i=a.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(r){i=n,this._popupRedirectResolver._overrideRedirectResult(this,(()=>Promise.reject(r)))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Tm(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch(r){await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await eg(e)}catch(r){if((null===r||void 0===r?void 0:r.code)!=="auth/".concat("network-request-failed"))return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=function(){if("undefined"===typeof navigator)return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const t=e?jr(e):null;return t&&Tm(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!this._deleted)return e&&Tm(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue((async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()}))}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue((async()=>{await this.assertedPersistence.setPersistence(sg(e))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await async function(e){return Fm(e,"GET","/v2/passwordPolicy",jm(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}))}(this),t=new kg(e);null===this.tenantId?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new xr("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}authStateReady(){return new Promise(((e,t)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged((()=>{n(),e()}),t)}}))}async revokeAccessToken(e){if(this.currentUser){const t={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:await this.currentUser.getIdToken()};null!=this.tenantId&&(t.tenantId=this.tenantId),await async function(e,t){return Fm(e,"POST","/v2/accounts:revokeToken",jm(e,t))}(this,t)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}async _setRedirectUser(e,t){const n=await this.getOrInitRedirectPersistenceManager(t);return null===e?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&sg(e)||this._popupRedirectResolver;Tm(t,this,"argument-error"),this.redirectPersistenceManager=await ug.create(this,[sg(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,n;return this._isInitialized&&await this.queue((async()=>{})),(null===(t=this._currentUser)||void 0===t?void 0:t._redirectEventId)===e?this._currentUser:(null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue((async()=>this.directlySetCurrentUser(e)))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,r){if(this._deleted)return()=>{};const i="function"===typeof t?t:t.next.bind(t);let s=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(Tm(a,this,"internal-error"),a.then((()=>{s||i(this.currentUser)})),"function"===typeof t){const i=e.addObserver(t,n,r);return()=>{s=!0,i()}}{const n=e.addObserver(t);return()=>{s=!0,n()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Tm(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=_g(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await(null===(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getHeartbeatsHeader());n&&(t["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){var e;const t=await(null===(e=this.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getToken());return(null===t||void 0===t?void 0:t.error)&&function(e){if(bm.logLevel<=Kr.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];bm.warn("Auth (".concat(Ti,"): ").concat(e),...n)}}("Error while retrieving App Check token: ".concat(t.error)),null===t||void 0===t?void 0:t.token}}function Tg(e){return jr(e)}class Ig{constructor(e){this.auth=e,this.observer=null,this.addObserver=function(e,t){const n=new Lr(e,t);return n.subscribe.bind(n)}((e=>this.observer=e))}get next(){return Tm(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Cg={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function xg(e){return Cg.loadJS(e)}function Ng(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}class Ag{constructor(e){this.type="recaptcha-enterprise",this.auth=Tg(e)}async verify(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"verify",t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];function n(t,n,r){const i=window.grecaptcha;qm(i)?i.enterprise.ready((()=>{i.enterprise.execute(t,{action:e}).then((e=>{n(e)})).catch((()=>{n("NO_RECAPTCHA")}))})):r(Error("No reCAPTCHA enterprise script loaded."))}return new Promise(((e,r)=>{(async function(e){if(!t){if(null==e.tenantId&&null!=e._agentRecaptchaConfig)return e._agentRecaptchaConfig.siteKey;if(null!=e.tenantId&&void 0!==e._tenantRecaptchaConfigs[e.tenantId])return e._tenantRecaptchaConfigs[e.tenantId].siteKey}return new Promise((async(t,n)=>{Gm(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then((r=>{if(void 0!==r.recaptchaKey){const n=new Wm(r);return null==e.tenantId?e._agentRecaptchaConfig=n:e._tenantRecaptchaConfigs[e.tenantId]=n,t(n.siteKey)}n(new Error("recaptcha Enterprise site key undefined"))})).catch((e=>{n(e)}))}))})(this.auth).then((i=>{if(!t&&qm(window.grecaptcha))n(i,e,r);else{if("undefined"===typeof window)return void r(new Error("RecaptchaVerifier is only supported in browser"));let t=Cg.recaptchaEnterpriseScript;0!==t.length&&(t+=i),xg(t).then((()=>{n(i,e,r)})).catch((e=>{r(e)}))}})).catch((e=>{r(e)}))}))}}async function Pg(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=new Ag(e);let s;try{s=await i.verify(n)}catch(o){s=await i.verify(n,!0)}const a=Object.assign({},t);return r?Object.assign(a,{captchaResp:s}):Object.assign(a,{captchaResponse:s}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function Og(e,t,n,r){var i;if(null===(i=e._getRecaptchaConfig())||void 0===i?void 0:i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const i=await Pg(e,t,n,"getOobCode"===n);return r(e,i)}return r(e,t).catch((async i=>{if(i.code==="auth/".concat("missing-recaptcha-token")){console.log("".concat(n," is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow."));const i=await Pg(e,t,n,"getOobCode"===n);return r(e,i)}return Promise.reject(i)}))}function Dg(e,t,n){const r=Tg(e);Tm(r._canInitEmulator,r,"emulator-config-failed"),Tm(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const i=!!(null===n||void 0===n?void 0:n.disableWarnings),s=Rg(t),{host:a,port:o}=function(e){const t=Rg(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const e=i[1];return{host:e,port:Lg(r.substr(e.length+1))}}{const[e,t]=r.split(":");return{host:e,port:Lg(t)}}}(t),l=null===o?"":":".concat(o);r.config.emulator={url:"".concat(s,"//").concat(a).concat(l,"/")},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:a,port:o,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function(){function e(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function Rg(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function Lg(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}class Mg{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Im("not implemented")}_getIdTokenResponse(e){return Im("not implemented")}_linkToIdToken(e,t){return Im("not implemented")}_getReauthenticationResolver(e){return Im("not implemented")}}async function jg(e,t){return Fm(e,"POST","/v1/accounts:signUp",t)}async function Fg(e,t){return Vm(e,"POST","/v1/accounts:signInWithPassword",jm(e,t))}class Ug extends Mg{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;super("password",n),this._email=e,this._password=t,this._tenantId=r}static _fromEmailAndPassword(e,t){return new Ug(e,t,"password")}static _fromEmailAndCode(e,t){return new Ug(e,t,"emailLink",arguments.length>2&&void 0!==arguments[2]?arguments[2]:null)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":return Og(e,{returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",Fg);case"emailLink":return async function(e,t){return Vm(e,"POST","/v1/accounts:signInWithEmailLink",jm(e,t))}(e,{email:this._email,oobCode:this._password});default:_m(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":return Og(e,{idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",jg);case"emailLink":return async function(e,t){return Vm(e,"POST","/v1/accounts:signInWithEmailLink",jm(e,t))}(e,{idToken:t,email:this._email,oobCode:this._password});default:_m(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function Vg(e,t){return Vm(e,"POST","/v1/accounts:signInWithIdp",jm(e,t))}class Bg extends Mg{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Bg(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):_m("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e,{providerId:n,signInMethod:r}=t,i=mm(t,["providerId","signInMethod"]);if(!n||!r)return null;const s=new Bg(n,r);return s.idToken=i.idToken||void 0,s.accessToken=i.accessToken||void 0,s.secret=i.secret,s.nonce=i.nonce,s.pendingToken=i.pendingToken||null,s}_getIdTokenResponse(e){return Vg(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,Vg(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Vg(e,t)}buildRequest(){const e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Or(t)}return e}}const zg={USER_NOT_FOUND:"user-not-found"};class Kg extends Mg{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new Kg({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new Kg({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return async function(e,t){return Vm(e,"POST","/v1/accounts:signInWithPhoneNumber",jm(e,t))}(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return async function(e,t){const n=await Vm(e,"POST","/v1/accounts:signInWithPhoneNumber",jm(e,t));if(n.temporaryProof)throw Hm(e,"account-exists-with-different-credential",n);return n}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return async function(e,t){return Vm(e,"POST","/v1/accounts:signInWithPhoneNumber",jm(e,Object.assign(Object.assign({},t),{operation:"REAUTH"})),zg)}(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:t,verificationId:n,verificationCode:r}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:n,code:r}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){"string"===typeof e&&(e=JSON.parse(e));const{verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}=e;return n||t||r||i?new Kg({verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}):null}}class Hg{constructor(e){var t,n,r,i,s,a;const o=Dr(Rr(e)),l=null!==(t=o.apiKey)&&void 0!==t?t:null,u=null!==(n=o.oobCode)&&void 0!==n?n:null,c=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(r=o.mode)&&void 0!==r?r:null);Tm(l&&u&&c,"argument-error"),this.apiKey=l,this.operation=c,this.code=u,this.continueUrl=null!==(i=o.continueUrl)&&void 0!==i?i:null,this.languageCode=null!==(s=o.languageCode)&&void 0!==s?s:null,this.tenantId=null!==(a=o.tenantId)&&void 0!==a?a:null}static parseLink(e){const t=function(e){const t=Dr(Rr(e)).link,n=t?Dr(Rr(t)).deep_link_id:null,r=Dr(Rr(e)).deep_link_id;return(r?Dr(Rr(r)).link:null)||r||n||t||e}(e);try{return new Hg(t)}catch(n){return null}}}class qg{constructor(){this.providerId=qg.PROVIDER_ID}static credential(e,t){return Ug._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const n=Hg.parseLink(t);return Tm(n,"argument-error"),Ug._fromEmailAndCode(e,n.code,n.tenantId)}}qg.PROVIDER_ID="password",qg.EMAIL_PASSWORD_SIGN_IN_METHOD="password",qg.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class Wg{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Gg extends Wg{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Qg extends Gg{constructor(){super("facebook.com")}static credential(e){return Bg._fromParams({providerId:Qg.PROVIDER_ID,signInMethod:Qg.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Qg.credentialFromTaggedObject(e)}static credentialFromError(e){return Qg.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return Qg.credential(t.oauthAccessToken)}catch(n){return null}}}Qg.FACEBOOK_SIGN_IN_METHOD="facebook.com",Qg.PROVIDER_ID="facebook.com";class Xg extends Gg{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Bg._fromParams({providerId:Xg.PROVIDER_ID,signInMethod:Xg.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Xg.credentialFromTaggedObject(e)}static credentialFromError(e){return Xg.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r}=t;if(!n&&!r)return null;try{return Xg.credential(n,r)}catch(i){return null}}}Xg.GOOGLE_SIGN_IN_METHOD="google.com",Xg.PROVIDER_ID="google.com";class Jg extends Gg{constructor(){super("github.com")}static credential(e){return Bg._fromParams({providerId:Jg.PROVIDER_ID,signInMethod:Jg.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Jg.credentialFromTaggedObject(e)}static credentialFromError(e){return Jg.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return Jg.credential(t.oauthAccessToken)}catch(n){return null}}}Jg.GITHUB_SIGN_IN_METHOD="github.com",Jg.PROVIDER_ID="github.com";class $g extends Gg{constructor(){super("twitter.com")}static credential(e,t){return Bg._fromParams({providerId:$g.PROVIDER_ID,signInMethod:$g.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return $g.credentialFromTaggedObject(e)}static credentialFromError(e){return $g.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=t;if(!n||!r)return null;try{return $g.credential(n,r)}catch(i){return null}}}$g.TWITTER_SIGN_IN_METHOD="twitter.com",$g.PROVIDER_ID="twitter.com";class Yg{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=await rg._fromIdTokenResponse(e,n,r),s=Zg(n);return new Yg({user:i,providerId:s,_tokenResponse:n,operationType:t})}static async _forOperation(e,t,n){await e._updateTokensIfNecessary(n,!0);const r=Zg(n);return new Yg({user:e,providerId:r,_tokenResponse:n,operationType:t})}}function Zg(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}class ey extends Cr{constructor(e,t,n,r){var i;super(t.code,t.message),this.operationType=n,this.user=r,Object.setPrototypeOf(this,ey.prototype),this.customData={appName:e.name,tenantId:null!==(i=e.tenantId)&&void 0!==i?i:void 0,_serverResponse:t.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,t,n,r){return new ey(e,t,n,r)}}function ty(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((n=>{if(n.code==="auth/".concat("multi-factor-auth-required"))throw ey._fromErrorAndOperation(e,n,t,r);throw n}))}async function ny(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=await $m(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return Yg._forOperation(e,"link",r)}async function ry(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const{auth:i}=e,s="reauthenticate";try{const r=await $m(e,ty(i,s,t,e),n);Tm(r.idToken,i,"internal-error");const a=Jm(r.idToken);Tm(a,i,"internal-error");const{sub:o}=a;return Tm(e.uid===o,i,"user-mismatch"),Yg._forOperation(e,s,r)}catch(r){throw(null===r||void 0===r?void 0:r.code)==="auth/".concat("user-not-found")&&_m(i,"user-mismatch"),r}}async function iy(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r="signIn",i=await ty(e,r,t),s=await Yg._fromIdTokenResponse(e,r,i);return n||await e._updateCurrentUser(s.user),s}new WeakMap;const sy="__sak";class ay{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(sy,"1"),this.storage.removeItem(sy),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}class oy extends ay{constructor(){super((()=>window.localStorage),"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function(){const e=Sr();return dg(e)||vg(e)}()&&function(){try{return!(!window||window===window.top)}catch(r){return!1}}(),this.fallbackToPolling=wg(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const n=this.storage.getItem(t),r=this.localCache[t];n!==r&&e(t,r,n)}}onStorageEvent(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e.key)return void this.forAllChangedKeys(((e,t,n)=>{this.notifyListeners(e,n)}));const n=e.key;if(t?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const r=this.storage.getItem(n);if(e.newValue!==r)null!==e.newValue?this.storage.setItem(n,e.newValue):this.storage.removeItem(n);else if(this.localCache[n]===e.newValue&&!t)return}const r=()=>{const e=this.storage.getItem(n);(t||this.localCache[n]!==e)&&this.notifyListeners(n,e)},i=this.storage.getItem(n);bg()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,10):r()}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t?JSON.parse(t):t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((()=>{this.forAllChangedKeys(((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)}))}),1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}oy.type="LOCAL";const ly=oy;class uy extends ay{constructor(){super((()=>window.sessionStorage),"SESSION")}_addListener(e,t){}_removeListener(e,t){}}uy.type="SESSION";const cy=uy;class hy{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find((t=>t.isListeningto(e)));if(t)return t;const n=new hy(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:n,eventType:r,data:i}=t.data,s=this.handlersMap[r];if(!(null===s||void 0===s?void 0:s.size))return;t.ports[0].postMessage({status:"ack",eventId:n,eventType:r});const a=Array.from(s).map((async e=>e(t.origin,i))),o=await function(e){return Promise.all(e.map((async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}})))}(a);t.ports[0].postMessage({status:"done",eventId:n,eventType:r,response:o})}_subscribe(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}function dy(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="";for(let r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}hy.receivers=[];class fy{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:50;const r="undefined"!==typeof MessageChannel?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let i,s;return new Promise(((a,o)=>{const l=dy("",20);r.port1.start();const u=setTimeout((()=>{o(new Error("unsupported_event"))}),n);s={messageChannel:r,onMessage(e){const t=e;if(t.data.eventId===l)switch(t.data.status){case"ack":clearTimeout(u),i=setTimeout((()=>{o(new Error("timeout"))}),3e3);break;case"done":clearTimeout(i),a(t.data.response);break;default:clearTimeout(u),clearTimeout(i),o(new Error("invalid_response"))}}},this.handlers.add(s),r.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:l,data:t},[r.port2])})).finally((()=>{s&&this.removeMessageHandler(s)}))}}function py(){return window}function my(){return"undefined"!==typeof py().WorkerGlobalScope&&"function"===typeof py().importScripts}const gy="firebaseLocalStorageDb",yy="firebaseLocalStorage",vy="fbase_key";class by{constructor(e){this.request=e}toPromise(){return new Promise(((e,t)=>{this.request.addEventListener("success",(()=>{e(this.request.result)})),this.request.addEventListener("error",(()=>{t(this.request.error)}))}))}}function wy(e,t){return e.transaction([yy],t?"readwrite":"readonly").objectStore(yy)}function _y(){const e=indexedDB.open(gy,1);return new Promise(((t,n)=>{e.addEventListener("error",(()=>{n(e.error)})),e.addEventListener("upgradeneeded",(()=>{const t=e.result;try{t.createObjectStore(yy,{keyPath:vy})}catch(r){n(r)}})),e.addEventListener("success",(async()=>{const n=e.result;n.objectStoreNames.contains(yy)?t(n):(n.close(),await function(){const e=indexedDB.deleteDatabase(gy);return new by(e).toPromise()}(),t(await _y()))}))}))}async function Ey(e,t,n){const r=wy(e,!0).put({[vy]:t,value:n});return new by(r).toPromise()}function ky(e,t){const n=wy(e,!0).delete(t);return new by(n).toPromise()}class Sy{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((()=>{}),(()=>{}))}async _openDb(){return this.db||(this.db=await _y()),this.db}async _withRetries(e){let t=0;for(;;)try{const t=await this._openDb();return await e(t)}catch(r){if(t++>3)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return my()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=hy._getInstance(my()?self:null),this.receiver._subscribe("keyChanged",(async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)}))),this.receiver._subscribe("ping",(async(e,t)=>["keyChanged"]))}async initializeSender(){var e,t;if(this.activeServiceWorker=await async function(){if(!(null===navigator||void 0===navigator?void 0:navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch(e){return null}}(),!this.activeServiceWorker)return;this.sender=new fy(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&(null===(e=n[0])||void 0===e?void 0:e.fulfilled)&&(null===(t=n[0])||void 0===t?void 0:t.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(this.sender&&this.activeServiceWorker&&function(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}()===this.activeServiceWorker)try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch(t){}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await _y();return await Ey(e,sy,"1"),await ky(e,sy),!0}catch(e){}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite((async()=>(await this._withRetries((n=>Ey(n,e,t))),this.localCache[e]=t,this.notifyServiceWorker(e))))}async _get(e){const t=await this._withRetries((t=>async function(e,t){const n=wy(e,!1).get(t),r=await new by(n).toPromise();return void 0===r?null:r.value}(t,e)));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite((async()=>(await this._withRetries((t=>ky(t,e))),delete this.localCache[e],this.notifyServiceWorker(e))))}async _poll(){const e=await this._withRetries((e=>{const t=wy(e,!1).getAll();return new by(t).toPromise()}));if(!e)return[];if(0!==this.pendingWrites)return[];const t=[],n=new Set;if(0!==e.length)for(const{fbase_key:r,value:i}of e)n.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(i)&&(this.notifyListeners(r,i),t.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!n.has(r)&&(this.notifyListeners(r,null),t.push(r));return t}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((async()=>this._poll()),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}Sy.type="LOCAL";const Ty=Sy;Ng("rcb"),new Om(3e4,6e4);const Iy="recaptcha";async function Cy(e,t,n){var r;const i=await n.verify();try{let s;if(Tm("string"===typeof i,e,"argument-error"),Tm(n.type===Iy,e,"argument-error"),s="string"===typeof t?{phoneNumber:t}:t,"session"in s){const t=s.session;if("phoneNumber"in s){Tm("enroll"===t.type,e,"internal-error");const n=await function(e,t){return Fm(e,"POST","/v2/accounts/mfaEnrollment:start",jm(e,t))}(e,{idToken:t.credential,phoneEnrollmentInfo:{phoneNumber:s.phoneNumber,recaptchaToken:i}});return n.phoneSessionInfo.sessionInfo}{Tm("signin"===t.type,e,"internal-error");const n=(null===(r=s.multiFactorHint)||void 0===r?void 0:r.uid)||s.multiFactorUid;Tm(n,e,"missing-multi-factor-info");const a=await function(e,t){return Fm(e,"POST","/v2/accounts/mfaSignIn:start",jm(e,t))}(e,{mfaPendingCredential:t.credential,mfaEnrollmentId:n,phoneSignInInfo:{recaptchaToken:i}});return a.phoneResponseInfo.sessionInfo}}{const{sessionInfo:t}=await async function(e,t){return Fm(e,"POST","/v1/accounts:sendVerificationCode",jm(e,t))}(e,{phoneNumber:s.phoneNumber,recaptchaToken:i});return t}}finally{n._reset()}}class xy{constructor(e){this.providerId=xy.PROVIDER_ID,this.auth=Tg(e)}verifyPhoneNumber(e,t){return Cy(this.auth,e,jr(t))}static credential(e,t){return Kg._fromVerification(e,t)}static credentialFromResult(e){const t=e;return xy.credentialFromTaggedObject(t)}static credentialFromError(e){return xy.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{phoneNumber:n,temporaryProof:r}=t;return n&&r?Kg._fromTokenResponse(n,r):null}}function Ny(e,t){return t?sg(t):(Tm(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}xy.PROVIDER_ID="phone",xy.PHONE_SIGN_IN_METHOD="phone";class Ay extends Mg{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Vg(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Vg(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Vg(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function Py(e){return iy(e.auth,new Ay(e),e.bypassAuthState)}function Oy(e){const{auth:t,user:n}=e;return Tm(n,t,"internal-error"),ry(n,new Ay(e),e.bypassAuthState)}async function Dy(e){const{auth:t,user:n}=e;return Tm(n,t,"internal-error"),ny(n,new Ay(e),e.bypassAuthState)}class Ry{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];this.auth=e,this.resolver=n,this.user=r,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise((async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}}))}async onAuthEvent(e){const{urlResponse:t,sessionId:n,postBody:i,tenantId:s,error:a,type:o}=e;if(a)return void this.reject(a);const l={auth:this.auth,requestUri:t,sessionId:n,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(o)(l))}catch(r){this.reject(r)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Py;case"linkViaPopup":case"linkViaRedirect":return Dy;case"reauthViaPopup":case"reauthViaRedirect":return Oy;default:_m(this.auth,"internal-error")}}resolve(e){Cm(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Cm(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Ly=new Om(2e3,1e4);class My extends Ry{constructor(e,t,n,r,i){super(e,t,r,i),this.provider=n,this.authWindow=null,this.pollId=null,My.currentPopupAction&&My.currentPopupAction.cancel(),My.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Tm(e,this.auth,"internal-error"),e}async onExecution(){Cm(1===this.filter.length,"Popup operations only handle one event");const e=dy();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch((e=>{this.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(e=>{e||this.reject(Em(this.auth,"web-storage-unsupported"))})),this.pollUserCancellation()}get eventId(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}cancel(){this.reject(Em(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,My.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,n;(null===(n=null===(t=this.authWindow)||void 0===t?void 0:t.window)||void 0===n?void 0:n.closed)?this.pollId=window.setTimeout((()=>{this.pollId=null,this.reject(Em(this.auth,"popup-closed-by-user"))}),8e3):this.pollId=window.setTimeout(e,Ly.get())};e()}}My.currentPopupAction=null;const jy="pendingRedirect",Fy=new Map;class Uy extends Ry{constructor(e,t){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,arguments.length>2&&void 0!==arguments[2]&&arguments[2]),this.eventId=null}async execute(){let e=Fy.get(this.auth._key());if(!e){try{const t=await async function(e,t){const n=zy(t),r=By(e);if(!await r._isAvailable())return!1;const i="true"===await r._get(n);return await r._remove(n),i}(this.resolver,this.auth),n=t?await super.execute():null;e=()=>Promise.resolve(n)}catch(r){e=()=>Promise.reject(r)}Fy.set(this.auth._key(),e)}return this.bypassAuthState||Fy.set(this.auth._key(),(()=>Promise.resolve(null))),e()}async onAuthEvent(e){if("signInViaRedirect"===e.type)return super.onAuthEvent(e);if("unknown"!==e.type){if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}else this.resolve(null)}async onExecution(){}cleanUp(){}}function Vy(e,t){Fy.set(e._key(),t)}function By(e){return sg(e._redirectPersistence)}function zy(e){return lg(jy,e.config.apiKey,e.name)}async function Ky(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=Tg(e),i=Ny(r,t),s=new Uy(r,i,n),a=await s.execute();return a&&!n&&(delete a.user._redirectEventId,await r._persistUserIfCurrent(a.user),await r._setRedirectUser(null,t)),a}class Hy{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach((n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Wy(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var n;if(e.error&&!Wy(e)){const r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(Em(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(qy(e))}saveEventToCache(e){this.cachedEventUids.add(qy(e)),this.lastProcessedEventTime=Date.now()}}function qy(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((e=>e)).join("-")}function Wy(e){let{type:t,error:n}=e;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}const Gy=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Qy=/^https?/;async function Xy(e){if(e.config.emulator)return;const{authorizedDomains:t}=await async function(e){return Fm(e,"GET","/v1/projects",arguments.length>1&&void 0!==arguments[1]?arguments[1]:{})}(e);for(const r of t)try{if(Jy(r))return}catch(n){}_m(e,"unauthorized-domain")}function Jy(e){const t=xm(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const i=new URL(e);return""===i.hostname&&""===r?"chrome-extension:"===n&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===n&&i.hostname===r}if(!Qy.test(n))return!1;if(Gy.test(e))return r===e;const i=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const $y=new Om(3e4,6e4);function Yy(){const e=py().___jsl;if(null===e||void 0===e?void 0:e.H)for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}function Zy(e){return new Promise(((t,n)=>{var r,i,s;function a(){Yy(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{Yy(),n(Em(e,"network-request-failed"))},timeout:$y.get()})}if(null===(i=null===(r=py().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(s=py().gapi)||void 0===s?void 0:s.load)){const t=Ng("iframefcb");return py()[t]=()=>{gapi.load?a():n(Em(e,"network-request-failed"))},xg("".concat(Cg.gapiScript,"?onload=").concat(t)).catch((e=>n(e)))}a()}})).catch((e=>{throw ev=null,e}))}let ev=null;const tv=new Om(5e3,15e3),nv="__/auth/iframe",rv="emulator/auth/iframe",iv={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},sv=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function av(e){const t=e.config;Tm(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?Dm(t,rv):"https://".concat(e.config.authDomain,"/").concat(nv),r={apiKey:t.apiKey,appName:e.name,v:Ti},i=sv.get(e.config.apiHost);i&&(r.eid=i);const s=e._getFrameworks();return s.length&&(r.fw=s.join(",")),"".concat(n,"?").concat(Or(r).slice(1))}async function ov(e){const t=await function(e){return ev=ev||Zy(e),ev}(e),n=py().gapi;return Tm(n,e,"internal-error"),t.open({where:document.body,url:av(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:iv,dontclear:!0},(t=>new Promise((async(n,r)=>{await t.restyle({setHideOnLeave:!1});const i=Em(e,"network-request-failed"),s=py().setTimeout((()=>{r(i)}),tv.get());function a(){py().clearTimeout(s),n(t)}t.ping(a).then(a,(()=>{r(i)}))}))))}const lv={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class uv{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(r){}}}function cv(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600;const a=Math.max((window.screen.availHeight-s)/2,0).toString(),o=Math.max((window.screen.availWidth-i)/2,0).toString();let l="";const u=Object.assign(Object.assign({},lv),{width:i.toString(),height:s.toString(),top:a,left:o}),c=Sr().toLowerCase();n&&(l=fg(c)?"_blank":n),hg(c)&&(t=t||"http://localhost",u.scrollbars="yes");const h=Object.entries(u).reduce(((e,t)=>{let[n,r]=t;return"".concat(e).concat(n,"=").concat(r,",")}),"");if(function(){var e;return vg(arguments.length>0&&void 0!==arguments[0]?arguments[0]:Sr())&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}(c)&&"_self"!==l)return function(e,t){const n=document.createElement("a");n.href=e,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(t||"",l),new uv(null);const d=window.open(t||"",l,h);Tm(d,e,"popup-blocked");try{d.focus()}catch(r){}return new uv(d)}const hv="__/auth/handler",dv="emulator/auth/handler",fv=encodeURIComponent("fac");async function pv(e,t,n,r,i,s){Tm(e.config.authDomain,e,"auth-domain-config-required"),Tm(e.config.apiKey,e,"invalid-api-key");const a={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:Ti,eventId:i};if(t instanceof Wg){t.setDefaultLanguage(e.languageCode),a.providerId=t.providerId||"",function(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}(t.getCustomParameters())||(a.customParameters=JSON.stringify(t.getCustomParameters()));for(const[e,t]of Object.entries(s||{}))a[e]=t}if(t instanceof Gg){const e=t.getScopes().filter((e=>""!==e));e.length>0&&(a.scopes=e.join(","))}e.tenantId&&(a.tid=e.tenantId);const o=a;for(const c of Object.keys(o))void 0===o[c]&&delete o[c];const l=await e._getAppCheckToken(),u=l?"#".concat(fv,"=").concat(encodeURIComponent(l)):"";return"".concat(function(e){let{config:t}=e;if(!t.emulator)return"https://".concat(t.authDomain,"/").concat(hv);return Dm(t,dv)}(e),"?").concat(Or(o).slice(1)).concat(u)}const mv="webStorageSupport";const gv=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=cy,this._completeRedirectFn=Ky,this._overrideRedirectResult=Vy}async _openPopup(e,t,n,r){var i;Cm(null===(i=this.eventManagers[e._key()])||void 0===i?void 0:i.manager,"_initialize() not called before _openPopup()");return cv(e,await pv(e,t,n,xm(),r),dy())}async _openRedirect(e,t,n,r){await this._originValidation(e);return function(e){py().location.href=e}(await pv(e,t,n,xm(),r)),new Promise((()=>{}))}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:e,promise:n}=this.eventManagers[t];return e?Promise.resolve(e):(Cm(n,"If manager is not set, promise should be"),n)}const n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n.catch((()=>{delete this.eventManagers[t]})),n}async initAndGetManager(e){const t=await ov(e),n=new Hy(e);return t.register("authEvent",(t=>{Tm(null===t||void 0===t?void 0:t.authEvent,e,"invalid-auth-event");return{status:n.onEvent(t.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=t,n}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(mv,{type:mv},(n=>{var r;const i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r[mv];void 0!==i&&t(!!i),_m(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=Xy(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return wg()||dg()||vg()}};var yv="@firebase/auth",vv="1.6.0";class bv{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}async getToken(e){if(this.assertAuthConfigured(),await this.auth._initializationPromise,!this.auth.currentUser)return null;return{accessToken:await this.auth.currentUser.getIdToken(e)}}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged((t=>{e((null===t||void 0===t?void 0:t.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Tm(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const wv=Er("authIdTokenMaxAge")||300;let _v=null;var Ev;!function(e){Cg=e}({loadJS:e=>new Promise(((t,n)=>{const r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=e=>{const t=Em("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)})),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="}),Ev="Browser",_i(new Fr("auth",((e,t)=>{let{options:n}=t;const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:a,authDomain:o}=r.options;Tm(a&&!a.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:a,authDomain:o,clientPlatform:Ev,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:_g(Ev)},u=new Sg(r,i,s,l);return function(e,t){const n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(sg);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(u,n),u}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback(((e,t,n)=>{e.getProvider("auth-internal").initialize()}))),_i(new Fr("auth-internal",(e=>(e=>new bv(e))(Tg(e.getProvider("auth").getImmediate()))),"PRIVATE").setInstantiationMode("EXPLICIT")),xi(yv,vv,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(Ev)),xi(yv,vv,"esm2017");const kv=Ii({apiKey:"AIzaSyBqa16GX8lW9Ec72Foo4G5c-sGBioUAJ6A",authDomain:"mseals.firebaseapp.com",projectId:"mseals",storageBucket:"mseals.appspot.com",messagingSenderId:"175109089338",appId:"1:175109089338:web:afe25696397aca59baed03",measurementId:"G-DKC26RKFWS"}),Sv=(function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ci();const t=Ei(e,"auth");if(t.isInitialized())return t.getImmediate();const n=function(e,t){const n=Ei(e,"auth");if(n.isInitialized()){const e=n.getImmediate();if(Ar(n.getOptions(),null!==t&&void 0!==t?t:{}))return e;_m(e,"already-initialized")}return n.initialize({options:t})}(e,{popupRedirectResolver:gv,persistence:[Ty,ly,cy]}),r=Er("authTokenSyncURL");if(r){const e=(i=r,async e=>{const t=e&&await e.getIdTokenResult(),n=t&&((new Date).getTime()-Date.parse(t.issuedAtTime))/1e3;if(n&&n>wv)return;const r=null===t||void 0===t?void 0:t.token;_v!==r&&(_v=r,await fetch(i,{method:r?"POST":"DELETE",headers:r?{Authorization:"Bearer ".concat(r)}:{}}))});!function(e,t,n){jr(e).beforeAuthStateChanged(t,n)}(n,e,(()=>e(n.currentUser))),function(e,t,n,r){jr(e).onIdTokenChanged(t,n,r)}(n,(t=>e(t)))}var i;const s=wr("auth");s&&Dg(n,"http://".concat(s))}(kv),function(e,t){const n="string"==typeof e?e:t||"(default)",r=Ei("object"==typeof e?e:Ci(),"firestore").getImmediate({identifier:n});if(!r._initialized){const e=(e=>{const t=wr(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error("Invalid host ".concat(t," with no separate hostname and port!"));const r=parseInt(t.substring(n+1),10);return"["===t[0]?[t.substring(1,n-1),r]:[t.substring(0,n),r]})("firestore");e&&Fp(r,...e)}return r}(kv)),Tv=()=>{const[t,n]=(0,e.useState)(),[r,i]=(0,e.useState)([]),[s,a]=(0,e.useState)([]),[o,l]=(0,e.useState)(null),[u,c]=(0,e.useState)(null),[h,d]=(0,e.useState)([]),[f,p]=(0,e.useState)(""),[m,g]=(0,e.useState)(""),[y,v]=(0,e.useState)(""),[b,w]=(0,e.useState)([]),[_,E]=(0,e.useState)(-1),[k,S]=(0,e.useState)({}),[T,I]=(0,e.useState)(""),[C,x]=(0,e.useState)(""),[N,A]=(0,e.useState)([]),[P,O]=(0,e.useState)(""),[D,R]=(0,e.useState)(!1),[L,M]=(0,e.useState)(10),[j,F]=(0,e.useState)(!1);(0,e.useEffect)((()=>{const e=e=>{const t="Are you sure you want to leave? Your unsaved changes may be lost.";return e.returnValue=t,t};return window.addEventListener("beforeunload",e),()=>{window.removeEventListener("beforeunload",e)}}),[]);let U=1;(0,e.useEffect)((()=>{W(),B(),K(),z()}),[]),(0,e.useEffect)((()=>{const e=setTimeout((()=>{p(""),g("")}),5e3);return()=>{clearTimeout(e)}}),[f,m]),(0,e.useEffect)((()=>{(()=>{const e=Object.keys(localStorage).filter((e=>e.startsWith("Draw_"))).sort(((e,t)=>{const n=new Date(e.replace("Draw_",""));return new Date(t.replace("Draw_",""))-n}));A(e)})()}),[]);const V=e=>{try{const t=(new Date).toLocaleString("en-US",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",hour12:!1}),n=P||"Draw_".concat(t),r=JSON.stringify(e);localStorage.setItem(n,r),O(n),console.log("Bracket data saved locally as ".concat(n,"."))}catch(t){console.error("Error saving bracket data locally:",t.message)}},B=async()=>{try{const e=(await or.players.toArray()).filter((e=>e.availability));console.log("Available Players:",e)}catch(e){console.error("Error fetching players from the database:",e)}},z=async()=>{try{const e=(await or.players.toArray()).filter((e=>!e.availability));a(e),console.log("Unavailable Players:",e)}catch(e){console.error("Error fetching players from the database:",e)}},K=()=>{try{var e;const t=((null===(e=r[0])||void 0===e?void 0:e.matches)||[]).reduce(((e,t)=>(t.subBoxes.forEach((t=>{t.playerName&&e.push({id:t.playerId,fullName:t.playerName,handicap:t.handicap})})),e)),[]);d(t)}catch(t){console.error("Error fetching buy-back players from the database:",t)}},H=(e,t,n,r,i)=>{X((s=>{const a=[...s],o=a[e].matches[t].subBoxes[n];if("isWinner"===r&&void 0!==i){const r=a[e].matches[t].subBoxes[0===n?1:0].playerName,s=a[e].matches[t].subBoxes[1-n].isWinner;if(console.log("checking ".concat(s)),s&&S((e=>{const t={...e};return t[r]=Math.max(0,(t[r]||0)-1),console.log("Player ".concat(r," wins reverted to: ").concat(t[r])),t})),a[e].matches[t].subBoxes.forEach(((e,t)=>{t!==n&&(e.isWinner=!1,e.hasWon=!1)})),i&&e<a.length-1){const n=e+1,r=Math.floor(t/2),i=t%2,s=o.playerName;a[n].matches[r].subBoxes[i]={playerName:s,handicap:o.handicap,result:null,isWinner:!1,hasWon:!1},console.log("Moving ".concat(s," to the next round"))}}"isWinner"===r&&!i&&o.isWinner&&(o.hasWon=!1),o[r]=void 0!==i?i:"";const l=""!==a[e].matches[t].subBoxes[1-n].playerName;if("isWinner"===r&&i&&!o.hasWon&&l){const r=a[e].matches[t].subBoxes[1-n].isWinner;S((e=>{const t={...e};return r?(t[o.playerName]=Math.max(0,(t[o.playerName]||0)-1),console.log("Player ".concat(o.playerName," wins decremented to: ").concat(t[o.playerName]))):(t[o.playerName]=(t[o.playerName]||0)+1,console.log("Player ".concat(o.playerName," wins: ").concat(t[o.playerName]))),t})),o.hasWon=!0}else!i&&o.hasWon&&(o.hasWon=!1);return V(a),a}))},q=async()=>{try{const e=await or.players.toArray(),t=(new Date).toISOString().split("T")[0],n=function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=jr(e),Pp("collection","path",t),e instanceof jp){const n=Lu.fromString(t,...r);return Dp(n),new Bp(e,null,n)}{if(!(e instanceof Vp||e instanceof Bp))throw new vu(yu.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(Lu.fromString(t,...r));return Dp(n),new Bp(e.firestore,null,n)}}(Sv,"players");await Promise.all(e.map((async e=>{await fm(n,{fullName:e.fullName,handicap:e.handicap,wins:e.wins||0,totalWins:e.totalwins||0,date:t})}))),I("Result Successfully Uploaded!"),x("")}catch(e){console.error("Error uploading data to Firebase:",e.message),x("Error uploading data to Firebase. Please try again."),I("")}},W=async()=>{let e=(await or.players.toArray()).filter((e=>e.availability)).length,t=e;e>2&&e<=11?t=16:e>11&&e<=32&&(t=32);const n=Math.ceil(Math.log2(t)),r=[];for(let i=1;i<=n;i++){const e=Math.pow(2,n-i),t=[];for(let n=1;n<=e;n++){const e=Array.from({length:2},((e,t)=>({playerName:"",handicap:"",result:null,isWinner:!1})));t.push({subBoxes:e})}r.push({round:i,matches:t})}i(r)},G=async()=>{const e=await Q();if(e.length>0){var t;const n=e.filter((e=>e.availability));e.filter((e=>!e.availability));if(null===(t=r[0])||void 0===t||!t.matches.some((e=>e.subBoxes.some((e=>e.playerName))))){const e=(e=>{const t=[...e];for(let n=t.length-1;n>0;n--){const e=Math.floor(Math.random()*(n+1));[t[n],t[e]]=[t[e],t[n]]}return t})(n);i((t=>{var n;const r=[...t],i=(null===(n=r[0])||void 0===n?void 0:n.matches)||[];for(let s=0;s<Math.min(e.length,2*i.length);s++){const t=s%2;i[Math.floor(s/2)].subBoxes[t]={playerName:e[s].fullName,handicap:e[s].handicap,result:null,isWinner:!1}}for(let s=Math.min(e.length,2*i.length);s<2*i.length;s++){const e=s%2;i[Math.floor(s/2)].subBoxes[e]={playerName:"",handicap:"",result:null,isWinner:!1}}return X(r),V(r),r}))}l(null),c(null)}},Q=async()=>{try{return(await or.players.toArray()).slice(0,t)}catch(e){return console.error("Error fetching players from the database:",e),[]}};(0,e.useEffect)((()=>{console.log("Updated Bracket:",r)}),[r]);const X=e=>{w((t=>[...t.slice(0,_+1),e])),E(_+1),i(e)};return(0,lr.jsxs)("div",{className:"TournamentH",children:[(0,lr.jsx)("h2",{children:"Tournament Bracket"}),(0,lr.jsxs)("div",{className:"TournamentButtons",children:[(0,lr.jsx)("button",{onClick:()=>{G(),V()},children:"Start"}),(0,lr.jsx)("button",{onClick:K,children:"Refresh"}),(0,lr.jsx)("button",{onClick:()=>{o&&X((e=>{var t;const n=[...e],r=(null===(t=n[0])||void 0===t?void 0:t.matches)||[];if(!r.some((e=>e.subBoxes.some((e=>e.playerName===o.fullName))))){let e=!1;const t=r.map((t=>{if(!e){const n=t.subBoxes.findIndex((e=>""===e.playerName));if(-1!==n)return e=!0,console.log("Inserting Player:",o.fullName,"into Match:",t,"Sub-Box Index:",n),{...t,subBoxes:[...t.subBoxes.slice(0,n),{playerName:o.fullName,handicap:o.handicap,result:null,isWinner:!1},...t.subBoxes.slice(n+1)]}}return t}));return console.log("Updated Bracket after Insertion:",n),p("Added "),v(""),[{round:1,matches:t},...n.slice(1)]}return v("Player already added once"),V(n),n}))},children:"Late"}),(0,lr.jsxs)("select",{value:o?JSON.stringify(o):"",onChange:e=>l(JSON.parse(e.target.value)),children:[(0,lr.jsx)("option",{value:"",disabled:!0,children:"Add Late Players"}),s.map((e=>(0,lr.jsx)("option",{value:JSON.stringify(e),children:e.fullName},e.id)))]}),o&&(0,lr.jsxs)("div",{class:"LateSelect",children:[(0,lr.jsx)("div",{style:{backgroundColor:"lightgreen"},children:f}),"Selected: ",o.fullName]}),y&&(0,lr.jsx)("div",{children:y}),(0,lr.jsx)("button",{onClick:()=>{u&&X((e=>{var t;const n=[...e],r=(null===(t=n[0])||void 0===t?void 0:t.matches)||[],i=j;if(r.some((e=>e.subBoxes.some((e=>e.isWinner&&e.playerName===u.fullName)))))return v("Winner in Round 1 cannot buy back"),n;const s=r.reduce(((e,t)=>e+t.subBoxes.reduce(((e,t)=>e+(t.playerName===u.fullName?1:0)),0)),0);if(s<2){const e=r.reduce(((e,t)=>[...e,...t.subBoxes]),[]).filter((e=>!e.playerName));if(e.length>0){if(i){const t=e[0],i=r.map((e=>{const n=e.subBoxes.map((e=>e===t?{playerName:u.fullName,handicap:u.handicap,result:null,isWinner:!1}:e));return{...e,subBoxes:n}}));return g("Added "),v(""),console.log("Updated Bracket after Insertion:",n),[{round:1,matches:i},...n.slice(1)]}{const t=e[Math.floor(Math.random()*e.length)],i=r.map((e=>{const n=e.subBoxes.map((e=>e===t?{playerName:u.fullName,handicap:u.handicap,result:null,isWinner:!1}:e));return{...e,subBoxes:n}}));return g("Added "),v(""),console.log("Updated Bracket after Insertion:",n),[{round:1,matches:i},...n.slice(1)]}}v("No available sub-boxes to insert player")}else v("Player already added the allowed number of times");return V(n),n}))},children:"Buy Back"}),(0,lr.jsxs)("select",{onChange:e=>c(JSON.parse(e.target.value)),children:[(0,lr.jsx)("option",{value:"",disabled:!0,selected:!0,children:"Buy Back"}),h.map((e=>(0,lr.jsx)("option",{value:JSON.stringify(e),children:e.fullName},e.id)))]}),u&&(0,lr.jsxs)("div",{className:"BuyBackPlayerSelect",children:[(0,lr.jsx)("div",{style:{backgroundColor:"lightgreen"},children:m}),"Selected: ",u.fullName]})]}),(0,lr.jsx)("div",{className:"TournamentBracket",children:r.map(((e,t)=>(0,lr.jsxs)("div",{className:"round-".concat(t+1),children:[(0,lr.jsxs)("h2",{children:["Round ",e.round]}),e.matches.map(((e,n)=>(0,lr.jsx)("div",{className:"mainBox",children:e.subBoxes.map(((i,s)=>(0,lr.jsxs)("div",{className:"subBox player ".concat(s%2===0?"even":"odd"),children:[0===t&&(0,lr.jsx)("div",{className:"player-number-label",children:U++}),(0,lr.jsx)("input",{className:"name-input ".concat(i.playerName?"occupied":""),type:"text",value:i.playerName,readOnly:!!i.playerName,onChange:e=>H(t,n,s,"playerName",e.target.value),onClick:e=>{"lightgreen"===e.target.style.backgroundColor?e.target.style.backgroundColor="lightcoral":e.target.style.backgroundColor="lightgreen"},onDoubleClick:e=>{e.target.style.backgroundColor=""}}),(0,lr.jsx)("input",{className:"handicap-input ".concat(i.playerName?"occupied":""),type:"number",placeholder:"",value:i.handicap,readOnly:!!i.playerName,onChange:e=>H(t,n,s,"handicap",parseInt(e.target.value,10))}),(0,lr.jsx)("input",{className:"checkbox-input",type:"checkbox",checked:i.isWinner,onChange:e=>{e.target.checked?H(t,n,s,"isWinner",!0):e.preventDefault()}}),i.handicap&&t<r.length-1&&i.handicap>e.subBoxes[1-s].handicap&&(0,lr.jsxs)("span",{className:"calculated-handicap ".concat(i.playerName?"occupied":""),children:["[",Math.round(2*((i.handicap||0)-(e.subBoxes[1-s].handicap||0))/3),"]"]})]},s)))},n)))]},t)))}),(0,lr.jsxs)("div",{className:"TournamentButtons",children:[(0,lr.jsx)("button",{onClick:()=>R(!D),children:"Options"}),D&&N.length>0&&(0,lr.jsxs)("div",{children:[(0,lr.jsxs)("label",{children:[(0,lr.jsx)("input",{type:"checkbox",checked:j,onChange:()=>F(!j)}),"Click on above box to Insert BuyBack player into first available sub-box"]}),(0,lr.jsxs)("select",{onChange:e=>(e=>{try{const t=localStorage.getItem(e);if(t){const n=JSON.parse(t);X(n),console.log("Bracket data from ".concat(e," retrieved and updated."))}else console.log("No saved bracket data found for ".concat(e,"."))}catch(t){console.error("Error retrieving and updating bracket data:",t.message)}})(e.target.value),children:[(0,lr.jsx)("option",{value:"",disabled:!0,selected:!0,children:"Select Saved Bracket"}),N.slice(0,L).map((e=>(0,lr.jsx)("option",{value:e,children:e},e)))]}),N.length>L&&(0,lr.jsx)("button",{onClick:()=>{M((e=>e+10))},children:"Show More"})]}),T&&(0,lr.jsx)("div",{className:"success-message",children:T}),C&&(0,lr.jsx)("div",{className:"error-message",children:C}),(0,lr.jsx)("button",{onClick:()=>{(async()=>{try{const e=await or.players.toArray(),t={...k};await Promise.all(e.map((async e=>{const n=e.fullName;if(t.hasOwnProperty(n)){const r=parseFloat(e.totalwins)+parseFloat(t[n]);await or.players.where("id").equals(e.id).modify({wins:t[n],totalwins:isNaN(r)?0:r})}}))),console.log("Wins and Total Wins data submitted to the database"),I("Uploading Result....."),x("")}catch(e){x("Error updating Wins and Total Wins data in the database.",e.message),I(""),console.error("Error updating Wins and Total Wins data in the database:",e.message)}})(),(async()=>{try{var e;const t=await Q();await Promise.all(t.map((async e=>{await or.players.where("id").equals(e.id).modify({wins:0})}))),console.log("Wins Count:");const n={...k},i=new Set,s=Math.max(...Object.values(n)),a=Object.keys(n).filter((e=>n[e]===s)),o=await Promise.all(a.map((async e=>{const r=t.find((t=>t.fullName===e));let a=r.handicap;return 4===s?a=r.handicap-3:3===s&&(a=r.handicap-2),a=Math.max(-25,Math.min(50,a)),await or.players.where("id").equals(r.id).modify({handicap:a,wins:n[r.fullName]}),i.add(r.id),{id:r.id,fullName:e,wins:s,handicap:a}})));console.log("Players with the most wins (".concat(s,"):"),o);const l=Object.keys(n).filter((e=>n[e]===s-1)),u=await Promise.all(l.map((async e=>{const r=t.find((t=>t.fullName===e));let a=r.handicap;return 4===s?a=r.handicap-2:3===s&&(a=r.handicap-1),a=Math.max(-25,Math.min(50,a)),await or.players.where("id").equals(r.id).modify({handicap:a,wins:n[r.fullName]}),i.add(r.id),{id:r.id,fullName:e,wins:s-1,handicap:a}})));console.log("Players with ".concat(s-1," wins:"),u);const c=Object.keys(n).filter((e=>n[e]===s-2)),h=await Promise.all(c.map((async e=>{const r=t.find((t=>t.fullName===e));let a=r.handicap;return 4===s?a=r.handicap-1:3===s&&(a=r.handicap),a=Math.max(-25,Math.min(50,a)),await or.players.where("id").equals(r.id).modify({handicap:a,wins:n[r.fullName]}),i.add(r.id),{id:r.id,fullName:e,wins:s-2,handicap:a}})));console.log("Players with ".concat(s-2," wins:"),h);const d=null===(e=r[0])||void 0===e?void 0:e.matches.flatMap((e=>e.subBoxes)).map((e=>e.playerName)),f=await Promise.all(t.filter((e=>!n.hasOwnProperty(e.fullName)||0===n[e.fullName])).filter((e=>d.includes(e.fullName))).map((async e=>{if(i.has(e.id))return{id:e.id,fullName:e.fullName,wins:0,handicap:parseFloat(e.handicap)};{let t=parseFloat(e.handicap);return t=parseFloat(t)+2,t=Math.max(-25,Math.min(50,t)),await or.players.where("id").equals(e.id).modify({handicap:t,wins:n[e.fullName]}),i.add(e.id),{id:e.id,fullName:e.fullName,wins:0,handicap:t}}})));console.log("Players with no wins from round 1:",f);const p=Object.keys(n).filter((e=>n[e]>0&&n[e]<s-1)),m=await Promise.all(p.map((async e=>{const r=t.find((t=>t.fullName===e));let s=r.handicap;return s=r.handicap,s=Math.max(-25,Math.min(50,s)),await or.players.where("id").equals(r.id).modify({handicap:s,wins:n[r.fullName]}),i.add(r.id),{id:r.id,fullName:e,wins:n[r.fullName],handicap:s}})));console.log("Players between ".concat(s-2," and no wins:"),m)}catch(t){console.error("Error updating Wins and Losses data in the database:",t.message)}})(),q()},children:"Submit Results"}),(0,lr.jsx)("button",{onClick:()=>{W()},children:"Reset Draw"})]})]})},Iv=()=>{const[t,n]=(0,e.useState)([]);(0,e.useEffect)((()=>{r()}),[]);const r=async()=>{try{const e=(await or.players.toArray()).filter((e=>e.availability));e.sort(((e,t)=>(t.totalwins||0)-(e.totalwins||0)));const t=e.map(((e,t)=>({rank:t+1,name:e.fullName,handicap:e.handicap,wins:e.wins||0,totalWins:e.totalwins||0})));n(t)}catch(e){console.error("Error fetching player wins data:",e.message)}};return(0,lr.jsxs)("div",{className:"container",children:[(0,lr.jsx)("h2",{className:"heading",children:"Result"}),(0,lr.jsxs)("table",{children:[(0,lr.jsx)("thead",{children:(0,lr.jsxs)("tr",{children:[(0,lr.jsx)("th",{className:"rank"}),(0,lr.jsx)("th",{children:"Player Name"}),(0,lr.jsx)("th",{children:"Handicap"}),(0,lr.jsx)("th",{children:"Wins"}),(0,lr.jsx)("th",{children:"Total Wins"})]})}),(0,lr.jsx)("tbody",{children:t.map((e=>(0,lr.jsxs)("tr",{className:"row",children:[(0,lr.jsx)("td",{className:"cell rank",children:e.rank}),(0,lr.jsx)("td",{className:"cell name",children:e.name}),(0,lr.jsx)("td",{className:"cell handicap",children:e.handicap}),(0,lr.jsx)("td",{className:"cell win",children:e.wins}),(0,lr.jsx)("td",{className:"cell total-wins",children:e.totalWins})]},e.rank)))})]})]})},Cv=n.p+"static/media/LogoBlack.3345f82073bc9250ce69.png",xv=()=>{const[t,n]=(0,e.useState)("onsite"),[r,i]=(0,e.useState)(""),[s,a]=(0,e.useState)(!1);(0,e.useEffect)((()=>{"true"===localStorage.getItem("pinEntered")&&a(!0)}),[]);const o=e=>{if("draw"===t&&"draw"!==e){if(!window.confirm("Is the competition complete? You'll loose the generated Draw if you leave this page."))return}n(e)};return(0,lr.jsx)("div",{className:"app-container",children:s?(0,lr.jsxs)(lr.Fragment,{children:[(0,lr.jsx)("img",{src:Cv,alt:"Logo",className:"logo"}),(0,lr.jsx)("h1",{children:"MAROUBRA SEALS"}),(0,lr.jsx)("h2",{className:"mdh2",children:"Monday Draw"}),(0,lr.jsxs)("nav",{className:"navbar",children:[(0,lr.jsx)("button",{onClick:()=>o("onsite"),children:"Onsite"}),(0,lr.jsx)("button",{onClick:()=>o("available"),children:"Available"}),(0,lr.jsx)("button",{onClick:()=>o("draw"),children:"Draw"}),(0,lr.jsx)("button",{onClick:()=>o("resultPage"),children:"Result"}),(0,lr.jsx)("button",{onClick:()=>o("listPlayer"),children:"List Player"}),(0,lr.jsx)("button",{onClick:()=>o("addPlayer"),children:"Add Player"})]}),"onsite"===t&&(0,lr.jsx)(dr,{}),"available"===t&&(0,lr.jsx)(ur,{}),"draw"===t&&(0,lr.jsx)(Tv,{}),"resultPage"===t&&(0,lr.jsx)(Iv,{}),"listPlayer"===t&&(0,lr.jsx)(hr,{}),"addPlayer"===t&&(0,lr.jsx)(cr,{})]}):(0,lr.jsxs)("div",{className:"pin-input-container",children:[(0,lr.jsx)("input",{type:"password",placeholder:"Enter PIN",value:r,onChange:e=>i(e.target.value)}),(0,lr.jsx)("button",{onClick:()=>{const e="pebkod-9sucqU-pukhyq";a(r===e),r===e?localStorage.setItem("pinEntered","true"):alert("Please enter the correct PIN first.")},children:"Submit"})]})})},Nv=e=>{e&&e instanceof Function&&n.e(453).then(n.bind(n,453)).then((t=>{let{getCLS:n,getFID:r,getFCP:i,getLCP:s,getTTFB:a}=t;n(e),r(e),i(e),s(e),a(e)}))};t.createRoot(document.getElementById("root")).render((0,lr.jsx)(e.StrictMode,{children:(0,lr.jsx)(xv,{})})),Nv()})()})();
//# sourceMappingURL=main.6cd4dbb1.js.map